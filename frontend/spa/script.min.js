var BackupConfigurationController=function(t){var n=this;n.view=t};var BackupConfiguration=React.createClass({displayName:"BackupConfiguration",title:"Backup your data",ok:function(t){t&&t.preventDefault();var n=this.password.value;if(n===undefined||n===null||n===""){alert("Please, insert password");return}try{client.configurationManager.dump(n),this.emit("page/change")}catch(t){alert("Password is wrong")}},render:function(){var t=this;return React.createElement("form",{className:"kt-form",action:""},React.createElement("br",null),React.createElement("div",null,React.createElement("h2",null,"Insert your password to proceed")),React.createElement("br",null),React.createElement("div",{className:"form-group"},React.createElement("input",{className:"form-control form-control-last",type:"password",placeholder:"Password",name:"password",ref:function(n){return t.password=n}})),React.createElement("button",{className:"btn btn-brand btn-pill btn-elevate",onClick:this.ok},"OK"))}});var CreateConfigurationController=function(t){var n=this;n.view=t,n.saveWallet=function(t,n){client.userManager.fromMnemonic(t,n)}};var CreateConfiguration=React.createClass({displayName:"CreateConfiguration",title:"Create New Wallet",getInitialState:function(){return{words:ethers.utils.HDNode.entropyToMnemonic(ethers.utils.randomBytes(16)).split(" ")}},resetWords:function(t){t&&t.preventDefault();var n=this.state;n.words=ethers.utils.HDNode.entropyToMnemonic(ethers.utils.randomBytes(16)).split(" "),n.wordsOK=!1,n.passwordsOK=!1,this.setState(n)},toWords:function(t){t&&t.preventDefault();var n=this.state;n.wordsOK=!1,n.passwordsOK=!1,this.setState(n)},toCheck:function(t){t&&t.preventDefault();var n=this.state;n.wordsOK=!0,n.passwordsOK=!1,this.setState(n)},toPasswords:function(t){t&&t.preventDefault();var n=this.textarea.value.split(" ");if(n.length!==this.state.words.length){alert("Please, insert the words in the correct order");return}for(var r=0;r<n.length;r++)if(n[r]!==this.state.words[r]){alert("Please, insert the words in the correct order");return}var i=this.state;i.wordsOK=!0,i.passwordsOK=!0,this.setState(i)},check:function(t){t&&t.preventDefault();var n=this.password.value,r=this.repeatPassword.value;if(n===""||n!==r){alert("Password don't match");return}this.controller.saveWallet(this.state.words,n),this.emit("page/change")},renderWords:function(){return React.createElement("div",{className:"kt-grid__item kt-grid__item--fluid kt-grid kt-grid--ver kt-grid--stretch"},React.createElement("div",{className:"kt-container kt-body kt-grid kt-grid--ver",id:"kt_body"},React.createElement("div",{className:"kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor"},React.createElement("div",{className:"kt-content kt-grid__item kt-grid__item--fluid"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xl-12 mt-5"},React.createElement("form",{className:"kt-form",action:""},React.createElement("legend",{className:"mb-3"},"Please, copy these words and ",React.createElement("strong",{className:"text-primary"},"don’t forget them")),React.createElement("div",{className:"form-group mb-5"},React.createElement("h1",{className:"dontCopy"},this.state.words.join(" "))),React.createElement("div",{className:"kt-login__actions"},React.createElement("button",{className:"btn btn-action btn-pill btn-elevate",onClick:this.resetWords},React.createElement("i",{className:"fas fa-sync-alt text-primary mr-2"}),"Regenerate")," "," "," "," "," "," "," "," ",React.createElement("button",{id:"kt_login_signin_submit",className:"btn btn-brand btn-pill btn-elevate",onClick:this.toCheck},"Next Step")))))))))},renderCheck:function(){var t=this;return React.createElement("div",{className:"kt-grid__item kt-grid__item--fluid kt-grid kt-grid--ver kt-grid--stretch"},React.createElement("div",{className:"kt-container kt-body kt-grid kt-grid--ver",id:"kt_body"},React.createElement("div",{className:"kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor"},React.createElement("div",{className:"kt-content kt-grid__item kt-grid__item--fluid"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xl-12 mt-5"},React.createElement("form",{className:"kt-form",action:""},React.createElement("legend",{className:"mb-3"},"Please, repeat the order of the words"),React.createElement("div",{className:"form-group mb-5"},React.createElement("textarea",{className:"form-control form-control-last",ref:function(n){return t.textarea=n}})),React.createElement("div",{className:"kt-login__actions"},React.createElement("button",{className:"btn btn-secondary btn-pill btn-elevate",onClick:this.toWords},"Back")," "," "," "," "," "," "," "," ",React.createElement("button",{id:"kt_login_signin_submit",className:"btn btn-brand btn-pill btn-elevate",onClick:this.toPasswords},"Check")))))))))},renderPasswords:function(){var t=this;return React.createElement("div",{className:"kt-grid__item kt-grid__item--fluid kt-grid kt-grid--ver kt-grid--stretch"},React.createElement("div",{className:"kt-container kt-body kt-grid kt-grid--ver",id:"kt_body"},React.createElement("div",{className:"kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor"},React.createElement("div",{className:"kt-content kt-grid__item kt-grid__item--fluid"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xl-12 mt-5"},React.createElement("form",{className:"kt-form",action:""},React.createElement("legend",{className:"mb-5"},"Please, insert a password and confirm"),React.createElement("div",{className:"form-group mb-5"},React.createElement("input",{className:"form-control form-control-last",type:"password",placeholder:"Type your password",name:"password",ref:function(n){return t.password=n}})),React.createElement("div",{className:"form-group mb-5"},React.createElement("input",{className:"form-control form-control-last",type:"password",placeholder:"Confirm password",name:"password",ref:function(n){return t.repeatPassword=n}})),React.createElement("div",{className:"kt-login__actions"},React.createElement("button",{className:"btn btn-secondary btn-pill btn-elevate",onClick:this.toCheck},"Back")," "," "," "," "," "," "," "," ",React.createElement("button",{id:"kt_login_signin_submit",className:"btn btn-brand btn-pill btn-elevate",onClick:this.check},"Check")))))))))},render:function(){return React.createElement("span",null,React.createElement("p",null," "),React.createElement("p",null," "),React.createElement("div",{className:"steps kt-grid__item align-center justify-center text-center"},React.createElement("ul",{className:"list-unstyled list-inline"},React.createElement("li",{className:"list-inline-item current","aria-disabled":"false","aria-selected":"true"},React.createElement("span",{className:"number"},"copy")),React.createElement("li",{className:"list-inline-item"+(this.state.wordsOK?" current":""),"aria-disabled":"false"},React.createElement("span",{className:"number"},"repeat")),React.createElement("li",{className:"list-inline-item"+(this.state.wordsOK&&this.state.passwordsOK?" current":""),"aria-disabled":"false"},React.createElement("span",{className:"number"},"confirm")))),!this.state.wordsOK&&this.renderWords(),this.state.wordsOK&&!this.state.passwordsOK&&this.renderCheck(),this.state.wordsOK&&this.state.passwordsOK&&this.renderPasswords())}});var ImportConfigurationController=function(t){var n=this;n.view=t};var ImportConfiguration=React.createClass({displayName:"ImportConfiguration",title:"Import Configuration or Wallet",importMnemonic:function(t){t&&t.preventDefault();if(this.mnemonic.value===""){alert("Insert Mnemocim Phrase");return}if(!this.checkPassword(this.mnemonicPassword.value,this.mnemonicRetype.value))return;client.userManager.fromMnemonic(this.mnemonic.value,this.mnemonicPassword.value),this.emit("page/change")},importPrivateKey:function(t){t&&t.preventDefault();if(this.privateKey.value===""){alert("Insert Private Key");return}if(!this.checkPassword(this.privateKeyPassword.value,this.privateKeyRetype.value))return;client.userManager.fromPrivateKey(this.privateKey.value,this.privateKeyPassword.value),this.emit("page/change")},browseJSONFile:function(t){t&&t.preventDefault();var n=window.require("electron").remote.dialog.showOpenDialog({defaultPath:undefined,filters:[{name:"JSON File",extensions:["json"]}],options:{openDirectory:!1,multiSelections:!1}});if(n===undefined||n===null)return;this.setState({JSONFile:n})},importJSON:function(t){t&&t.preventDefault();if(!this.state||this.state.JSONFile===""){alert("Select a valid JSON File first");return}if(!this.checkPassword(this.JSONPassword.value,this.JSONRetype.value))return;this.emit("page/change")},checkPassword:function(t,n){return t===undefined||t===null||t===""?(alert("Please, insert password"),!1):t!==n?(alert("Password don't match"),!1):!0},browserSEEDBackupFile:function(t){t&&t.preventDefault(),client.configurationManager.import()&&this.emit("page/change")},componentDidMount:function(){var t=this;$(t.domRoot.children().find("a.nav-link").click(function(){t.domRoot.children().find("a.nav-link").removeClass("active"),$(this).addClass("active")})[0]).click()},render:function(){var t=this;return React.createElement("div",{className:"kt-content kt-grid__item kt-grid__item--fluid"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xl-12 mt-5"},React.createElement("ul",{className:"nav nav-tabs nav-tabs-line nav-tabs-bold nav-tabs-line-3x mb-5",role:"tablist"},React.createElement("li",{className:"nav-item"},React.createElement("a",{className:"nav-link","data-toggle":"tab",href:"#backup",role:"tab"},React.createElement("i",{className:"far fa-hdd mr-2"}),"Backup")),React.createElement("li",{className:"nav-item"},React.createElement("a",{className:"nav-link","data-toggle":"tab",href:"#phrase",role:"tab"},React.createElement("i",{className:"far fa-comment-dots mr-2"}),"Mnemonic phrase")),React.createElement("li",{className:"nav-item"},React.createElement("a",{className:"nav-link","data-toggle":"tab",href:"#key",role:"tab"},React.createElement("i",{className:"fas fa-key mr-2"}),"Private key"))),React.createElement("div",{className:"tab-content"},React.createElement("div",{className:"tab-pane active",id:"backup",role:"tabpanel"},React.createElement("legend",null,"Import you SEEDVenture backup"),React.createElement("div",{className:"form-group mb-5"},React.createElement("div",{className:"input-container"},React.createElement("input",{type:"file",id:"real-input",className:"form-control form-control-last"}),React.createElement("span",{className:"file-info"},"File...")),React.createElement("button",{className:"btn btn-brand btn-pill btn-elevate browse-btn",onClick:this.browserSEEDBackupFile},"Browse..."))),React.createElement("div",{className:"tab-pane",id:"phrase",role:"tabpanel"},React.createElement("form",{className:"kt-form",action:""},React.createElement("legend",null,"Insert your mnemonic phrase and password"),React.createElement("div",{className:"form-group mb-5"},React.createElement("textarea",{className:"form-control form-control-last",ref:function(n){return t.mnemonic=n}})),React.createElement("div",{className:"form-group mb-5"},React.createElement("input",{className:"form-control form-control-last",type:"password",placeholder:"Type your password",name:"password",ref:function(n){return t.mnemonicPassword=n}})),React.createElement("div",{className:"form-group mb-5"},React.createElement("input",{className:"form-control form-control-last",type:"password",placeholder:"Confirm password",name:"password",ref:function(n){return t.mnemonicRetype=n}})),React.createElement("button",{className:"btn btn-brand btn-pill btn-elevate browse-btn",onClick:this.importMnemonic},"Import"))),React.createElement("div",{className:"tab-pane",id:"key",role:"tabpanel"},React.createElement("form",{className:"kt-form",action:""},React.createElement("legend",null,"Insert your private key and password"),React.createElement("div",{className:"form-group mt-5 mb-5"},React.createElement("input",{className:"form-control form-control-last",type:"password",placeholder:"Private key",name:"password",ref:function(n){return t.privateKey=n}})),React.createElement("div",{className:"form-group mb-5"},React.createElement("input",{className:"form-control form-control-last",type:"password",placeholder:"Type your password",name:"password",ref:function(n){return t.privateKeyPassword=n}})),React.createElement("div",{className:"form-group mb-5"},React.createElement("input",{className:"form-control form-control-last",type:"password",placeholder:"Confirm password",name:"password",ref:function(n){return t.privateKeyRetype=n}})),React.createElement("button",{className:"btn btn-brand btn-pill btn-elevate browse-btn",onClick:this.importPrivateKey},"Import"))),React.createElement("div",{className:"tab-pane",id:"json",role:"tabpanel"},React.createElement("form",{className:"kt-form",action:""},React.createElement("legend",null,"Import your JSON file and type password"),React.createElement("div",{className:"input-container"},React.createElement("input",{type:"file",id:"real-input",className:"form-control form-control-last"}),React.createElement("span",{className:"file-info"},this.state&&this.state.JSONFile?this.state.JSONFile:"File...")),React.createElement("button",{className:"btn btn-brand btn-pill btn-elevate browse-btn",onClick:this.browseJSONFile},"Browse..."),React.createElement("div",{className:"form-group my-5"},React.createElement("input",{className:"form-control form-control-last",type:"password",placeholder:"Type your password",name:"password",ref:function(n){return t.JSONPassword=n}})),React.createElement("div",{className:"form-group mb-5"},React.createElement("input",{className:"form-control form-control-last",type:"password",placeholder:"Confirm password",name:"password",ref:function(n){return t.JSONRetype=n}})),React.createElement("button",{className:"btn btn-brand btn-pill btn-elevate browse-btn",onClick:this.importJSON},"Import")))))))}});var MoveConfigurationController=function(t){var n=this;n.view=t};var MoveConfiguration=React.createClass({displayName:"MoveConfiguration",title:"Move your data",ok:function(t){t&&t.preventDefault();var n=this.password.value;if(n===undefined||n===null||n===""){alert("Please, insert password");return}try{client.configurationManager.move(n),this.emit("page/change")}catch(t){alert("Password is wrong")}},render:function(){var t=this;return React.createElement("form",{className:"kt-form",action:""},React.createElement("br",null),React.createElement("div",null,React.createElement("h2",null,"Insert your password to proceed")),React.createElement("br",null),React.createElement("div",{className:"form-group"},React.createElement("input",{className:"form-control form-control-last",type:"password",placeholder:"Password",name:"password",ref:function(n){return t.password=n}})),React.createElement("button",{className:"btn btn-brand btn-pill btn-elevate",onClick:this.ok},"OK"))}});var DetailController=function(t){var n=this;n.view=t,n.updateInvestments=function(){function t(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(){var e,t,i,s,o,u,a;return regeneratorRuntime.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(client.configurationManager.hasUnlockedUser()){f.next=2;break}return f.abrupt("return");case 2:return e=n.view.props.parent||n.view.getProduct(),f.t0=parseInt,f.next=6,client.contractsManager.Token.balanceOf(e.tokenAddress,client.userManager.user.wallet);case 6:return f.t1=f.sent,t=(0,f.t0)(f.t1),f.next=10,client.contractsManager.AdminTools.isWhitelisted(e.adminsToolsAddress,client.userManager.user.wallet);case 10:i=f.sent;if(i!==!1){f.next=15;break}f.t2=undefined,f.next=20;break;case 15:return f.t3=parseInt,f.next=18,client.contractsManager.AdminTools.getMaxWLAmount(e.adminsToolsAddress,client.userManager.user.wallet);case 18:f.t4=f.sent,f.t2=(0,f.t3)(f.t4);case 20:s=f.t2,n.view.tokens&&(n.view.tokens.innerHTML=Utils.roundWei(t));try{n.view.seeds.innerHTML=Utils.roundWei(e.investors[client.userManager.user.wallet.toLowerCase()])}catch(l){}if(!n.view.whiteList){f.next=37;break}o=$(n.view.whiteList).children().find("h3");if(i!==!1){f.next=31;break}return u='<span><i class="fas fa-circle color-yellow"></i>&nbsp;You are NOT whitelisted. Start the procedure <a href="http://seedventure.io" target="_blank">here</a>',a=e.whiteListThreshold-t,a>0&&(u+=". You can still accumulate <strong>"+Utils.roundWei(a)+"</strong> "+e.symbol+" tokens"),o.html(u+".</span>"),f.abrupt("return");case 31:if(!(s<=0)){f.next=34;break}return o.html('<span><i class="fas fa-circle color-red"></i>&nbsp;You are BLACKLISTED for this Basket.</span>'),f.abrupt("return");case 34:u='<span><i class="fas fa-circle color-green"></i>&nbsp;You are correctly whitelisted',s!==undefined&&s!==null&&(u+=" for max <strong>"+Utils.roundWei(s)+"</strong> "+e.symbol+" tokens",a=s-t,a>0&&(u+=". You can still accumulate <strong>"+Utils.roundWei(a)+"</strong> "+e.symbol+" tokens")),o.html(u+".</span>");case 37:case"end":return f.stop()}},r,this)}));return t}(),n.invest=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i,s,o,u,a,f,l,c,h,p,d;return regeneratorRuntime.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:t=parseInt(web3.utils.toWei(e,"ether")),i=n.view.props.parent||n.view.getProduct(),s=parseInt(Utils.numberToString(i.totalRaised)),o=parseInt(Utils.numberToString(i.totalSupply));if(!(s+t>o)){v.next=7;break}return alert("Your investment exceedes the basket requirement"),v.abrupt("return");case 7:return v.t0=parseInt,v.next=10,client.contractsManager.seedOf(client.userManager.user.wallet);case 10:v.t1=v.sent,u=(0,v.t0)(v.t1);if(!(t>u)){v.next=15;break}return alert("You don't have enough SEEDs to invest"),v.abrupt("return");case 15:return v.t2=parseInt,v.next=18,client.contractsManager.call(contracts.Token,i.tokenAddress,"balanceOf",client.userManager.user.wallet);case 18:v.t3=v.sent,a=(0,v.t2)(v.t3),f=parseFloat(web3.utils.fromWei(Utils.numberToString(i.seedRate),"ether"))*parseFloat(e),f=parseFloat(web3.utils.toWei(Utils.numberToString(f),"ether")),l=i.whiteListThreshold;if(!(a+f>l)){v.next=37;break}return v.next=26,client.contractsManager.call(contracts.AdminTools,i.adminsToolsAddress,"isWhitelisted",client.userManager.user.wallet);case 26:if(v.sent){v.next=29;break}return alert("Your total investment amount exceeds the Whitelist threshold. You must be whitelisted to do this investment"),v.abrupt("return");case 29:return v.t4=parseInt,v.next=32,client.contractsManager.AdminTools.getMaxWLAmount(i.adminsToolsAddress,client.userManager.user.wallet);case 32:v.t5=v.sent,c=(0,v.t4)(v.t5);if(!(a+f>c)){v.next=37;break}return alert("Your total investment amount exceeds your Whitelist limit."),v.abrupt("return");case 37:return v.t6=parseInt,v.next=40,client.contractsManager.call(contracts.ERC20Seed,client.contractsManager.SEEDTokenAddress,"allowance",client.userManager.user.wallet,i.fundingPanelAddress);case 40:v.t7=v.sent,h=(0,v.t6)(v.t7),p=!1;if(!(p=t>h)){v.next=56;break}return d=t-h,v.prev=45,v.next=48,client.contractsManager.submit("Step 1 of 2 - Allow this Basket to spend "+Utils.roundWei(d)+" SEEDs for you",contracts.ERC20Seed,client.contractsManager.SEEDTokenAddress,"approve",i.fundingPanelAddress,Utils.numberToString(d));case 48:if(v.sent){v.next=50;break}return v.abrupt("return");case 50:v.next=56;break;case 52:return v.prev=52,v.t8=v["catch"](45),console.error(v.t8),v.abrupt("return");case 56:return v.prev=56,v.next=59,client.contractsManager.submit((p?"Step 2 of 2 - ":"")+"Invest "+Utils.roundWei(t)+" SEEDs in this basket",contracts.FundingPanel,i.fundingPanelAddress,"holderSendSeeds",Utils.numberToString(t));case 59:v.next=64;break;case 61:v.prev=61,v.t9=v["catch"](56),console.error(v.t9);case 64:case"end":return v.stop()}},r,this,[[45,52],[56,61]])}));return t}()};var Detail=React.createClass({displayName:"Detail",requiredModules:["spa/members"],getTitle:function(){return this.props.parent?React.createElement("span",null,"Startup of ",React.createElement("strong",null,this.props.parent.name)):this.getProduct().name},back:function(t){t&&t.preventDefault();var n=this,r=n.props.parent;this.emit("page/change",r?Detail:Products,{element:r,parent:null,fromBack:!0,view:this.props.view},function(){return r&&n.setProduct(r)})},getProduct:function(){var t=this.state&&this.state.product?this.state.product:this.props.element;t.totalRaised=0;try{Object.keys(t.investors).map(function(e){t.totalRaised+=t.investors[e]})}catch(n){}return t},getDefaultSubscriptions:function(){var t=this,n=this.getProduct().position,r={};return r["product/set"]=this.setProduct,r["fundingPanel/"+n+"/updated"]=function(e){return t.setState({product:e},t.controller.updateInvestments)},r},setProduct:function(t){var n=this;this.setState({product:t,documents:t.documents},function(){n.forceUpdate(),setTimeout(function(){return n.setState({product:t},function(){return n.updateGui()})})})},updateNavLinks:function(){this.domRoot.children().find(".active").removeClass("active"),this.domRoot.children().find("a.nav-link").click(function(){$($(this).parents(".nav-tabs")).children().find("a.nav-link").removeClass("active"),$(this).addClass("active")}),this.domRoot.children().find("ul.nav-tabs").children("li.nav-item:first-of-type").children("a.nav-link").click(),this.props.fromBack===!0&&this.domRoot.children().find("ul.nav-tabs:first-of-type").first().children("li.nav-item:last-of-type").children("a.nav-link").click()},updateGui:function(){this.updateNavLinks(),this.updateProgressBar()},componentDidUpdate:function(){this.updateProgressBar()},updateProgressBar:function(){if(this.props.parent||!this.progressBar)return;var t=this.getProduct(),n=parseInt(Utils.numberToString(t.totalSupply));isNaN(n)&&(n=0);var r=parseInt(Utils.numberToString(t.totalRaised));isNaN(r)&&(r=0);var i=parseFloat((r/n*100).toFixed(2));r=Utils.roundWei(r),n=Utils.roundWei(n),this.progressBar.attr("aria-valuenow",i).css("width",i+"%").css("color",i>6?"white":"black").html(r+" of "+n+" SEEDs raised")},componentDidMount:function(){this.updateGui();var t=this;this.setState({documents:this.getProduct().documents},this.controller.updateInvestments)},cleanNumber:function(t){var n=t.value.split(" ").join("").split(Utils.dozensSeparator).join("");if(n.indexOf(".")!==-1){var r=n.split(Utils.decimalsSeparator),i=r.pop();n=r.join("")+"."+i}return n},parseNumber:function(t,n){t&&t.preventDefault();var r=this,i=t.target;this.localeTimeout&&clearTimeout(this.localeTimeout),this.localeTimeout=setTimeout(function(){try{var e=r.cleanNumber(i);e=parseFloat(e);if(isNaN(e)){i.value="",n&&n();return}e=e.toLocaleString(e),i.value=e,n&&n()}catch(t){console.error(t)}},900)},onInvestChange:function(t){this.parseNumber(t,this.investChanged)},investChanged:function(){var t=parseFloat(this.cleanNumber(this.investment));if(isNaN(t)){this.forYou.innerHTML="0.00";return}var n=this.getProduct(),r=parseFloat(web3.utils.fromWei(Utils.numberToString(n.seedRate)),"ether")*t;this.forYou.innerHTML=Utils.roundWei(web3.utils.toWei(Utils.numberToString(r),"ether"))},ok:function(t){t&&t.preventDefault();var n=0,r;try{n=this.cleanNumber(this.investment),r=parseFloat(n)}catch(t){}if(isNaN(r)||r<=0){alert("Investment must be a number greater than zero");return}this.controller.invest(n)},render:function(){var t=this,n=this.getProduct(),r="";try{r=$.base64.decode(n.description)}catch(i){}var s=document.createElement("p");s.innerHTML=r,s.innerText.split(" ").join("").trim()===""&&(r=undefined);var o=!1;try{o=n.totalRaised>=n.totalSupply}catch(i){}return React.createElement("div",{className:"kt-content kt-grid__item kt-grid__item--fluid"},o===!0&&React.createElement("h2",null,"This Basked has reached its goal!"),!this.props.parent&&React.createElement("div",{className:"progress"},React.createElement("div",{className:"progress-bar",role:"progressbar",ref:function(n){return t.progressBar=$(n)},"aria-valuenow":"25","aria-valuemin":"0","aria-valuemax":"100"},"25%")),o!==!0&&!client.configurationManager.hasUnlockedUser()&&React.createElement("div",{className:"investments"},React.createElement("h3",null,"To invest in this Basket you need to ",React.createElement("a",{href:"#",onClick:function(){return t.emit("page/change",CreateConfiguration)}},"create a new wallet")," or ",React.createElement("a",{href:"#",onClick:function(){return t.emit("page/change",ImportConfiguration)}},"import an existing one"))),client.configurationManager.hasUnlockedUser()&&React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},React.createElement("h3",null,"You already invested ",React.createElement("strong",null,React.createElement("span",{ref:function(n){return t.seeds=n}},"0.00")," SEEDS")," in this Basket and actually hold ",React.createElement("strong",null,React.createElement("span",{ref:function(n){return t.tokens=n}},"0.00")," ",n.symbol)," tokens."))),o!==!0&&client.configurationManager.hasUnlockedUser()&&React.createElement("div",{className:"row",ref:function(n){return t.whiteList=n}},React.createElement("div",{className:"col-md-12"},React.createElement("br",null),React.createElement("h3",null))),!this.props.parent&&client.configurationManager.hasUnlockedUser()&&o!==!0&&React.createElement("form",{className:"kt-form",action:""},React.createElement("br",null),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-1"},React.createElement("h3",null,"Invest")),React.createElement("div",{className:"col-md-3"},React.createElement("div",{className:"form-group"},React.createElement("input",{className:"form-control form-control-last",type:"text",onChange:this.onInvestChange,placeholder:"0.00",ref:function(n){return t.investment=n}}))),React.createElement("div",{className:"col-md-6"},React.createElement("h3",null,"SEEDS and will receive ",React.createElement("strong",{ref:function(n){return t.forYou=n}},"0.00")," ",n.symbol," tokens.")),React.createElement("div",{className:"col-md-1"},React.createElement("button",{className:"btn btn-brand btn-pill",onClick:this.ok},"Invest")))),React.createElement("br",null),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xl-12 mt-5"},React.createElement("ul",{className:"nav nav-tabs nav-tabs-line nav-tabs-bold nav-tabs-line-3x mb-5",role:"tablist"},React.createElement("li",{className:"nav-item"},React.createElement("a",{className:"nav-link","data-toggle":"tab",href:"#main-data",role:"tab"},React.createElement("i",{className:"fa fa-info-circle mr-2"}),"Main Info")),!this.props.parent&&React.createElement("li",{className:"nav-item"},React.createElement("a",{className:"nav-link","data-toggle":"tab",href:"#economic-data",role:"tab"},React.createElement("i",{className:"fas fa-coins mr-2"}),"Economic Info")),!this.props.parent&&React.createElement("li",{className:"nav-item"},React.createElement("a",{className:"nav-link","data-toggle":"tab",href:"#members",role:"tab"},React.createElement("i",{className:"fas fa-rocket mr-2"}),"Startups"))),React.createElement("div",{className:"tab-content"},React.createElement("div",{className:"tab-pane",id:"main-data",role:"tabpanel"},React.createElement("form",{className:"kt-form",action:""},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-2"},React.createElement("h4",null,"Name"),React.createElement("p",{className:"small"},"of the ",this.props.parent&&"Startup"||"Incubator")),React.createElement("div",{className:"col-md-10"},React.createElement("h2",null,n.name))),React.createElement("br",null),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-2"},React.createElement("h4",null,"Description"),React.createElement("p",{className:"small"},"of the ",this.props.parent&&"Startup"||"Incubator")),React.createElement("div",{className:"col-md-10"},r?React.createElement("p",{className:"description",ref:function(t){return t&&(t.innerHTML=r)}}):"None")),React.createElement("br",null),React.createElement("br",null),!this.props.parent&&React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-2"},React.createElement("h4",null,"Symbol"),React.createElement("p",{className:"small"},"of the token")),React.createElement("div",{className:"col-md-10"},React.createElement("h2",null,n.symbol))),React.createElement("br",null),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-2"},React.createElement("h4",null,"Wallet"+(this.props.parent?"":" on top")),React.createElement("p",{className:"small"},"The Ethereum wallet which will "+(this.props.parent?"store the unlocked":"raise the")+" funds")),React.createElement("div",{className:"col-md-10"},React.createElement("h2",null,React.createElement("a",{href:ecosystemData.etherscanURL+"address/"+(this.props.parent?n.address:n.walletOnTop),target:"_blank"},this.props.parent?n.address:n.walletOnTop)))),React.createElement("br",null),React.createElement("br",null),this.state&&this.state.documents&&this.state.documents.length>0&&[React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},React.createElement("h3",null,"Documents"),React.createElement("p",{className:"small"},"useful to enrich the description of the business model"))),React.createElement("br",null),React.createElement("br",null),React.createElement("div",null,this.state.documents.map(function(e,t){return React.createElement("div",{key:"document_"+t,className:"row"},React.createElement("div",{className:"col-md-2"}," "),React.createElement("div",{className:"col-md-10"},React.createElement("h2",null,React.createElement("a",{href:e.link,target:"_blank"},e.name))))})),React.createElement("br",null),React.createElement("br",null)],React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-2"},React.createElement("h4",null,"URL"),React.createElement("p",{className:"small"},"The website of the ",this.props.parent?"Startup":"Incubator")),React.createElement("div",{className:"col-md-10"},!n.url&&React.createElement("h2",null,"None"),n.url&&React.createElement("a",{href:n.url,target:"_target"},n.url))),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-2"},React.createElement("h4",null,"Logo"),React.createElement("p",{className:"small"},"of the ",this.props.parent?"Startup":"Incubator")),React.createElement("div",{className:"col-md-10"},!n.image&&React.createElement("h2",null,"None"),n.image&&React.createElement("img",{width:"100",height:"100",ref:function(n){return t.image=$(n)},src:n.image?"data:image/png;base64, "+n.image:""}))),!this.props.parent&&React.createElement("br",null),!this.props.parent&&React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-2"},React.createElement("h4",null,"Tags"),React.createElement("p",{className:"small"},"useful for searches by the investor")),React.createElement("div",{className:"col-md-10"},!n.tags&&React.createElement("h2",null,"None"),n.tags&&React.createElement("h2",null,n.tags.join(" ")))),React.createElement("br",null),React.createElement("br",null))),!this.props.parent&&React.createElement("div",{className:"tab-pane",id:"economic-data",role:"tabpanel"},React.createElement("form",{className:"kt-form",action:""},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"Exchange Rate"),React.createElement("p",{className:"small"},"the amount of ",n.symbol," tokens the investor will receive for every invested SEED")),React.createElement("div",{className:"col-md-8"},React.createElement("h2",null,Utils.roundWei(n.seedRate)," ",n.symbol))),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"Exchange Rate On Top"),React.createElement("p",{className:"small"},"the amount of ",n.symbol," tokens the incubator will receive for every invested SEED")),React.createElement("div",{className:"col-md-8"},React.createElement("h2",null,Utils.roundWei(n.exchangeRateOnTop)," ",n.symbol))),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"Total Supply"),React.createElement("p",{className:"small"},"The amount of SEED tokens this basket needs to raise")),React.createElement("div",{className:"col-md-8"},React.createElement("h2",null,Utils.roundWei(n.totalSupply)," SEED"))),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"White List Threshold Balance"),React.createElement("p",{className:"small"},"the maximum amount of ",n.symbol," tokens that each investor can accumulate without the need of whitelisting")),React.createElement("div",{className:"col-md-8"},React.createElement("h2",null,Utils.roundWei(n.whiteListThreshold)," ",n.symbol))))),!this.props.parent&&React.createElement("div",{className:"tab-pane",id:"members",role:"tabpanel"},React.createElement(Members,{element:n,view:this.props.view}))))))}});var CreateFundingPoolController=function(t){var n=this;n.view=t,n.urlRegex=new RegExp(/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})/gi),n.deployBasket=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i,s,o,u;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n.view.emit("loader/show","","Uploading to IPFS..."),t=e&&e.documents;if(!(t&&t.length>0)){a.next=15;break}i=0;case 4:if(!(i<t.length)){a.next=15;break}s=t[i];if(s.link.indexOf("http")!==0){a.next=8;break}return a.abrupt("continue",12);case 8:return a.next=10,client.ipfsManager.uploadFile(s.link);case 10:o=a.sent,t[i].link=ecosystemData.ipfsUrlTemplate+o;case 12:i++,a.next=4;break;case 15:return s={name:e.name,description:e.description,url:e.url,image:e.image,documents:t,tags:e.tags},a.next=18,client.ipfsManager.uploadDocument(s);case 18:return o=a.sent,n.view.emit("loader/hide"),a.next=22,client.contractsManager.Factory.deployPanelContracts(ecosystemData.factoryAddress,e.name,e.symbol,ecosystemData.ipfsUrlTemplate+o,web3.utils.soliditySha3(JSON.stringify(s)),web3.utils.toWei(""+e.seedRate,"ether"),web3.utils.toWei(""+e.exchangeRateOnTop,"ether"),parseInt(e.totalSupply),parseInt(e.whiteListThreshold));case 22:u=a.sent,u&&setTimeout(function(){return n.view.emit("page/change",Products,{view:"mine"})},700);case 24:case"end":return a.stop()}},r,this)}));return t}(),n.deployMember=function(){function t(t,n){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e,t){var i,s,o,u,a,f,l;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:c.prev=0,c.t0=regeneratorRuntime.keys(t.members);case 2:if((c.t1=c.t0()).done){c.next=9;break}i=c.t1.value;if(e.walletAddress.toLowerCase()!==t.members[i].address.toLowerCase()){c.next=7;break}return alert("The wallet your are using is already associated to another Startup of this basket"),c.abrupt("return");case 7:c.next=2;break;case 9:c.next=13;break;case 11:c.prev=11,c.t2=c["catch"](0);case 13:return s=new web3.eth.Contract(contracts.AdminTools),o=s.methods.isFundingOperator(client.userManager.user.wallet),c.next=17,client.blockchainManager.call(t.adminsToolsAddress,o.encodeABI());case 17:u=c.sent;try{u=web3.eth.abi.decodeParameters(["bool"],u)[0]}catch(h){u=!1}if(u===!0){c.next=22;break}return alert("Your user is not able to do this operation"),c.abrupt("return");case 22:return n.view.emit("loader/show","","Uploading to IPFS..."),a={name:e.name,description:e.description,url:e.url,image:e.image,documents:e.documents},c.next=26,client.ipfsManager.uploadDocument(a);case 26:return f=c.sent,n.view.emit("loader/hide"),c.next=30,client.contractsManager.FundingPanel.addMemberToSet(t.fundingPanelAddress,e.walletAddress,0,ecosystemData.ipfsUrlTemplate+f,web3.utils.soliditySha3(JSON.stringify(a)));case 30:l=c.sent,l&&n.view.back();case 32:case"end":return c.stop()}},r,this,[[0,11]])}));return t}()};var CreateFundingPool=React.createClass({displayName:"CreateFundingPool",requiredScripts:["assets/plugins/summernote/summernote.min.js","assets/plugins/summernote/summernote.css"],getTitle:function(){return this.props.parent?React.createElement("span",null,"Create new Startup for the Basket ",React.createElement("strong",null,this.props.parent.name)):"Create Basket"},back:function(t){t&&t.preventDefault();var n=this,r=n.props.parent;this.emit("page/change",r?this.props.view==="mine"?EditFundingPool:Detail:Products,{element:r,parent:null,fromBack:!0,view:this.props.view},function(){return r&&n.setProduct(r)})},setProduct:function(t){var n=this;this.setState({product:t},function(){n.forceUpdate(),setTimeout(function(){return n.setState({product:t})})})},deploy:function(t){t&&t.preventDefault();var n="";try{n=this.image.attr("src").split("data:image/png;base64, ").join("")}catch(r){}var i="";try{i=this.name.value.split(" ").join("")}catch(r){}if(i===""){var s="Please insert the name of the new ",o=this.props.parent?"Startup":"Basket";alert(s+o);return}var u="";try{u=this.url.value.split(" ").join("").toLowerCase()}catch(r){}if(u!==""){if(u.indexOf("http://")!==0&&u.indexOf("https://")!==0){alert("URL must start with http:// or https://");return}if(!u.match(this.controller.urlRegex)){alert("Wrong URL");return}}var a=[];try{var f=this.tags.value.split(" ");for(var l in f){var c=f[l].split(" ").join("");c.length>0&&a.push(c)}}catch(r){}var h="";try{h=this.symbol.value.split(" ").join("")}catch(r){}if(!this.props.parent&&h===""){alert("Symbol is mandatory");return}var p=0;try{p=parseFloat(this.cleanNumber(this.seedRate))}catch(r){}if(!this.props.parent&&(isNaN(p)||p<0)){alert("SEED Rate is a mandatory positive number or zero");return}var d=0;try{d=parseFloat(this.cleanNumber(this.exchangeRateOnTop))}catch(r){}if(!this.props.parent&&(isNaN(d)||d<0)){alert("Exchange Rate is a mandatory positive number or zero");return}var v=0;try{v=parseInt(this.cleanNumber(this.whiteListThreshold))}catch(r){}if(!this.props.parent&&(isNaN(v)||d<0)){alert("WhiteList Threshold Balance is a mandatory positive number or zero");return}var m=0;try{m=parseInt(this.cleanNumber(this.totalSupply))}catch(r){}if(!this.props.parent&&(isNaN(m)||m<0)){alert("Total Supply is a mandatory positive number or zero");return}var g="";try{g=this.walletAddress.value.split(" ").join("")}catch(r){}if(this.props.parent&&!Utils.isEthereumAddress(g)){alert("Wallet address is mandatory");return}var y={name:i,description:$.base64.encode(this.description.summernote("code")),url:u,image:n,tags:a,documents:this.state&&this.state.documents||[],symbol:h,seedRate:p,exchangeRateOnTop:d,whiteListThreshold:v,totalSupply:m,walletAddress:g},b=this.props.parent?"Member":"Basket";this.controller["deploy"+b](y,this.props.parent)},loadImage:function(t){t&&t.preventDefault();var n=require("electron").remote.dialog.showOpenDialog({defaultPath:undefined,filters:[{name:"Image logo",extensions:["png","jpg","jpeg","bmp"]}]});if(n){var r=require("electron").remote.require("fs").readFileSync(n[0]).toString("base64");r="data:image/png;base64, "+r,this.image.attr("src",r)}},deleteImage:function(t){t&&t.preventDefault(),this.image.attr("src","")},addDocument:function(t){t&&t.preventDefault();var n=this.documentName.value;if(n.split(" ").join("")===""){alert("Name is mandatory");return}var r=this.documentLink.value;if(r.indexOf("http://")===-1&&r.indexOf("https://")===-1&&!window.require("electron").remote.require("fs").existsSync(r)){alert("Link must be an existing file or start with http:// or https://");return}var i=this.state&&this.state.documents||[];i.push({name:n,link:r}),this.documentName.value="",this.documentLink.value="",this.setState({documents:i})},browseLocalDocument:function(t){t&&t.preventDefault();var n=undefined;n=window.require("electron").remote.dialog.showOpenDialog({defaultPath:undefined,options:{openDirectory:!1,multiSelections:!1}}),n&&(this.documentLink.value=n)},deleteDocument:function(t,n){n&&n.preventDefault();var r=this.state.documents,i=r[t];r.splice(t,1);var s=this;this.setState({documents:r},function(){s.documentName.value=i.name,s.documentLink.value=i.link})},cleanNumber:function(t){var n=t.value.split(" ").join("").split(Utils.dozensSeparator).join("");if(n.indexOf(".")!==-1){var r=n.split(Utils.decimalsSeparator),i=r.pop();n=r.join("")+"."+i}return n},parseNumber:function(t){t&&t.preventDefault();var n=this,r=t.target;this.localeTimeout&&clearTimeout(this.localeTimeout),this.localeTimeout=setTimeout(function(){try{var e=n.cleanNumber(r);e=parseFloat(e);if(isNaN(e)){r.value="";return}e=e.toLocaleString(e),r.value=e}catch(t){console.error(t)}},900)},onSymbolChange:function(t){t&&t.preventDefault();var n=this,r=t.target;this.symbolTimeout&&clearTimeout(this.symbolTimeout),this.symbolTimeout=setTimeout(function(){try{n.domRoot.children().find(".basketName").html(r.value||"basket")}catch(e){}},450)},render:function(){var t=this;return React.createElement("form",{className:"kt-form",action:"#"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-2"},React.createElement("h4",null,"Name"),React.createElement("p",{className:"small"},"of the ",this.props.parent&&"Startup"||"Incubator")),React.createElement("div",{className:"col-md-10 form-group"},React.createElement("input",{className:"form-control form-control-last",type:"text",ref:function(n){return t.name=n}}))),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-2"},React.createElement("h4",null,"Description"),React.createElement("p",{className:"small"},"of the ",this.props.parent&&"Startup"||"Incubator")),React.createElement("div",{className:"col-md-10 editor"},React.createElement("div",{ref:function(n){return n&&(t.description=$(n)).summernote({minHeight:350,disableResizeEditor:!0})}}))),React.createElement("br",null),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},React.createElement("h3",null,"Documents"),React.createElement("p",{className:"small"},"useful to enrich the description of the business model"))),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"}," "),React.createElement("div",{className:"col-md-2"},React.createElement("input",{className:"form-control form-control-last",type:"text",placeholder:"Name",ref:function(n){return t.documentName=n}})),React.createElement("div",{className:"col-md-3"},React.createElement("input",{className:"form-control form-control-last",type:"text",placeholder:"Link must start with http:// or https://...",ref:function(n){return t.documentLink=n}})),React.createElement("div",{className:"col-md-3"},React.createElement("button",{type:"button",className:"btn btn-secondary btn-pill tiny",onClick:this.browseLocalDocument},"Browse from PC")," "," "," ",React.createElement("button",{type:"button",className:"btn btn-brand btn-pill tiny",onClick:this.addDocument},"Add"))),React.createElement("br",null),React.createElement("br",null),this.state&&this.state.documents&&this.state.documents.map(function(e,n){return React.createElement("div",{key:"document_"+n,className:"row"},React.createElement("div",{className:"col-md-4"}," "),React.createElement("div",{className:"col-md-2"},React.createElement("span",null,e.name)),React.createElement("div",{className:"col-md-3"},e.link.indexOf("http")!==0&&React.createElement("span",null,e.link.length>30?e.link.substring(0,30)+"...":e.link),e.link.indexOf("http")===0&&React.createElement("a",{href:e.link,target:"_blank"},e.link.length>30?e.link.substring(0,30)+"...":e.link)),React.createElement("div",{className:"col-md-3"},React.createElement("h3",null,React.createElement("a",{href:"javascript:;",onClick:function(r){return t.deleteDocument(n,r)}},React.createElement("i",{className:"fas fa-remove"})))))}),React.createElement("br",null),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"URL"),React.createElement("p",{className:"small"},"The website of the ",this.props.parent?"Startup":"Incubator")),React.createElement("div",{className:"col-md-8 form-group"},React.createElement("input",{className:"form-control form-control-last",type:"text",placeholder:"Link must start with http:// or https://",ref:function(n){return t.url=n}}))),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"Logo"),React.createElement("p",{className:"small"},"of the ",this.props.parent?"Startup":"Incubator")),React.createElement("div",{className:"col-md-8 form-group"},React.createElement("a",{href:"javascript:;",onClick:this.loadImage},React.createElement("img",{width:"100",height:"100",ref:function(n){return t.image=$(n)}}))," "," "," "," ",React.createElement("a",{href:"javascript:;",onClick:this.deleteImage},React.createElement("i",{className:"fas fa-remove"})))),!this.props.parent&&React.createElement("br",null),!this.props.parent&&React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"Tags"),React.createElement("p",{className:"small"},"useful for searches by the investor")),React.createElement("div",{className:"col-md-8 form-group"},React.createElement("input",{className:"form-control form-control-last",type:"text",ref:function(n){return t.tags=n}}))),!this.props.parent&&React.createElement("br",null),!this.props.parent&&React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"Symbol"),React.createElement("p",{className:"small"},"of the new token you will mint")),React.createElement("div",{className:"col-md-8 form-group"},React.createElement("input",{className:"form-control form-control-last",type:"text",ref:function(n){return t.symbol=n},onChange:this.onSymbolChange}))),!this.props.parent&&React.createElement("br",null),!this.props.parent&&React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"Exchange Rate"),React.createElement("p",{className:"small"},"the amount of ",React.createElement("strong",{className:"basketName"},"basket")," tokens the investor will receive for every invested SEED")),React.createElement("div",{className:"col-md-8 form-group"},React.createElement("input",{className:"form-control form-control-last",type:"text",ref:function(n){return t.seedRate=n},onChange:this.parseNumber}))),!this.props.parent&&React.createElement("br",null),!this.props.parent&&React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"Exchange Rate on top"),React.createElement("p",{className:"small"},"the amount of ",React.createElement("strong",{className:"basketName"},"basket")," tokens the incubator will receive for every invested SEED")),React.createElement("div",{className:"col-md-8 form-group"},React.createElement("input",{className:"form-control form-control-last",type:"text",ref:function(n){return t.exchangeRateOnTop=n},onChange:this.parseNumber}))),!this.props.parent&&React.createElement("br",null),!this.props.parent&&React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"Total Supply"),React.createElement("p",{className:"small"},"The amount of SEED tokens this basket needs to raise")),React.createElement("div",{className:"col-md-8 form-group"},React.createElement("input",{className:"form-control form-control-last",type:"text",ref:function(n){return t.totalSupply=n},onChange:this.parseNumber}))),!this.props.parent&&React.createElement("br",null),!this.props.parent&&React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"Whitelist Threshold Balance"),React.createElement("p",{className:"small"},"the maximum amount of ",React.createElement("strong",{className:"basketName"},"basket")," tokens that each investor can accumulate without the need of whitelisting")),React.createElement("div",{className:"col-md-8 form-group"},React.createElement("input",{className:"form-control form-control-last",type:"text",ref:function(n){return t.whiteListThreshold=n},onChange:this.parseNumber}))),this.props.parent&&React.createElement("br",null),this.props.parent&&React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"Wallet Address"),React.createElement("p",{className:"small"},"The one used by the Startup to raise the unlocked funds")),React.createElement("div",{className:"col-md-8 form-group"},React.createElement("input",{className:"form-control form-control-last",type:"address",ref:function(n){return t.walletAddress=n}}))),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},React.createElement("button",{type:"button",className:"btn btn-brand btn-pill",onClick:this.deploy},"DEPLOY"))),React.createElement("br",null),React.createElement("br",null))}});var EditFundingPoolController=function(t){var n=this;n.view=t,n.urlRegex=new RegExp(/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})/gi),n.sendTransactionTo=function(){function t(t,n){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e,t){var i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return n.view.emit("loader/hide"),s.next=3,client.userManager.signTransaction(e,t);case 3:return i=s.sent,s.abrupt("return",client.blockchainManager.sendSignedTransaction(i));case 5:case"end":return s.stop()}},r,this)}));return t}(),n.sendTransactionToFundingPanel=function(t){return n.sendTransactionTo(n.view.getProduct().fundingPanelAddress,t)},n.saveDoc=function(){function t(t,n){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e,t){var i,s,o,u,a,f,l,c,h;return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:n.view.emit("loader/show","","Uploading to IPFS..."),i=e&&e.documents;if(!(i&&i.length>0)){p.next=15;break}s=0;case 4:if(!(s<i.length)){p.next=15;break}o=i[s];if(o.link.indexOf("http")!==0){p.next=8;break}return p.abrupt("continue",12);case 8:return p.next=10,client.ipfsManager.uploadFile(o.link);case 10:u=p.sent,i[s].link=ecosystemData.ipfsUrlTemplate+u;case 12:s++,p.next=4;break;case 15:return o={name:e.name,description:e.description,url:e.url,image:e.image,documents:i,tags:e.tags},p.next=18,client.ipfsManager.uploadDocument(o);case 18:return u=p.sent,a=ecosystemData.ipfsUrlTemplate+u,f=new web3.eth.Contract(contracts.FundingPanel),l=f.methods.setOwnerData(a,web3.utils.soliditySha3(JSON.stringify(o))),c=n.view.getProduct().fundingPanelAddress,t===!0&&(l=f.methods.changeMemberData(n.view.getProduct().address,a,web3.utils.soliditySha3(JSON.stringify(o))),c=n.view.props.parent.fundingPanelAddress),p.next=26,n.sendTransactionTo(c,l.encodeABI());case 26:h=p.sent,h&&n.view.back();case 28:case"end":return p.stop()}},r,this)}));return t}(),n.updateSeedRate=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=new web3.eth.Contract(contracts.FundingPanel),i=t.methods.changeTokenExchangeRate(e),s.next=4,n.sendTransactionToFundingPanel(i.encodeABI());case 4:case"end":return s.stop()}},r,this)}));return t}(),n.updateExchangeRate=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=new web3.eth.Contract(contracts.FundingPanel),i=t.methods.changeTokenExchangeOnTopRate(e),s.next=4,n.sendTransactionToFundingPanel(i.encodeABI());case 4:case"end":return s.stop()}},r,this)}));return t}(),n.updateWhiteListThreshold=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=new web3.eth.Contract(contracts.AdminTools),i=t.methods.setNewThreshold(e),s.next=4,n.sendTransactionToFundingPanel(i.encodeABI());case 4:case"end":return s.stop()}},r,this)}));return t}(),n.updateTotalSupply=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=new web3.eth.Contract(contracts.FundingPanel),i=t.methods.setNewSeedMaxSupply(e),s.next=4,n.sendTransactionToFundingPanel(i.encodeABI());case 4:case"end":return s.stop()}},r,this)}));return t}(),n.grantFundingManager=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=new web3.eth.Contract(contracts.AdminTools),i=t.methods.addFundingManagers(e),s.next=4,n.sendTransactionTo(n.view.getProduct().adminsToolsAddress,i.encodeABI());case 4:return s.abrupt("return",s.sent);case 5:case"end":return s.stop()}},r,this)}));return t}(),n.denyFundingManager=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=new web3.eth.Contract(contracts.AdminTools),i=t.methods.removeFundingManagers(e),s.next=4,n.sendTransactionTo(n.view.getProduct().adminsToolsAddress,i.encodeABI());case 4:return s.abrupt("return",s.sent);case 5:case"end":return s.stop()}},r,this)}));return t}(),n.verifyFundingManager=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i,s;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=new web3.eth.Contract(contracts.AdminTools),i=t.methods.isFundingManager(e),o.next=4,client.blockchainManager.call(n.view.getProduct().adminsToolsAddress,i.encodeABI());case 4:s=o.sent;try{s=web3.eth.abi.decodeParameters(["bool"],s)}catch(u){s=!1}return o.abrupt("return",s[0]===!0?"YES":"NO");case 7:case"end":return o.stop()}},r,this)}));return t}(),n.grantFundingOperator=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=new web3.eth.Contract(contracts.AdminTools),i=t.methods.addFundingOperators(e),s.next=4,n.sendTransactionTo(n.view.getProduct().adminsToolsAddress,i.encodeABI());case 4:return s.abrupt("return",s.sent);case 5:case"end":return s.stop()}},r,this)}));return t}(),n.denyFundingOperator=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=new web3.eth.Contract(contracts.AdminTools),i=t.methods.removeFundingOperators(e),s.next=4,n.sendTransactionTo(n.view.getProduct().adminsToolsAddress,i.encodeABI());case 4:return s.abrupt("return",s.sent);case 5:case"end":return s.stop()}},r,this)}));return t}(),n.verifyFundingOperator=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i,s;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=new web3.eth.Contract(contracts.AdminTools),i=t.methods.isFundingOperator(e),o.next=4,client.blockchainManager.call(n.view.getProduct().adminsToolsAddress,i.encodeABI());case 4:s=o.sent;try{s=web3.eth.abi.decodeParameters(["bool"],s)}catch(u){s=!1}return o.abrupt("return",s[0]===!0?"YES":"NO");case 7:case"end":return o.stop()}},r,this)}));return t}(),n.grantFundsUnlockManager=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=new web3.eth.Contract(contracts.AdminTools),i=t.methods.addFundsUnlockerManagers(e),s.next=4,n.sendTransactionTo(n.view.getProduct().adminsToolsAddress,i.encodeABI());case 4:return s.abrupt("return",s.sent);case 5:case"end":return s.stop()}},r,this)}));return t}(),n.denyFundsUnlockManager=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=new web3.eth.Contract(contracts.AdminTools),i=t.methods.removeFundsUnlockerManagers(e),s.next=4,n.sendTransactionTo(n.view.getProduct().adminsToolsAddress,i.encodeABI());case 4:return s.abrupt("return",s.sent);case 5:case"end":return s.stop()}},r,this)}));return t}(),n.verifyFundsUnlockManager=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i,s;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=new web3.eth.Contract(contracts.AdminTools),i=t.methods.isFundsUnlockerManager(e),o.next=4,client.blockchainManager.call(n.view.getProduct().adminsToolsAddress,i.encodeABI());case 4:s=o.sent;try{s=web3.eth.abi.decodeParameters(["bool"],s)}catch(u){s=!1}return o.abrupt("return",s[0]===!0?"YES":"NO");case 7:case"end":return o.stop()}},r,this)}));return t}(),n.grantFundsUnlockOperator=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=new web3.eth.Contract(contracts.AdminTools),i=t.methods.addFundsUnlockerOperators(e),s.next=4,n.sendTransactionTo(n.view.getProduct().adminsToolsAddress,i.encodeABI());case 4:return s.abrupt("return",s.sent);case 5:case"end":return s.stop()}},r,this)}));return t}(),n.denyFundsUnlockOperator=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=new web3.eth.Contract(contracts.AdminTools),i=t.methods.removeFundsUnlockerOperators(e),s.next=4,n.sendTransactionTo(n.view.getProduct().adminsToolsAddress,i.encodeABI());case 4:return s.abrupt("return",s.sent);case 5:case"end":return s.stop()}},r,this)}));return t}(),n.verifyFundsUnlockOperator=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i,s;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=new web3.eth.Contract(contracts.AdminTools),i=t.methods.isFundsUnlockerOperator(e),o.next=4,client.blockchainManager.call(n.view.getProduct().adminsToolsAddress,i.encodeABI());case 4:s=o.sent;try{s=web3.eth.abi.decodeParameters(["bool"],s)}catch(u){s=!1}return o.abrupt("return",s[0]===!0?"YES":"NO");case 7:case"end":return o.stop()}},r,this)}));return t}(),n.grantWhiteListManager=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=new web3.eth.Contract(contracts.AdminTools),i=t.methods.addWLManagers(e),s.next=4,n.sendTransactionTo(n.view.getProduct().adminsToolsAddress,i.encodeABI());case 4:return s.abrupt("return",s.sent);case 5:case"end":return s.stop()}},r,this)}));return t}(),n.denyWhiteListManager=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=new web3.eth.Contract(contracts.AdminTools),i=t.methods.removeWLManagers(e),s.next=4,n.sendTransactionTo(n.view.getProduct().adminsToolsAddress,i.encodeABI());case 4:return s.abrupt("return",s.sent);case 5:case"end":return s.stop()}},r,this)}));return t}(),n.verifyWhiteListManager=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i,s;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=new web3.eth.Contract(contracts.AdminTools),i=t.methods.isWLManager(e),o.next=4,client.blockchainManager.call(n.view.getProduct().adminsToolsAddress,i.encodeABI());case 4:s=o.sent;try{s=web3.eth.abi.decodeParameters(["bool"],s)}catch(u){s=!1}return o.abrupt("return",s[0]===!0?"YES":"NO");case 7:case"end":return o.stop()}},r,this)}));return t}(),n.grantWhiteListOperator=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=new web3.eth.Contract(contracts.AdminTools),i=t.methods.addWLOperators(e),s.next=4,n.sendTransactionTo(n.view.getProduct().adminsToolsAddress,i.encodeABI());case 4:return s.abrupt("return",s.sent);case 5:case"end":return s.stop()}},r,this)}));return t}(),n.denyWhiteListOperator=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=new web3.eth.Contract(contracts.AdminTools),i=t.methods.removeWLOperators(e),s.next=4,n.sendTransactionTo(n.view.getProduct().adminsToolsAddress,i.encodeABI());case 4:return s.abrupt("return",s.sent);case 5:case"end":return s.stop()}},r,this)}));return t}(),n.verifyWhiteListOperator=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i,s;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=new web3.eth.Contract(contracts.AdminTools),i=t.methods.isWLOperator(e),o.next=4,client.blockchainManager.call(n.view.getProduct().adminsToolsAddress,i.encodeABI());case 4:s=o.sent;try{s=web3.eth.abi.decodeParameters(["bool"],s)}catch(u){s=!1}return o.abrupt("return",s[0]===!0?"YES":"NO");case 7:case"end":return o.stop()}},r,this)}));return t}(),n.changeWalletOnTop=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=n.view.getProduct(),s.next=3,client.contractsManager.call(contracts.AdminTools,t.adminsToolsAddress,"getWalletOnTopAddress");case 3:i=s.sent;if(e!==i){s.next=6;break}return s.abrupt("return");case 6:return s.next=8,client.contractsManager.submit("Change Wallet on top",contracts.AdminTools,t.adminsToolsAddress,"setWalletOnTopAddress",e);case 8:case"end":return s.stop()}},r,this)}));return t}(),n.setSingleWhitelist=function(){function t(t,n){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e,t){var i,s,o,u;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i=n.view.getProduct(),s=parseInt(i.exchangeRateOnTop),o=t*s,o=Utils.numberToString(o),a.next=6,client.contractsManager.call(contracts.AdminTools,i.adminsToolsAddress,"isWhitelisted",e);case 6:return u=a.sent,a.next=9,client.contractsManager.submit("Set whitelist",contracts.AdminTools,i.adminsToolsAddress,u?"changeMaxWLAmount":"addToWhitelist",e,o);case 9:case"end":return a.stop()}},r,this)}));return t}()};var EditFundingPool=React.createClass({displayName:"EditFundingPool",requiredModules:["spa/members"],requiredScripts:["assets/plugins/summernote/summernote.min.js","assets/plugins/summernote/summernote.css"],getTitle:function(){return this.props.parent?React.createElement("span",null,"Edit Startup of ",React.createElement("strong",null,this.props.parent.name)):"Edit Basket"},back:function(t){t&&t.preventDefault();var n=this,r=n.props.parent;this.emit("page/change",r?EditFundingPool:Products,{element:r,parent:null,fromBack:!0,view:this.props.view},function(){return r&&n.setProduct(r)})},getProduct:function(){var t=this.state&&this.state.product?this.state.product:this.props.element;t.totalRaised=0;try{Object.keys(t.investors).map(function(e){t.totalRaised+=t.investors[e]})}catch(n){}return t},getDefaultSubscriptions:function(){var t=this,n=this.getProduct().position,r={};return r["product/set"]=this.setProduct,r["fundingPanel/"+n+"/updated"]=function(e){var n=t.getProduct().members,r=e.members;if(!n||!r||JSON.stringify(n)!==JSON.stringify(r))return;t.setState({product:e,documents:e.documents})},r},setProduct:function(t){var n=this;this.setState({product:t,documents:t.documents},function(){n.forceUpdate(),setTimeout(function(){return n.setState({product:t},function(){return n.updateGui()})})})},loadImage:function(t){t&&t.preventDefault();var n=require("electron").remote.dialog.showOpenDialog({defaultPath:undefined,filters:[{name:"Image logo",extensions:["png","jpg","jpeg","bmp"]}]});if(n){var r=require("electron").remote.require("fs").readFileSync(n[0]).toString("base64");r="data:image/png;base64, "+r,this.image.attr("src",r)}},deleteImage:function(t){t&&t.preventDefault(),this.image.attr("src","")},saveDoc:function(t){t&&t.preventDefault();var n="";try{n=this.name.value.split(" ").join("")}catch(r){}if(n===""){alert("Please insert the name of the "+this.props.parent?"Startup":"Basket");return}var i="";try{i=this.url.value.split(" ").join("").toLowerCase()}catch(r){}if(i!==""){if(i.indexOf("http://")!==0&&i.indexOf("https://")!==0){alert("URL must start with http:// or https://");return}if(!i.match(this.controller.urlRegex)){alert("Wrong URL");return}}var s="";try{s=this.image.attr("src").split("data:image/png;base64, ").join("")}catch(r){}var o=[];try{var u=this.tags.value.split(" ");for(var a in u){var f=u[a].split(" ").join("");f.length>0&&o.push(f)}}catch(r){}var l={name:n,description:$.base64.encode(this.description.summernote("code")),url:i,image:s,tags:o,documents:this.state&&this.state.documents||[]},c=this.getProduct(),h={name:c.name,description:c.description,url:c.url,tags:c.tags,documents:c.documents};try{h.image=c.image.split("data:image/png;base64, ").join("")}catch(r){}if(JSON.stringify(h)===JSON.stringify(l))return;this.controller.saveDoc(l,this.props.parent!==undefined&&this.props.parent!==null)},updateSeedRate:function(t){t&&t.preventDefault();var n=0;try{n=web3.utils.toWei(this.cleanNumber(this.seedRate))}catch(r){}if(isNaN(n)||n<0){alert("SEED Rate is a mandatory positive number or zero");return}if(this.getProduct().seedRate===n)return;this.controller.updateSeedRate(n)},updateExchangeRate:function(t){t&&t.preventDefault();var n=0;try{n=web3.utils.toWei(this.cleanNumber(this.exchangeRateOnTop))}catch(r){}if(isNaN(n)||n<0){alert("Exchange Rate is a mandatory positive number or zero");return}if(this.getProduct().exchangeRateOnTop===n)return;this.controller.updateExchangeRate(n)},updateWhiteListThreshold:function(t){t&&t.preventDefault();var n=0;try{n=web3.utils.toWei(this.cleanNumber(this.whiteListThreshold))}catch(r){}if(isNaN(n)||n<0){alert("Whilte List Threshold is a mandatory positive number or zero");return}if(this.getProduct().whiteListThreshold===n)return;this.controller.updateWhiteListThreshold(n)},updateTotalSupply:function(t){t&&t.preventDefault();var n=0;try{n=parseInt(this.cleanNumber(this.totalSupply))}catch(r){}if(isNaN(n)||n<0){alert("Total Supply is a mandatory positive number or zero");return}if(this.getProduct().totalSupply===n)return;this.controller.updateTotalSupply(n)},updateNavLinks:function(){this.domRoot.children().find(".active").removeClass("active"),this.domRoot.children().find("a.nav-link").click(function(){$($(this).parents(".nav-tabs")).children().find("a.nav-link").removeClass("active"),$(this).addClass("active")}),this.domRoot.children().find("ul.nav-tabs").children("li.nav-item:first-of-type").children("a.nav-link").click(),this.props.fromBack===!0&&this.domRoot.children().find("ul.nav-tabs:first-of-type").first().children("li.nav-item:last-of-type").children("a.nav-link").click()},updateGui:function(){this.updateNavLinks(),this.updateProgressBar()},componentDidUpdate:function(){this.updateProgressBar()},updateProgressBar:function(){if(this.props.parent||!this.progressBar)return;var t=this.getProduct(),n=parseInt(Utils.numberToString(t.totalSupply));isNaN(n)&&(n=0);var r=parseInt(Utils.numberToString(t.totalRaised));isNaN(r)&&(r=0);var i=parseFloat((r/n*100).toFixed(2));r=Utils.roundWei(r),n=Utils.roundWei(n),this.progressBar.attr("aria-valuenow",i).css("width",i+"%").css("color",i>6?"white":"black").html(r+" of "+n+" SEEDs raised")},componentDidMount:function(){this.updateGui(),this.setState({documents:this.getProduct().documents})},walletRef:function(t){(this.wallet=t)&&$(this.wallet).focus(function(e){return $(e.target).select()})},changeWallet:function(t){t&&t.preventDefault();var n=this.wallet.value.split(" ").join("");if(!Utils.isEthereumAddress(n)){alert("You must provide a valid ethereum address");return}this.controller.changeWalletOnTop(n)},administrationSubmit:function(t){t.preventDefault();var n=$(t.target),r=n.html().toLowerCase(),i=$(n.parents(".form-group")),s=i.children().find("a.nav-link.active").html().split(" ").join(""),o=i.children('input[type="text"]').val();if(!Utils.isEthereumAddress(o)){alert("You must provide a valid ethereum address");return}var u=this.controller[r+s](o);u&&u.then(function(e){e&&i.children().find("span.response").html(e)})},addDocument:function(t){t&&t.preventDefault();var n=this.documentName.value;if(n.split(" ").join("")===""){alert("Name is mandatory");return}var r=this.documentLink.value;if(r.indexOf("http://")===-1&&r.indexOf("https://")===-1&&!window.require("electron").remote.require("fs").existsSync(r)){alert("Link must be an existing file or start with http:// or https://");return}var i=this.state&&this.state.documents||[];i.push({name:n,link:r}),this.documentName.value="",this.documentLink.value="",this.setState({documents:i})},browseLocalDocument:function(t){t&&t.preventDefault();var n=undefined;n=window.require("electron").remote.dialog.showOpenDialog({defaultPath:undefined,options:{openDirectory:!1,multiSelections:!1}}),n&&(this.documentLink.value=n)},deleteDocument:function(t,n){n&&n.preventDefault();var r=this.state.documents,i=r[t];r.splice(t,1);var s=this;this.setState({documents:r},function(){s.documentName.value=i.name,s.documentLink.value=i.link})},cleanNumber:function(t){var n=t.value.split(" ").join("").split(Utils.dozensSeparator).join("");if(n.indexOf(".")!==-1){var r=n.split(Utils.decimalsSeparator),i=r.pop();n=r.join("")+"."+i}return n},parseNumber:function(t){t&&t.preventDefault();var n=this,r=t.target;this.localeTimeout&&clearTimeout(this.localeTimeout),this.localeTimeout=setTimeout(function(){try{var e=n.cleanNumber(r);e=parseFloat(e);if(isNaN(e)){r.value="";return}e=e.toLocaleString(e),r.value=e}catch(t){console.error(t)}},900)},setSingleWhitelist:function(t){t&&t.preventDefault();var n=this.whiteListWallet.value.split(" ").join("");if(!Utils.isEthereumAddress(n)){alert("You must provide a valid ethereum address");return}var r=0;try{r=parseInt(web3.utils.toWei(this.cleanNumber(this.whiteListAmount)))}catch(i){}if(isNaN(r)||r<0){alert("Whiltelist Amount is a mandatory positive number or zero");return}this.controller.setSingleWhitelist(n,r)},render:function(){var t=this,n=this.getProduct(),r="";try{r=$.base64.decode(n.description)}catch(i){}return React.createElement("div",{className:"kt-content kt-grid__item kt-grid__item--fluid"},!this.props.parent&&React.createElement("div",{className:"progress"},React.createElement("div",{className:"progress-bar",role:"progressbar",ref:function(n){return t.progressBar=$(n)},"aria-valuenow":"25","aria-valuemin":"0","aria-valuemax":"100"},"25%")),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xl-12 mt-5"},React.createElement("ul",{className:"nav nav-tabs nav-tabs-line nav-tabs-bold nav-tabs-line-3x mb-5",role:"tablist"},React.createElement("li",{className:"nav-item"},React.createElement("a",{className:"nav-link","data-toggle":"tab",href:"#main-data",role:"tab"},React.createElement("i",{className:"fa fa-info-circle mr-2"}),"Main Info")),!this.props.parent&&React.createElement("li",{className:"nav-item"},React.createElement("a",{className:"nav-link","data-toggle":"tab",href:"#administration",role:"tab"},React.createElement("i",{className:"fas fa-user mr-2"}),"Administration")),!this.props.parent&&React.createElement("li",{className:"nav-item"},React.createElement("a",{className:"nav-link","data-toggle":"tab",href:"#whiteList",role:"tab"},React.createElement("i",{className:"fas fa-check mr-2"}),"Whitelisting")),!this.props.parent&&React.createElement("li",{className:"nav-item"},React.createElement("a",{className:"nav-link","data-toggle":"tab",href:"#economic-data",role:"tab"},React.createElement("i",{className:"fas fa-coins mr-2"}),"Economic Info")),!this.props.parent&&React.createElement("li",{className:"nav-item"},React.createElement("a",{className:"nav-link","data-toggle":"tab",href:"#members",role:"tab"},React.createElement("i",{className:"fas fa-rocket mr-2"}),"Startups"))),React.createElement("div",{className:"tab-content"},React.createElement("div",{className:"tab-pane",id:"main-data",role:"tabpanel"},React.createElement("form",{className:"kt-form",action:""},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-2"},React.createElement("h4",null,"Name"),React.createElement("p",{className:"small"},"of the ",this.props.parent&&"Startup"||"Incubator")),React.createElement("div",{className:"col-md-10 form-group"},React.createElement("input",{className:"form-control form-control-last",type:"text",ref:function(r){return(t.name=r)&&(t.name.value=n.name)}}))),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-2"},React.createElement("h4",null,"Description"),React.createElement("p",{className:"small"},"of the ",this.props.parent&&"Startup"||"Incubator")),React.createElement("div",{className:"col-md-10 form-group editor"},React.createElement("div",{ref:function(n){return n&&(t.description=$(n)).summernote({minHeight:350,disableResizeEditor:!0}).summernote("code",r)}}))),React.createElement("br",null),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},React.createElement("h3",null,"Documents"),React.createElement("p",{className:"small"},"useful to enrich the description of the business model"))),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-2"}," "),React.createElement("div",{className:"col-md-3"},React.createElement("input",{className:"form-control form-control-last",type:"text",placeholder:"Name",ref:function(n){return t.documentName=n}})),React.createElement("div",{className:"col-md-4"},React.createElement("input",{className:"form-control form-control-last",type:"text",placeholder:"Link must start with http:// or https://",ref:function(n){return t.documentLink=n}})),React.createElement("div",{className:"col-md-3"},React.createElement("button",{type:"button",className:"btn btn-secondary btn-pill tiny",onClick:this.browseLocalDocument},"Browse from PC")," "," "," ",React.createElement("button",{type:"button",className:"btn btn-brand btn-pill tiny",onClick:this.addDocument},"Add"))),React.createElement("br",null),React.createElement("br",null),this.state&&this.state.documents&&this.state.documents.map(function(e,n){return React.createElement("div",{key:"document_"+n,className:"row"},React.createElement("div",{className:"col-md-2"}," "),React.createElement("div",{className:"col-md-3"},React.createElement("span",null,e.name)),React.createElement("div",{className:"col-md-4"},e.link.indexOf("http")!==0&&React.createElement("span",null,e.link.length>30?e.link.substring(0,30)+"...":e.link),e.link.indexOf("http")===0&&React.createElement("a",{href:e.link,target:"_blank"},e.link.length>30?e.link.substring(0,30)+"...":e.link)),React.createElement("div",{className:"col-md-3"},React.createElement("h3",null,React.createElement("a",{href:"javascript:;",onClick:function(r){return t.deleteDocument(n,r)}},React.createElement("i",{className:"fas fa-remove"})))))}),React.createElement("br",null),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-2"},React.createElement("h4",null,"URL"),React.createElement("p",{className:"small"},"The website of the ",this.props.parent?"Startup":"Incubator")),React.createElement("div",{className:"col-md-10 form-group"},React.createElement("input",{className:"form-control form-control-last",type:"text",placeholder:"Link must start with http:// or https://",ref:function(r){return(t.url=r)&&(t.url.value=n.url)}}))),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-2"},React.createElement("h4",null,"Logo"),React.createElement("p",{className:"small"},"of the ",this.props.parent?"Startup":"Incubator")),React.createElement("div",{className:"col-md-10 form-group"},React.createElement("a",{href:"javascript:;",onClick:this.loadImage},React.createElement("img",{width:"100",height:"100",ref:function(n){return t.image=$(n)},src:n.image?"data:image/png;base64, "+n.image:""}))," "," "," "," ",React.createElement("a",{href:"javascript:;",onClick:this.deleteImage},React.createElement("i",{className:"fas fa-remove"})))),!this.props.parent&&React.createElement("br",null),!this.props.parent&&React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-2"},React.createElement("h4",null,"Tags"),React.createElement("p",{className:"small"},"useful for searches by the investor")),React.createElement("div",{className:"col-md-10 form-group"},React.createElement("input",{className:"form-control form-control-last",type:"text",ref:function(r){return(t.tags=r)&&n.tags&&n.tags.length>0&&(t.tags.value=n.tags.join(" "))}}))),React.createElement("br",null),React.createElement("br",null),React.createElement("button",{type:"button",className:"btn btn-brand btn-pill btn-elevate browse-btn",onClick:this.saveDoc},"Update"),React.createElement("br",null),React.createElement("br",null))),!this.props.parent&&React.createElement("div",{className:"tab-pane",id:"administration",role:"tabpanel"},React.createElement("form",{className:"kt-form",action:""},React.createElement("h4",null,"Wallet on top"),React.createElement("p",{className:"small"},"the wallet that will receive the exchange rate on top"),React.createElement("div",{className:"form-group"},React.createElement("input",{className:"form-control",type:"text",placeholder:n.walletOnTop,ref:this.walletRef})),React.createElement("div",{className:"kt-form__actions"},React.createElement("button",{type:"button",className:"btn btn-brand btn-pill btn-elevate browse-btn",onClick:this.changeWallet},"Change"))),React.createElement("br",null),React.createElement("br",null),React.createElement("br",null),React.createElement("form",{className:"kt-form",action:""},React.createElement("h4",null,"Permissions"),React.createElement("p",{className:"small"},"manage the users that can operate with this basket"),React.createElement("div",{className:"form-group"},React.createElement("br",null),React.createElement("ul",{className:"nav nav-tabs nav-tabs-line nav-tabs-bold nav-tabs-line-3x mb-5",role:"tablist"},React.createElement("li",{className:"nav-item"},React.createElement("a",{className:"nav-link","data-toggle":"tab",role:"tab"},"Funding Manager")),React.createElement("li",{className:"nav-item"},React.createElement("a",{className:"nav-link","data-toggle":"tab",role:"tab"},"Funding Operator")),React.createElement("li",{className:"nav-item"},React.createElement("a",{className:"nav-link","data-toggle":"tab",role:"tab"},"Funds Unlock Manager")),React.createElement("li",{className:"nav-item"},React.createElement("a",{className:"nav-link","data-toggle":"tab",role:"tab"},"Funds Unlock Operator")),React.createElement("li",{className:"nav-item"},React.createElement("a",{className:"nav-link","data-toggle":"tab",role:"tab"},"White List Manager")),React.createElement("li",{className:"nav-item"},React.createElement("a",{className:"nav-link","data-toggle":"tab",role:"tab"},"White List Operator"))),React.createElement("br",null),React.createElement("input",{className:"form-control",type:"text",placeholder:"Address"}),React.createElement("br",null),React.createElement("div",{className:"kt-form__actions"},React.createElement("button",{type:"button",className:"btn btn-brand btn-pill btn-elevate browse-btn",onClick:this.administrationSubmit},"GRANT")," "," "," "," "," "," "," "," ",React.createElement("button",{type:"button",className:"btn btn-secondary btn-pill btn-elevate browse-btn",onClick:this.administrationSubmit},"DENY")," "," "," "," "," "," "," "," ",React.createElement("button",{type:"button",className:"btn btn-brand btn-pill btn-elevate browse-btn",onClick:this.administrationSubmit},"VERIFY")," "," "," "," "," "," "," "," ",React.createElement("span",{"class":"response"}))))),!this.props.parent&&React.createElement("div",{className:"tab-pane",id:"whiteList",role:"tabpanel"},React.createElement("form",{className:"kt-form",action:""},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement("h4",null,"Wallet"),React.createElement("p",{className:"small"},"of the investor you want to whitelist"),React.createElement("div",{className:"form-group"},React.createElement("input",{className:"form-control",type:"text",placeholder:"Address",ref:function(n){return t.whiteListWallet=n}}))),React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"Amount"),React.createElement("p",{className:"small"},"the max amount of tokens that this investor can hold (expressed in SEED)"),React.createElement("div",{className:"form-group"},React.createElement("input",{className:"form-control",type:"text",placeholder:"Amount",ref:function(n){return t.whiteListAmount=n},onChange:this.parseNumber}))),React.createElement("div",{className:"col-md-2"},React.createElement("div",{className:"kt-form__actions"},React.createElement("button",{type:"button",className:"btn btn-brand btn-pill btn-elevate browse-btn",onClick:this.setSingleWhitelist},"Set")))))),!this.props.parent&&React.createElement("div",{className:"tab-pane",id:"economic-data",role:"tabpanel"},React.createElement("form",{className:"kt-form",action:""},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"Exchange Rate"),React.createElement("p",{className:"small"},"the amount of ",n.symbol," tokens the investor will receive for every invested SEED")),React.createElement("div",{className:"col-md-6 form-group"},React.createElement("input",{className:"form-control form-control-last",type:"text",ref:function(r){return(t.seedRate=r)&&(t.seedRate.value=Utils.roundWei(n.seedRate))},onChange:this.parseNumber})),React.createElement("div",{className:"col-md-2"},React.createElement("button",{type:"button",className:"btn btn-brand btn-pill btn-elevate browse-btn",onClick:this.updateSeedRate},"OK"))),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"Exchange Rate On Top"),React.createElement("p",{className:"small"},"the amount of ",n.symbol," tokens the incubator will receive for every invested SEED")),React.createElement("div",{className:"col-md-6 form-group"},React.createElement("input",{className:"form-control form-control-last",type:"text",ref:function(r){return(t.exchangeRateOnTop=r)&&(t.exchangeRateOnTop.value=Utils.roundWei(n.exchangeRateOnTop))},onChange:this.parseNumber})),React.createElement("div",{className:"col-md-2"},React.createElement("button",{type:"button",className:"btn btn-brand btn-pill btn-elevate browse-btn",onClick:this.updateExchangeRate},"OK"))),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"Total Supply"),React.createElement("p",{className:"small"},"The amount of SEED tokens this basket needs to raise")),React.createElement("div",{className:"col-md-6 form-group"},React.createElement("input",{className:"form-control form-control-last",type:"text",ref:function(r){return(t.totalSupply=r)&&(t.totalSupply.value=n.totalSupply&&parseFloat(Utils.roundWei(n.totalSupply))||"")},onChange:this.parseNumber})),React.createElement("div",{className:"col-md-2"},React.createElement("button",{type:"button",className:"btn btn-brand btn-pill btn-elevate browse-btn",onClick:this.updateTotalSupply},"OK"))),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"White List Threshold Balance"),React.createElement("p",{className:"small"},"the maximum amount of ",n.symbol," tokens that each investor can accumulate without the need of whitelisting")),React.createElement("div",{className:"col-md-6 form-group"},React.createElement("input",{className:"form-control form-control-last",type:"text",ref:function(r){return(t.whiteListThreshold=r)&&(t.whiteListThreshold.value=n.whiteListThreshold&&parseFloat(Utils.roundWei(n.whiteListThreshold))||"")},onChange:this.parseNumber})),React.createElement("div",{className:"col-md-2"},React.createElement("button",{type:"button",className:"btn btn-brand btn-pill btn-elevate browse-btn",onClick:this.updateWhiteListThreshold},"OK"))))),!this.props.parent&&React.createElement("div",{className:"tab-pane",id:"members",role:"tabpanel"},React.createElement("button",{type:"button",className:"btn btn-brand btn-pill btn-elevate browse-btn",onClick:function(){return t.emit("page/change",CreateFundingPool,{parent:n,view:"mine"})}},"Add new Startup"),React.createElement("br",null),React.createElement("br",null),React.createElement(Members,{element:n,view:this.props.view}))))))}});var HeaderController=function(t){var n=this;n.view=t};var Header=React.createClass({displayName:"Header",requiredModules:["spa/configuration/import","spa/configuration/create","spa/configuration/backup","spa/configuration/move"],getDefaultSubscriptions:function(){var t=this;return{"index/title":function(n){return t.setState({title:n})},"amount/seed":function(n){return t.setState({seed:n})},"amount/eth":function(n){return t.setState({eth:n})}}},copyAddress:function(t){t&&t.preventDefault(),Utils.copyToClipboard(client.userManager.user.wallet)},copyPrivateKey:function(t){t&&t.preventDefault(),Utils.copyToClipboard(client.userManager.user.privateKey)},importConfiguration:function(t){t&&t.preventDefault(),this.emit("page/change",ImportConfiguration)},createConfiguration:function(t){t&&t.preventDefault(),this.emit("page/change",CreateConfiguration)},backupConfiguration:function(t){t&&t.preventDefault(),this.emit("page/change",BackupConfiguration)},moveConfiguration:function(t){t&&t.preventDefault(),this.emit("page/change",MoveConfiguration)},componentDidUpdate:function(){client.userManager.user&&(new Date).getTime()-this.lastBalanceCheck>5e4&&(this.lastBalanceCheck=(new Date).getTime(),client.userManager.getBalances())},setupChooseSection:function(t){if(!t)return;var n=$((t=$(t)).children().find("li.kt-menu__item").click(function(){t.children().find("li.kt-menu__item").removeClass("kt-menu__item--open").removeClass("kt-menu__item--here"),$(this).addClass("kt-menu__item--open").addClass("kt-menu__item--here")})[0]).click()},componentDidMount:function(){if(!client.userManager.user)return;this.lastBalanceCheck=(new Date).getTime(),client.userManager.getBalances()},renderTitle:function(){return!this.props.title||typeof this.props.title=="string"?React.createElement("span",{className:"mr-4"},React.createElement("strong",null,this.props.title||(this.props.view==="mine"?"My ":"")+"Baskets")):this.props.title},render:function(){var t=this;return React.createElement("header",{id:"kt_header",className:"kt-header kt-grid__item kt-header--fixed row mx-0","data-ktheader-minimize":"on"},React.createElement("div",{className:"kt-header__top col-12 py-3 bg-primary"},React.createElement("div",{className:"kt-container"},React.createElement("div",{className:"kt-header__topbar header-left back-title"},this.props.title&&React.createElement("a",{href:"javascript:;","data-toggle":"kt-tooltip","data-placement":"bottom",title:"Back",className:"back",onClick:function(n){return t.props.back?t.props.back(n):t.emit("page/change",Products,{view:t.props.view})}},React.createElement("i",{className:"fas fa-arrow-left"})),React.createElement("span",null," "," "),this.renderTitle()," ",this.props.view==="mine"&&React.createElement("a",{href:"javascript:;",onClick:function(){return t.emit("page/change",CreateFundingPool,{view:"mine"})},className:"kt-subheader__breadcrumbs-home"},React.createElement("i",{className:"fas fa-plus"}))),React.createElement("div",{className:"kt-header__topbar justify-content-end header-right"},React.createElement("span",{className:"mr-4"},"Welcome ",React.createElement("strong",null,client.userManager.user?client.userManager.user.wallet.substring(0,9)+"...":client.configurationManager.hasUser()?"":"Guest")),client.userManager.user&&this.state&&this.state.eth&&React.createElement("span",{className:"mr-4"},"(",React.createElement("strong",null,Utils.roundWei(this.state.eth)," eth"),")"),client.userManager.user&&this.state&&this.state.seed&&React.createElement("span",{className:"mr-4"},"(",React.createElement("strong",null,Utils.roundWei(this.state.seed)," SEED"),")"),client.userManager.user&&React.createElement("a",{href:"javascript:;","data-toggle":"kt-tooltip","data-placement":"bottom",title:"Wallet",onClick:function(){return t.emit("wallet/show")}},React.createElement("i",{className:"fas fa-wallet"})),client.userManager.user&&React.createElement("a",{href:"javascript:;","data-toggle":"kt-tooltip","data-placement":"bottom",title:"Backup Configuration",onClick:this.backupConfiguration},React.createElement("i",{className:"fas fa-file-download"})),client.userManager.user&&React.createElement("a",{href:"javascript:;","data-toggle":"kt-tooltip","data-placement":"bottom",title:"Move Configuration",onClick:this.moveConfiguration},React.createElement("i",{className:"fas fa-external-link-alt"})),!client.userManager.user&&React.createElement("a",{href:"javascript:;",onClick:this.createConfiguration,"data-toggle":"kt-tooltip","data-placement":"bottom",title:"Create New Wallet"},React.createElement("i",{className:"fas fa-plus"})),!client.userManager.user&&React.createElement("a",{href:"javascript:;",onClick:this.importConfiguration,"data-toggle":"kt-tooltip","data-placement":"bottom",title:"Import Configuration"},React.createElement("i",{className:"fas fa-file-import"})),!1,client.configurationManager.hasUnlockedUser()&&React.createElement("a",{href:"javascript:;","data-toggle":"kt-tooltip","data-placement":"bottom",title:"Forget Me",onClick:function(){return t.emit("user/askForget")}},React.createElement("i",{className:"fas fa-sign-out-alt"}))))),client.configurationManager.hasUnlockedUser()&&React.createElement("div",{className:"kt-header__bottom col-12 py-3 bg-secondary"},React.createElement("div",{className:"kt-container",ref:this.setupChooseSection},React.createElement("div",{className:"kt-header-menu-wrapper",id:"kt_header_menu_wrapper"},React.createElement("div",{id:"kt_header_menu",className:"kt-header-menu"},React.createElement("ul",{className:"kt-menu__nav"},React.createElement("li",{className:"kt-menu__item"},React.createElement("a",{href:"javascript:;",onClick:function(){return t.emit("page/change",Products)}},"Investor")),React.createElement("li",{className:"kt-menu__item"},React.createElement("a",{href:"javascript:;",onClick:function(){return t.emit("page/change",Products,{view:"mine"})}},"Incubator"))))))),!client.configurationManager.hasUnlockedUser()&&React.createElement("p",null," "))}});var IndexController=function(t){var n=this;n.view=t,n.forgetUser=function(){client.userManager.forget(),n.view.emit("page/change")}};var Index=React.createClass({displayName:"Index",requiredModules:["spa/unlock","spa/header","spa/products","spa/fundingPool/create"],requiredScripts:["spa/modal.jsx"],getDefaultSubscriptions:function(){var t=this;return{"wallet/show":this.showWalletModal,"user/askForget":this.askForget,"page/change":this.changePage,"loader/show":this.showLoaderModal,"loader/hide":function(){return t.genericLoadingModal.hide()},"transaction/ask":this.showAskTransactionModal,"transaction/lock":this.showTransactionLockModal,"transaction/unlock":function(){return t.genericLoadingModal.hide()},"transaction/submitted":this.showTransactionModal,"investment/mine":this.renderOwnedToken,"configuration/forgotten":this.refreshTokenList}},showWalletModal:function(){var t=this,n=this;client.userManager.getBalances().then(function(e){n.walletEth.innerHTML=Utils.roundWei(e.eth),n.walletSeed.innerHTML=Utils.roundWei(e.seed),n.addressLink.attr("href",ecosystemData.etherscanURL+"address/"+client.userManager.user.wallet),n.addressLink.html(client.userManager.user.wallet),n.privateKeyLabel.html("***************************************************************************".substring(0,50)),n.renderOwnedTokens(),n.walletModal.isHidden()&&t.walletModal.show()})},copyAddress:function(t){t&&t.preventDefault(),Utils.copyToClipboard(client.userManager.user.wallet)},copyPrivateKey:function(t){t&&t.preventDefault(),Utils.copyToClipboard(client.userManager.user.privateKey)},togglePrivateKey:function(t){t&&t.preventDefault();var n=client.userManager.user.privateKey.substring(0,50)+"...";this.privateKeyLabel.html().indexOf("*")!==0&&(n="***************************************************************************".substring(0,50)),this.privateKeyLabel.html(n)},askForget:function(t){t&&t.preventDefault&&t.preventDefault(),confirm("All your data will be lost, do you want to continue?")&&(this.controller.forgetUser(),this.emit("page/change"))},showLoaderModal:function(t,n){this.genericLoadingModal.setTitle(t||""),this.genericLoadingText.html(n||""),this.genericLoadingModal.isHidden()&&this.genericLoadingModal.show()},showAskTransactionModal:function(t,n){n||(n=""),this.askTransactionModal.setTitle(n),this.askTransactionModal.isHidden()&&this.askTransactionModal.show()},showTransactionLockModal:function(t,n){var r="<span>Sealing transaction into Blockchain. This can take more than 30 seconds...</span><br/><br/>";r+='<a href="'+(n?ecosystemData.etherscanURL+"tx/"+n:"#")+'" target="_blank">Follow on Etherscan</a>',this.showLoaderModal(t,r)},showTransactionModal:function(t,n,r,i){this.transactionModal.setTitle(n),this.transactionBody.html("");var s="";r?(s+='<h3 class="error">Transaction error:</h3><br/><br/>',s+="<p>"+r.message||r+"</p>"):(s+='<h3 class="success">Transaction Correctly submitted</h3><br/><br/>',s+='<h3><a target="_blank" href="'+(t?ecosystemData.etherscanURL+"tx/"+t:"#")+'">View on Etherscan</a></h3>'),this.transactionBody.html(s),this.transactionModal.isHidden()&&this.transactionModal.show()},changePage:function(t,n,r){!t&&(t=null),!n&&(n=null);if(!t)this.setState({title:null,element:null,props:null});else{var i=this;ReactModuleLoader.load({modules:t.prototype.requiredModules||[],scripts:t.prototype.requiredScripts||[],callback:function(){i.setState({title:t.prototype.title,element:t,props:n},r)}})}},getDefaultRenderer:function(){return!client.configurationManager.hasUser()||client.configurationManager.hasUnlockedUser()?Products:Unlock},onElementRef:function(t){if(!t)return;var n=null;t.getTitle&&(n=t.getTitle(),(!this.state||!this.state.title||this.state.title!==n)&&n&&this.state.title&&typeof n!="string"&&typeof this.state.title!="string"&&n.key===this.state.title.key&&(n=null));var r={back:t.back};(r.back===undefined||r.back===null||this.state.back===r.back)&&delete r.back,n&&this.state.title!==n&&(r.title=n),!t.getTitle&&this.state&&this.state.title!==null&&(r.title=null),t.title&&delete r.title,Object.keys(r).length>0&&this.setState(r)},clearSearch:function(t){t&&t.preventDefault(),this.searchBar.value="",this.emit("products/search")},renderOwnedToken:function(t,n){if(!t||!t.name){typeof n=="function"&&setTimeout(n);return}var r=this;client.contractsManager.tokenBalanceOf(t.tokenAddress,client.userManager.user.wallet).then(function(e){if(parseInt(e)<=0){typeof n=="function"&&setTimeout(n);return}e=Utils.roundWei(e);var i=r.ownedTokens.children('[data-position="'+t.position+'"]');i.length===0&&(i=$('\n            <div class="row token-container" data-position="'+t.position+'">\n                <div class="col-md-12">\n                    <div class="row token">\n                        <div class="col-md-2">'+(t.image?'<img width="40" height="40" src="data:image/png;base64, '+t.image+'" />':"&nbsp;")+'</div>\n                        <div class="col-md-3"><h3>'+t.name+'</h3></div>\n                        <div class="col-md-7 amount"><h3>'+e+" "+t.symbol+"</h3></div>\n                    </div>\n                </div>\n            </div>").click(function(e){e&&e.preventDefault(),r.walletModal.hide(),r.emit("page/change",Detail,{element:t})}).appendTo(r.ownedTokens)),i.children().find(".amount").html("<h3>"+e+" "+t.symbol+"</h3>"),typeof n=="function"&&setTimeout(n)})},refreshTokenList:function(){this.ownedTokens&&this.ownedTokens.html(""),this.ownedTokens&&this.renderOwnedTokens()},renderOwnedTokens:function(){var t=client.contractsManager.getArray(),n=-1,r=this,i=function s(){return n++<t.length&&r.renderOwnedToken(t[n],s)};setTimeout(i)},checkDistDate:function(t){if(!t)return;var n=window.distDate;delete window.distDate,n&&n>ecosystemData.distDate&&setTimeout(function(){return t.show()},1200)},render:function(){var t=this,n=this.state&&this.state.element?this.state.element:this.getDefaultRenderer(),r=this.state&&this.state.props;return!r&&(r={}),r.ref=this.onElementRef.bind(this),n===Unlock?React.createElement("div",{className:"kt-grid kt-grid--hor kt-grid--root"},React.createElement(n,r)):React.createElement("div",{className:"kt-grid kt-grid--hor kt-grid--root"},React.createElement("div",{className:"kt-grid__item kt-grid__item--fluid kt-grid kt-grid--ver kt-page"},React.createElement("div",{className:"kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor kt-wrapper"+(client.userManager.user?"":" guest"),id:"kt_wrapper"},React.createElement(Header,{title:this.state&&this.state.title?this.state.title:"",element:n,view:r.view,back:this.state&&this.state.back}),!client.configurationManager.hasUnlockedUser()&&[React.createElement("br",null),React.createElement("br",null)],(!this.state||!this.state.element||this.state.element===Products)&&React.createElement("div",{className:"kt-subheader kt-grid__item",id:"kt_subheader"},React.createElement("div",{className:"kt-subheader__main"},React.createElement("div",{className:"kt-subheader__breadcrumbs"})),React.createElement("div",{className:"kt-subheader__main"},React.createElement("input",{type:"text",placeholder:"Search...",onChange:function(n){return t.emit("products/search",n)},ref:function(n){return t.searchBar=n}})," "," "," "," ",React.createElement("span",{className:"kt-subheader__separator"}),React.createElement("div",{className:"kt-subheader__breadcrumbs"},React.createElement("a",{href:"#",className:"kt-subheader__breadcrumbs-home",onClick:this.clearSearch},React.createElement("i",{className:"fas fa-remove"}))))),React.createElement("br",null),React.createElement("br",null),React.createElement(n,r))),React.createElement(Modal,{ref:function(n){return t.genericLoadingModal=n},readonly:"true",backdrop:"static",keyboard:"false",className:"index loader"},React.createElement(Loader,{size:"x2"}),React.createElement("br",null),React.createElement("br",null),React.createElement("h4",{ref:function(n){return t.genericLoadingText=$(n)}})),React.createElement(Modal,{ref:function(n){return t.transactionModal=n},backdrop:"static",keyboard:"false",onHide:function(){return $.publish("transaction/finalize")},className:"index"},React.createElement("div",{ref:function(n){return t.transactionBody=$(n)}})),React.createElement(Modal,{title:"Submit Transaction",ref:function(n){return t.askTransactionModal=n},backdrop:"static",className:"index transaction",onHide:function(){return $.publish("transaction/submit")},actions:[{text:"Send",className:"btn-brand btn-pill",onClick:function(){$.publish("transaction/submit",!0);var t=this;setTimeout(t.hide)}}]},React.createElement("h2",null,"Sending a new payable transaction to Blockchain. Continue?")),React.createElement(Modal,{title:"Welcome!",ref:function(n){return t.walletModal=n},className:"index wallet"},React.createElement("h4",null,"Your Address:"),React.createElement("div",null,React.createElement("a",{target:"_blank",ref:function(n){return t.addressLink=$(n)}})," ",React.createElement("a",{href:"#",onClick:this.copyAddress},React.createElement("i",{className:"copy fa fa-file"}))),React.createElement("br",null),React.createElement("h4",null,"Your Private Key:"),React.createElement("div",null,React.createElement("span",{ref:function(n){return t.privateKeyLabel=$(n)}})," ",React.createElement("a",{href:"#",onClick:this.togglePrivateKey},React.createElement("i",{className:"copy fa fa-eye"}))," ",React.createElement("a",{href:"#",onClick:this.copyPrivateKey},React.createElement("i",{className:"copy fa fa-file"}))),React.createElement("br",null),React.createElement("br",null),React.createElement("h4",null,"Your wallet contains ",React.createElement("strong",null,React.createElement("span",{ref:function(n){return t.walletEth=n}})," eth")," and ",React.createElement("strong",null,React.createElement("span",{ref:function(n){return t.walletSeed=n}})," SEED")),React.createElement("p",null,"You can purchase them on ",React.createElement("a",{href:"https://www.therocktrading.com",target:"_blank"},"TheRock Trading")),React.createElement("br",null),React.createElement("h2",null,"Owned Basket Tokens"),React.createElement("br",null),React.createElement("div",{ref:function(n){return t.ownedTokens=$(n)},className:"ownedTokens"})),React.createElement(Modal,{title:"New Version of the SEEDVenture Client is available!",ref:this.checkDistDate,className:"index newVersionAvailableModel"},React.createElement("h3",null,"You can download it from ",React.createElement("a",{href:"https://github.com/seedventure/client/tree/master/dist",target:"_blank"},"here"),".")))}});var MemberController=function(t){var n=this;n.view=t,n.enableMember=function(){function t(t,n){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e,t){var i,s,o,u;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i=new web3.eth.Contract(contracts.AdminTools),s=i.methods.isFundingOperator(client.userManager.user.wallet),a.next=4,client.blockchainManager.call(t.adminsToolsAddress,s.encodeABI());case 4:o=a.sent;try{o=web3.eth.abi.decodeParameters(["bool"],o)[0]}catch(f){o=!1}if(o===!0){a.next=9;break}return alert("Your user is not able to do this operation"),a.abrupt("return");case 9:return i=new web3.eth.Contract(contracts.FundingPanel),s=i.methods.enableMember(e.address),s=s.encodeABI(),n.view.emit("loader/hide"),a.next=15,client.userManager.signTransaction(t.fundingPanelAddress,s);case 15:u=a.sent,client.blockchainManager.sendSignedTransaction(u),setTimeout(function(){return n.view.emit("transaction/show",web3.utils.sha3(u))},700);case 18:case"end":return a.stop()}},r,this)}));return t}(),n.disableMember=function(){function t(t,n){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e,t){var i,s,o,u;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i=new web3.eth.Contract(contracts.AdminTools),s=i.methods.isFundingOperator(client.userManager.user.wallet),a.next=4,client.blockchainManager.call(t.adminsToolsAddress,s.encodeABI());case 4:o=a.sent;try{o=web3.eth.abi.decodeParameters(["bool"],o)[0]}catch(f){o=!1}if(o===!0){a.next=9;break}return alert("Your user is not able to perform this operation"),a.abrupt("return");case 9:return i=new web3.eth.Contract(contracts.FundingPanel),s=i.methods.disableMemberByMember(e.address),s=s.encodeABI(),n.view.emit("loader/hide"),a.next=15,client.userManager.signTransaction(t.fundingPanelAddress,s);case 15:u=a.sent,client.blockchainManager.sendSignedTransaction(u),setTimeout(function(){return n.view.emit("transaction/show",web3.utils.sha3(u))},700);case 18:case"end":return a.stop()}},r,this)}));return t}(),n.unlockAmount=function(){function t(t,n,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e,t,i){var s,o,u,a,f,l;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return s=new web3.eth.Contract(contracts.AdminTools),o=s.methods.isFundsUnlockerOperator(client.userManager.user.wallet),c.next=4,client.blockchainManager.call(t.adminsToolsAddress,o.encodeABI());case 4:u=c.sent;try{u=web3.eth.abi.decodeParameters(["bool"],u)[0]}catch(h){u=!1}if(u===!0){c.next=9;break}return alert("Your user is not able to perform this operation"),c.abrupt("return");case 9:return a=web3.utils.toWei(i+"","ether"),c.next=12,client.contractsManager.seedOf(t.fundingPanelAddress);case 12:f=c.sent;if(!(parseInt(f+"")<parseInt(a+""))){c.next=16;break}return alert("Not enough SEED to unlock"),c.abrupt("return");case 16:return s=new web3.eth.Contract(contracts.FundingPanel),o=s.methods.unlockFunds(e.address,a),o=o.encodeABI(),n.view.emit("loader/hide"),c.next=22,client.userManager.signTransaction(t.fundingPanelAddress,o);case 22:l=c.sent,client.blockchainManager.sendSignedTransaction(l),setTimeout(function(){return n.view.emit("transaction/show",web3.utils.sha3(l))},700);case 25:case"end":return c.stop()}},r,this)}));return t}()};var Member=React.createClass({displayName:"Member",getDefaultSubscriptions:function(){var t=this,n=this.props.element.position,r={};return r["fundingPanel/"+this.props.parent.position+"/member/"+n+"/updated"]=function(e){return t.setState({product:e})},r},edit:function(t){var n=this;t&&t.preventDefault();var r=this,i=r.getProduct();if(!i.name||this.props.view==="mine"&&i.unavailable){alert("Please wait until data has been downloaded");return}this.emit("page/change",this.props.view==="mine"?EditFundingPool:Detail,{element:this.getProduct(),parent:this.props.parent,view:this.props.view},function(){return r.emit("product/set",n.getProduct())})},getProduct:function(){return this.state&&this.state.product||this.props.element},componentDidMount:function(){var t=this,n=this.getProduct();(!n.name||n.unavailable)&&client.contractsManager.getFundingPanelMemberData(n).then(function(e){return e&&e.name&&!e.unavailable&&t.setState({product:e})})},enableDisable:function(t){t&&t.preventDefault();var n=this.getProduct();this.controller[(n.disabled===0?"disable":"enable")+"Startup"](n,this.props.parent)},unlockFunds:function(t){t&&t.preventDefault();var n=0;try{n=parseFloat(this.unlockAmount.value)}catch(t){}if(isNaN(n)||n<1){alert("Unlock amount must be a number greater than 0");return}this.controller.unlockAmount(this.getProduct(),this.props.parent,n)},onClick:function(t){if(this.props.view==="mine")return;this.edit(t)},render:function(){var t=this,n=this.getProduct();return React.createElement("div",{className:"kt-portlet"+(this.props.view==="mine"?"":" selectable"),onClick:this.onClick},React.createElement("div",{className:"kt-portlet__head"},React.createElement("div",{className:"kt-portlet__head-label"},n.image&&React.createElement("img",{width:"50",height:"50",ref:function(n){return t.image=$(n)},src:n.image?"data:image/png;base64, "+n.image:""}),n.image&&"    ",React.createElement("h3",{className:"kt-portlet__head-title"},n.name||"New Startup"," ",n.url&&React.createElement("span",null," (",n.url,")"))),(!n.name||n.unavailable)&&React.createElement("div",{className:"retrieving"},React.createElement("div",{className:"retrievingContainer row"},React.createElement("div",{className:"label col-md-8"},"Updating info..."),React.createElement("div",{className:"spinner col-md-4"},React.createElement(Loader,null))))),React.createElement("div",{className:"kt-portlet__body"},React.createElement("dl",null,this.props.view==="mine"&&React.createElement("input",{type:"number",className:"form-control",placeholder:"Funds to unlock",ref:function(n){return t.unlockAmount=n}}))),this.props.view==="mine"&&React.createElement("div",{className:"kt-portlet__foot"},React.createElement("button",{type:"button",className:"btn btn-brand btn-pill btn-elevate browse-btn tiny",onClick:this.enableDisable},n.disabled===0?"Disable":"Enable")," "," "," "," "," "," "," "," ",React.createElement("button",{type:"button",className:"btn btn-secondary btn-pill btn-elevate browse-btn tiny",onClick:this.unlockFunds},"Unlock Funds")," "," "," "," "," "," "," "," ",n.name&&React.createElement("button",{type:"button",className:"btn btn-brand btn-pill btn-elevate browse-btn tiny",onClick:this.edit},"Edit")))}});var MembersController=function(t){var n=this;n.view=t};var Members=React.createClass({displayName:"Members",requiredModules:["spa/member"],getDefaultSubscriptions:function(){var t=this,n=this.getProduct().position,r={};return r["fundingPanel/"+n+"/updated"]=function(e){return t.setState({product:e})},r},getProduct:function(){var t=this.state&&this.state.product?this.state.product:this.props.element;t.totalRaised=0;try{Object.keys(t.investors).map(function(e){t.totalRaised+=t.investors[e]})}catch(n){}return t},getMembers:function(){var t=this.getProduct().members||{},n=[];for(var r in t)n.push(t[r]);var n=Enumerable.From(n).Distinct(function(e){return e.position});if(this.state&&this.state.search){var i=this.state.search.toLowerCase();n=n.Where(function(e){return e.name.toLowerCase().indexOf(i)===0})}return n.ToArray()},search:function(t){t&&t.preventDefault(),this.searchTimeout&&clearTimeout(this.searchTimeout);var n=this.searchBar,r=this;this.searchTimeout=setTimeout(function(){r.setState({search:n&&n.value})},300)},clearSearch:function(t){t&&t.preventDefault(),this.searchBar.value="",this.search()},render:function(){var t=this,n=this.getProduct(),r=this.getMembers();return React.createElement("div",{className:"kt-grid__item kt-grid__item--fluid kt-grid kt-grid--ver kt-grid--stretch"},React.createElement("div",{className:"kt-container kt-body kt-grid kt-grid--ver",id:"kt_body"},React.createElement("div",{className:"kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor"},React.createElement("div",{className:"kt-content kt-grid__item kt-grid__item--fluid"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},React.createElement("div",{className:"searchBar"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-sm-10 separator"},React.createElement("input",{type:"text",placeholder:"Search...",onChange:this.search,ref:function(n){return t.searchBar=n}})),React.createElement("div",{className:"col-sm-2 clear"},React.createElement("a",{href:"#",className:"kt-subheader__breadcrumbs-home",onClick:this.clearSearch},React.createElement("i",{className:"fas fa-remove"}))))))),React.createElement("br",null),React.createElement("br",null),r.length===0&&React.createElement("h1",null,"No Startups right now"),r.length>0&&r.map(function(e,i){if(i!==0&&i%3!==0)return;return React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xl-4"},React.createElement(Member,{key:i+"",parent:n,element:e,view:t.props.view})),React.createElement("div",{className:"col-xl-4"},i+1<r.length&&React.createElement(Member,{key:i+1+"",parent:n,element:r[i+1],view:t.props.view})),React.createElement("div",{className:"col-xl-4"},i+2<r.length&&React.createElement(Member,{key:i+2+"",parent:n,element:r[i+2],view:t.props.view})))})))))}});var Modal=React.createClass({displayName:"Modal",requiredScripts:["assets/plugins/bootstrap-modal/css/bootstrap-modal-bs3patch.css","assets/plugins/bootstrap-modal/css/bootstrap-modal.css","assets/plugins/bootstrap-modal/js/bootstrap-modalmanager.js","assets/plugins/bootstrap-modal/js/bootstrap-modal.js"],renderActions:function(){var t=[];if(this.props.actions===undefined||this.props.actions===null||this.props.actions.length===0)return t;for(var n in this.props.actions){var r=this.props.actions[n],i=React.createElement("button",{type:"button",ref:r.ref,className:"btn btn-action"},r.text);r.className&&(i.props.className+=" "+r.className),r.langId&&(i.props["data-lang-id"]=r.langId),r.onClick&&(i.props.onClick=r.onClick.bind(this));if(r.props)for(var s in r.props)i.props[s]=r.props[s];t.push(i)}return t},close:function(){this.hide()},hide:function(){this.domRoot.modal("hide")},show:function(){this.domRoot.modal("show")},toggle:function(){this.domRoot.modal("toggle")},isVisible:function(){return this.domRoot.hasClass("in")},isHidden:function(){return!this.isVisible()},setTitle:function(t,n){this.setState({title:t,titleLangId:n})},componentDidUpdate:function(){window.onModalShow===undefined&&(window.onModalShow=function(){var t=$(this).findReactComponent();t&&t.props.onShow&&t.props.onShow()},$(document).on("shown.bs.modal","div.modal",window.onModalShow)),window.onModalHide===undefined&&(window.onModalHide=function(){var t=$(this).findReactComponent();t&&t.props.onHide&&t.props.onHide()},$(document).on("hide.bs.modal","div.modal",window.onModalHide))},componentDidMount:function(){this.componentDidUpdate()},render:function(){if(!$.fn.modal)return React.createElement("span",{style:{display:"none"}});var t=React.createElement("h4",{className:"modal-title"},this.state&&this.state.title||this.props.title);if(this.state&&this.state.titleLangId||this.props.titleLangId)t.props["data-lang-id"]=this.state&&this.state.titleLangId||this.props.titleLangId;var n=this.props.readonly===!0||this.props.readonly==="true",r=React.createElement("div",{className:"modal fade",tabindex:"-1","data-backdrop":this.props.backdrop,"data-keyboard":this.props.keyboard},React.createElement("div",{className:"modal-header"},n!==!0&&React.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-hidden":"true"}),t),React.createElement("div",{className:"modal-body"},this.props.children),React.createElement("div",{className:"modal-footer"},n!==!0&&React.createElement("button",{type:"button","data-dismiss":"modal",className:"btn btn-undo","data-lang-id":"close"},"Close"),n!==!0&&this.renderActions()));return this.props.id&&(r.props.id=this.props.id),this.props.focusOn&&(r.props["data-focus-on"]=this.props.focusOn),this.props.className&&(r.props.className+=" "+this.props.className),r}});var ProductController=function(t){var n=this;n.view=t,n.makeUnsuitable=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function n(e){var t,r;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t=new web3.eth.Contract(contracts.FundingPanel),r=t.methods.setNewSeedMaxSupply(0),r=r.encodeABI(),i.t0=client.blockchainManager,i.next=6,client.userManager.signTransaction(e.address,r);case 6:return i.t1=i.sent,i.next=9,i.t0.sendSignedTransaction.call(i.t0,i.t1,"Make Basket Unsuitable");case 9:case"end":return i.stop()}},n,this)}));return t}()};var Product=React.createClass({displayName:"Product",requiredModules:["spa/detail","spa/fundingPool/edit"],onClick:function(t){t&&t.preventDefault();var n=this.getProduct();if(!n.name||this.props.view==="mine"&&n.unavailable){alert("Please wait until data has been downloaded");return}this.emit("page/change",this.props.view==="mine"?EditFundingPool:Detail,{element:this.getProduct(),view:this.props.view})},getDefaultSubscriptions:function(){var t=this,n=this.props.element.position,r={};return r["fundingPanel/"+n+"/updated"]=function(e){return t.setState({product:e})},r},getProduct:function(){var t=this.state&&this.state.product?this.state.product:this.props.element;t.totalRaised=0;try{Object.keys(t.investors).map(function(e){t.totalRaised+=t.investors[e]})}catch(n){}return t},componentDidMount:function(){this.tryUpdateProduct()},componentDidUpdate:function(){this.tryUpdateProduct()},tryUpdateProduct:function(){var t=this,n=t.getProduct();(!n.name||n.unavailable)&&client.contractsManager.getFundingPanelData(n).then(function(e){return e&&e.name&&!e.unavailable&&t.setState({product:e})})},makeUnsuitable:function(t){t&&t.preventDefault(),this.controller.makeUnsuitable(this.getProduct())},render:function(){var t=this,n=this.getProduct();return React.createElement("div",{className:"kt-portlet",onClick:this.onClick},React.createElement("div",{className:"kt-portlet__head"},React.createElement("div",{className:"kt-portlet__head-label"},n.image&&React.createElement("img",{width:"50",height:"50",ref:function(n){return t.image=$(n)},src:n.image?"data:image/png;base64, "+n.image:""}),n.image&&"    ",React.createElement("h3",{className:"kt-portlet__head-title"},n.name," ",n.symbol&&(n.name?"(":"")+n.symbol+(n.name?")":""))),(!n.name||n.unavailable)&&React.createElement("div",{className:"retrieving"},React.createElement("div",{className:"retrievingContainer row"},React.createElement("div",{className:"label col-md-8"},"Updating info..."),React.createElement("div",{className:"spinner col-md-4"},React.createElement(Loader,null))))),React.createElement("div",{className:"kt-portlet__body"},React.createElement("dl",null,n.url&&[React.createElement("dt",null,"URL"),React.createElement("dd",null,React.createElement("h4",null,n.url)),React.createElement("br",null)],React.createElement("dt",null,"Latest Quotation:"),React.createElement("dd",{className:"text-cta"},n.value?Utils.roundWei(n.value):parseFloat((1/parseFloat(web3.utils.fromWei(Utils.numberToString(n.seedRate),"ether"))).toFixed(2)).toLocaleString()," SEED"),React.createElement("br",null),React.createElement("dt",null,"Total Raised:"),React.createElement("dd",{className:"text-cta"},Utils.roundWei(n.totalRaised)," SEED"),this.props.view==="mine"&&[React.createElement("span",null," "," "," "," "),React.createElement("dd",null,React.createElement("button",{className:"btn btn-pill micro btn-brand",onClick:this.makeUnsuitable},"Make Unsuitable"))])))}});var ProductsController=function(t){var n=this;n.view=t,n.loadProducts=function(){n.view.setState({products:client.contractsManager.getList()})}};var Products=React.createClass({displayName:"Products",requiredModules:["spa/product"],getDefaultSubscriptions:function(){return{"list/updated":this.controller.loadProducts,"products/search":this.search}},componentDidMount:function(){this.controller.loadProducts()},getProductsArray:function(t){var n=this,r=[];if(this.state&&this.state.products){var i=this.state.products;Object.keys(i).map(function(e){var t=i[e];try{if(n.props.view==="mine"&&t.owner.toLowerCase()!==client.userManager.user.wallet.toLowerCase())return}catch(s){}r.push(t)})}this.props.view!=="mine"&&(r=Enumerable.From(r).Where(function(e){return e.totalSupply===undefined||parseInt(e.totalSupply)>0}).OrderByDescending(function(e){return parseInt(e.position)}).ToArray()),this.props.view==="mine"&&(r=Enumerable.From(r).OrderByDescending(function(e){return parseInt(e.position)}).ToArray());var s=this.state&&this.state.search;return s&&(s=s.toLowerCase()),s&&t!==!0&&(r=Enumerable.From(r).Where(function(e){return e.fundingPanelAddress&&e.fundingPanelAddress.toLowerCase().indexOf(s)!==-1?!0:e.name&&e.name.toLowerCase().indexOf(s)!==-1?!0:e.symbol&&e.symbol.toLowerCase().indexOf(s)!==-1?!0:e.tags&&e.tags.length>0&&Enumerable.From(e.tags).Any(function(e){return e.toLowerCase().indexOf(s)!==-1})?!0:!1}).ToArray()),r},search:function(t){t&&t.preventDefault(),this.searchTimeout&&clearTimeout(this.searchTimeout);var n=t&&t.target,r=this;this.searchTimeout=setTimeout(function(){r.setState({search:n&&n.value})},300)},render:function(){var t=this,n=this.getProductsArray();if(n.length===0){n=this.getProductsArray(!0);if(n.length===0)return this.props.view==="mine"?[React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},React.createElement("h2",{style:{"text-align":"center"}},"No baskets right now. You can ",React.createElement("a",{href:"javascript:;",onClick:function(){return t.emit("page/change",CreateFundingPool,{view:"mine"})}},"create a new one"),".")))]:[React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},React.createElement(Loader,{size:"x2"}))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},React.createElement("h2",{style:{"text-align":"center"}},"Reaching new Baskets from the Blockchain...")))];n=this.getProductsArray()}return React.createElement("div",{className:"kt-grid__item kt-grid__item--fluid kt-grid kt-grid--ver kt-grid--stretch"},React.createElement("div",{className:"kt-container kt-body kt-grid kt-grid--ver",id:"kt_body"},React.createElement("div",{className:"kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor"},React.createElement("div",{className:"kt-content kt-grid__item kt-grid__item--fluid"},n.map(function(e,r){if(r!==0&&r%3!==0)return;return React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xl-4"},React.createElement(Product,{key:e.position,element:e,view:t.props.view})),React.createElement("div",{className:"col-xl-4"},r+1<n.length&&React.createElement(Product,{key:n[r+1].position,element:n[r+1],view:t.props.view})),React.createElement("div",{className:"col-xl-4"},r+2<n.length&&React.createElement(Product,{key:n[r+2].position,element:n[r+2],view:t.props.view})))})))))}});var UnlockController=function(t){var n=this;n.view=t,n.tryUnlock=function(t){try{return client.configurationManager.unlockUser(t)}catch(n){return!1}return!0}};var Unlock=React.createClass({displayName:"Unlock",unlock:function(t){t&&t.preventDefault();var n=this.password.value;if(n===""){alert("Please, insert password");return}!this.controller.tryUnlock(n)&&alert("Password is wrong")},askForget:function(t){t&&t.preventDefault(),this.emit("user/askForget")},render:function(){var t=this;return React.createElement("div",{className:"kt-grid kt-grid--hor kt-grid--root kt-login kt-login--v6 kt-login--signin",id:"kt_login"},React.createElement("div",{className:"kt-grid__item kt-grid__item--fluid kt-grid kt-grid--desktop kt-grid--ver-desktop kt-grid--hor-tablet-and-mobile"},React.createElement("div",{className:"kt-grid__item  kt-grid__item--order-tablet-and-mobile-2  kt-grid kt-grid--hor kt-login__aside"},React.createElement("div",{className:"kt-login__wrapper"},React.createElement("div",{className:"kt-login__container"},React.createElement("div",{className:"kt-login__body"},React.createElement("div",{className:"kt-login__signin"},React.createElement("div",{className:"kt-login__head"},React.createElement("br",null),React.createElement("img",{src:"./assets/favicon.png",width:"100",height:"100"}),React.createElement("br",null),React.createElement("br",null),React.createElement("h3",{className:"kt-login__title"},"Please, type you password to unlock your account")),React.createElement("div",{className:"kt-login__form"},React.createElement("form",{className:"kt-form",action:""},React.createElement("div",{className:"form-group"},React.createElement("input",{className:"form-control form-control-last",type:"password",placeholder:"Password",name:"password",ref:function(n){return t.password=n}})),React.createElement("div",{className:"kt-login__actions"},React.createElement("button",{id:"kt_login_signin_submit",className:"btn btn-brand btn-pill btn-elevate",onClick:this.unlock},"Unlock"),React.createElement("button",{className:"btn btn-secondary btn-pill",onClick:this.askForget},"Forget"))))))))),React.createElement("div",{className:"welcome-page kt-grid__item kt-grid__item--fluid kt-grid__item--center kt-grid kt-grid--ver kt-login__content"},React.createElement("div",{className:"kt-login__section"},React.createElement("div",{className:"kt-login__block"},React.createElement("h3",{className:"kt-login__title"},"Welcome to SEEDVenture"),React.createElement("br",null),React.createElement("img",{src:"./assets/favicon.png",width:"100",height:"100"}),React.createElement("br",null),React.createElement("div",{className:"kt-login__desc"},"The first decentralized",React.createElement("br",null),"venture capital investment platform"))))))}});window.distDate=1564128868783;!window.preloadedScripts && (window.preloadedScripts=[]);Array.prototype.push.apply(window.preloadedScripts,['spa/configuration/backup/controller.jsx','spa/configuration/backup/style.min.css','spa/configuration/backup/view.jsx','spa/configuration/create/controller.jsx','spa/configuration/create/style.min.css','spa/configuration/create/view.jsx','spa/configuration/import/controller.jsx','spa/configuration/import/style.min.css','spa/configuration/import/view.jsx','spa/configuration/move/controller.jsx','spa/configuration/move/style.min.css','spa/configuration/move/view.jsx','spa/detail/controller.jsx','spa/detail/style.min.css','spa/detail/view.jsx','spa/fundingPool/create/controller.jsx','spa/fundingPool/create/style.min.css','spa/fundingPool/create/view.jsx','spa/fundingPool/edit/controller.jsx','spa/fundingPool/edit/style.min.css','spa/fundingPool/edit/view.jsx','spa/header/controller.jsx','spa/header/style.min.css','spa/header/view.jsx','spa/index/controller.jsx','spa/index/style.min.css','spa/index/view.jsx','spa/member/controller.jsx','spa/member/style.min.css','spa/member/view.jsx','spa/members/controller.jsx','spa/members/style.min.css','spa/members/view.jsx','spa/modal.jsx','spa/product/controller.jsx','spa/product/style.min.css','spa/product/view.jsx','spa/products/controller.jsx','spa/products/style.min.css','spa/products/view.jsx','spa/unlock/controller.jsx','spa/unlock/style.min.css','spa/unlock/view.jsx']);