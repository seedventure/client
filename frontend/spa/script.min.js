var ChooseController=function(t){var n=this;n.view=t};var Choose=React.createClass({displayName:"Choose",investor:function(t){t&&t.preventDefault()&&t.stopPropagation(),this.emit("page/change",Products)},incubator:function(t){t&&t.preventDefault()&&t.stopPropagation(),this.emit("page/change",Products,{view:"mine"})},render:function(){return React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},React.createElement("br",null),React.createElement("br",null),React.createElement("br",null),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},React.createElement("h1",null,"Choose your access Profile"))),React.createElement("br",null),React.createElement("br",null),React.createElement("br",null),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement("h2",{className:"first"},React.createElement("button",{type:"button",className:"btn btn-pill btn-brand",onClick:this.investor},"Investor"))),React.createElement("div",{className:"col-md-6"},React.createElement("h2",null,React.createElement("button",{type:"button",className:"btn btn-pill btn-brand-secondary",onClick:this.incubator},"Incubator"))))))}});var BackupConfigurationController=function(t){var n=this;n.view=t};var BackupConfiguration=React.createClass({displayName:"BackupConfiguration",title:"Backup your data",ok:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=this.password.value;if(n===undefined||n===null||n===""){alert("Please, insert password");return}try{client.configurationManager.dump(n),this.emit("page/change")}catch(t){alert("Password is wrong")}},render:function(){var t=this;return React.createElement("form",{className:"kt-form",action:""},React.createElement("br",null),React.createElement("div",null,React.createElement("h2",null,"Insert your password to proceed")),React.createElement("br",null),React.createElement("div",{className:"form-group"},React.createElement("input",{className:"form-control form-control-last",type:"password",placeholder:"Password",name:"password",ref:function(n){return t.password=n}})),React.createElement("button",{className:"btn btn-brand btn-pill btn-elevate",onClick:this.ok},"OK"))}});var CreateConfigurationController=function(t){var n=this;n.view=t,n.saveWallet=function(t,n){client.userManager.fromMnemonic(t,n)}};var CreateConfiguration=React.createClass({displayName:"CreateConfiguration",title:"Create New Wallet",getInitialState:function(){return{words:ethers.utils.HDNode.entropyToMnemonic(ethers.utils.randomBytes(16)).split(" ")}},resetWords:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=this.state;n.words=ethers.utils.HDNode.entropyToMnemonic(ethers.utils.randomBytes(16)).split(" "),n.wordsOK=!1,n.passwordsOK=!1,this.setState(n)},toWords:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=this.state;n.wordsOK=!1,n.passwordsOK=!1,this.setState(n)},toCheck:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=this.state;n.wordsOK=!0,n.passwordsOK=!1,this.setState(n)},toPasswords:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=this.textarea.value.split(" ");if(n.length!==this.state.words.length){alert("Please, insert the words in the correct order");return}for(var r=0;r<n.length;r++)if(n[r]!==this.state.words[r]){alert("Please, insert the words in the correct order");return}var i=this.state;i.wordsOK=!0,i.passwordsOK=!0,this.setState(i)},check:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=this.password.value,r=this.repeatPassword.value;if(n===""||n!==r){alert("Password don't match");return}this.controller.saveWallet(this.state.words,n),this.emit("page/change")},renderWords:function(){return React.createElement("div",{className:"kt-grid__item kt-grid__item--fluid kt-grid kt-grid--ver kt-grid--stretch"},React.createElement("div",{className:"kt-container kt-body kt-grid kt-grid--ver",id:"kt_body"},React.createElement("div",{className:"kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor"},React.createElement("div",{className:"kt-content kt-grid__item kt-grid__item--fluid"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xl-12 mt-5"},React.createElement("form",{className:"kt-form",action:""},React.createElement("legend",{className:"mb-3"},"Please, copy these words and ",React.createElement("strong",{className:"text-primary"},"don’t forget them")),React.createElement("div",{className:"form-group mb-5"},React.createElement("h1",{className:"dontCopy"},this.state.words.join(" "))),React.createElement("div",{className:"kt-login__actions"},React.createElement("button",{className:"btn btn-action btn-pill btn-elevate",onClick:this.resetWords},React.createElement("i",{className:"fas fa-sync-alt text-primary mr-2"}),"Regenerate")," "," "," "," "," "," "," "," ",React.createElement("button",{id:"kt_login_signin_submit",className:"btn btn-brand btn-pill btn-elevate",onClick:this.toCheck},"Next Step")))))))))},renderCheck:function(){var t=this;return React.createElement("div",{className:"kt-grid__item kt-grid__item--fluid kt-grid kt-grid--ver kt-grid--stretch"},React.createElement("div",{className:"kt-container kt-body kt-grid kt-grid--ver",id:"kt_body"},React.createElement("div",{className:"kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor"},React.createElement("div",{className:"kt-content kt-grid__item kt-grid__item--fluid"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xl-12 mt-5"},React.createElement("form",{className:"kt-form",action:""},React.createElement("legend",{className:"mb-3"},"Please, repeat the order of the words"),React.createElement("div",{className:"form-group mb-5"},React.createElement("textarea",{className:"form-control form-control-last",ref:function(n){return t.textarea=n}})),React.createElement("div",{className:"kt-login__actions"},React.createElement("button",{className:"btn btn-secondary btn-pill btn-elevate",onClick:this.toWords},"Back")," "," "," "," "," "," "," "," ",React.createElement("button",{id:"kt_login_signin_submit",className:"btn btn-brand btn-pill btn-elevate",onClick:this.toPasswords},"Check")))))))))},renderPasswords:function(){var t=this;return React.createElement("div",{className:"kt-grid__item kt-grid__item--fluid kt-grid kt-grid--ver kt-grid--stretch"},React.createElement("div",{className:"kt-container kt-body kt-grid kt-grid--ver",id:"kt_body"},React.createElement("div",{className:"kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor"},React.createElement("div",{className:"kt-content kt-grid__item kt-grid__item--fluid"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xl-12 mt-5"},React.createElement("form",{className:"kt-form",action:""},React.createElement("legend",{className:"mb-5"},"Please, insert a password and confirm"),React.createElement("div",{className:"form-group mb-5"},React.createElement("input",{className:"form-control form-control-last",type:"password",placeholder:"Type your password",name:"password",ref:function(n){return t.password=n}})),React.createElement("div",{className:"form-group mb-5"},React.createElement("input",{className:"form-control form-control-last",type:"password",placeholder:"Confirm password",name:"password",ref:function(n){return t.repeatPassword=n}})),React.createElement("div",{className:"kt-login__actions"},React.createElement("button",{className:"btn btn-secondary btn-pill btn-elevate",onClick:this.toCheck},"Back")," "," "," "," "," "," "," "," ",React.createElement("button",{id:"kt_login_signin_submit",className:"btn btn-brand btn-pill btn-elevate",onClick:this.check},"Check")))))))))},render:function(){return React.createElement("span",null,React.createElement("p",null," "),React.createElement("p",null," "),React.createElement("div",{className:"steps kt-grid__item align-center justify-center text-center"},React.createElement("ul",{className:"list-unstyled list-inline"},React.createElement("li",{className:"list-inline-item current","aria-disabled":"false","aria-selected":"true"},React.createElement("span",{className:"number"},"copy")),React.createElement("li",{className:"list-inline-item"+(this.state.wordsOK?" current":""),"aria-disabled":"false"},React.createElement("span",{className:"number"},"repeat")),React.createElement("li",{className:"list-inline-item"+(this.state.wordsOK&&this.state.passwordsOK?" current":""),"aria-disabled":"false"},React.createElement("span",{className:"number"},"confirm")))),!this.state.wordsOK&&this.renderWords(),this.state.wordsOK&&!this.state.passwordsOK&&this.renderCheck(),this.state.wordsOK&&this.state.passwordsOK&&this.renderPasswords())}});var ImportConfigurationController=function(t){var n=this;n.view=t};var ImportConfiguration=React.createClass({displayName:"ImportConfiguration",title:"Import Configuration or Wallet",importMnemonic:function(t){t&&t.preventDefault()&&t.stopPropagation();if(this.mnemonic.value===""){alert("Insert Mnemocim Phrase");return}if(!this.checkPassword(this.mnemonicPassword.value,this.mnemonicRetype.value))return;client.userManager.fromMnemonic(this.mnemonic.value,this.mnemonicPassword.value),this.emit("page/change")},importPrivateKey:function(t){t&&t.preventDefault()&&t.stopPropagation();if(this.privateKey.value===""){alert("Insert Private Key");return}if(!this.checkPassword(this.privateKeyPassword.value,this.privateKeyRetype.value))return;client.userManager.fromPrivateKey(this.privateKey.value,this.privateKeyPassword.value),this.emit("page/change")},browseJSONFile:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=window.require("electron").remote.dialog.showOpenDialog({defaultPath:undefined,filters:[{name:"JSON File",extensions:["json"]}],options:{openDirectory:!1,multiSelections:!1}});if(n===undefined||n===null)return;this.setState({JSONFile:n})},importJSON:function(t){t&&t.preventDefault()&&t.stopPropagation();if(!this.state||this.state.JSONFile===""){alert("Select a valid JSON File first");return}if(!this.checkPassword(this.JSONPassword.value,this.JSONRetype.value))return;this.emit("page/change")},checkPassword:function(t,n){return t===undefined||t===null||t===""?(alert("Please, insert password"),!1):t!==n?(alert("Password don't match"),!1):!0},browserSEEDBackupFile:function(t){t&&t.preventDefault()&&t.stopPropagation(),client.configurationManager.import()&&this.emit("page/change")},componentDidMount:function(){var t=this;$(t.domRoot.children().find("a.nav-link").click(function(){t.domRoot.children().find("a.nav-link").removeClass("active"),$(this).addClass("active")})[0]).click()},render:function(){var t=this;return React.createElement("div",{className:"kt-content kt-grid__item kt-grid__item--fluid"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xl-12 mt-5"},React.createElement("ul",{className:"nav nav-tabs nav-tabs-line nav-tabs-bold nav-tabs-line-3x mb-5",role:"tablist"},React.createElement("li",{className:"nav-item"},React.createElement("a",{className:"nav-link","data-toggle":"tab",href:"#backup",role:"tab"},React.createElement("i",{className:"far fa-hdd mr-2"}),"Backup")),React.createElement("li",{className:"nav-item"},React.createElement("a",{className:"nav-link","data-toggle":"tab",href:"#phrase",role:"tab"},React.createElement("i",{className:"far fa-comment-dots mr-2"}),"Mnemonic phrase")),React.createElement("li",{className:"nav-item"},React.createElement("a",{className:"nav-link","data-toggle":"tab",href:"#key",role:"tab"},React.createElement("i",{className:"fas fa-key mr-2"}),"Private key"))),React.createElement("div",{className:"tab-content"},React.createElement("div",{className:"tab-pane active",id:"backup",role:"tabpanel"},React.createElement("legend",null,"Import you SEEDVenture backup"),React.createElement("div",{className:"form-group mb-5"},React.createElement("div",{className:"input-container"},React.createElement("input",{type:"file",id:"real-input",className:"form-control form-control-last"}),React.createElement("span",{className:"file-info"},"File...")),React.createElement("button",{className:"btn btn-brand btn-pill btn-elevate browse-btn",onClick:this.browserSEEDBackupFile},"Browse..."))),React.createElement("div",{className:"tab-pane",id:"phrase",role:"tabpanel"},React.createElement("form",{className:"kt-form",action:""},React.createElement("legend",null,"Insert your mnemonic phrase and password"),React.createElement("div",{className:"form-group mb-5"},React.createElement("textarea",{className:"form-control form-control-last",ref:function(n){return t.mnemonic=n}})),React.createElement("div",{className:"form-group mb-5"},React.createElement("input",{className:"form-control form-control-last",type:"password",placeholder:"Type your password",name:"password",ref:function(n){return t.mnemonicPassword=n}})),React.createElement("div",{className:"form-group mb-5"},React.createElement("input",{className:"form-control form-control-last",type:"password",placeholder:"Confirm password",name:"password",ref:function(n){return t.mnemonicRetype=n}})),React.createElement("button",{className:"btn btn-brand btn-pill btn-elevate browse-btn",onClick:this.importMnemonic},"Import"))),React.createElement("div",{className:"tab-pane",id:"key",role:"tabpanel"},React.createElement("form",{className:"kt-form",action:""},React.createElement("legend",null,"Insert your private key and password"),React.createElement("div",{className:"form-group mt-5 mb-5"},React.createElement("input",{className:"form-control form-control-last",type:"password",placeholder:"Private key",name:"password",ref:function(n){return t.privateKey=n}})),React.createElement("div",{className:"form-group mb-5"},React.createElement("input",{className:"form-control form-control-last",type:"password",placeholder:"Type your password",name:"password",ref:function(n){return t.privateKeyPassword=n}})),React.createElement("div",{className:"form-group mb-5"},React.createElement("input",{className:"form-control form-control-last",type:"password",placeholder:"Confirm password",name:"password",ref:function(n){return t.privateKeyRetype=n}})),React.createElement("button",{className:"btn btn-brand btn-pill btn-elevate browse-btn",onClick:this.importPrivateKey},"Import"))),React.createElement("div",{className:"tab-pane",id:"json",role:"tabpanel"},React.createElement("form",{className:"kt-form",action:""},React.createElement("legend",null,"Import your JSON file and type password"),React.createElement("div",{className:"input-container"},React.createElement("input",{type:"file",id:"real-input",className:"form-control form-control-last"}),React.createElement("span",{className:"file-info"},this.state&&this.state.JSONFile?this.state.JSONFile:"File...")),React.createElement("button",{className:"btn btn-brand btn-pill btn-elevate browse-btn",onClick:this.browseJSONFile},"Browse..."),React.createElement("div",{className:"form-group my-5"},React.createElement("input",{className:"form-control form-control-last",type:"password",placeholder:"Type your password",name:"password",ref:function(n){return t.JSONPassword=n}})),React.createElement("div",{className:"form-group mb-5"},React.createElement("input",{className:"form-control form-control-last",type:"password",placeholder:"Confirm password",name:"password",ref:function(n){return t.JSONRetype=n}})),React.createElement("button",{className:"btn btn-brand btn-pill btn-elevate browse-btn",onClick:this.importJSON},"Import")))))))}});var MoveConfigurationController=function(t){var n=this;n.view=t};var MoveConfiguration=React.createClass({displayName:"MoveConfiguration",title:"Move your data",ok:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=this.password.value;if(n===undefined||n===null||n===""){alert("Please, insert password");return}try{client.configurationManager.move(n),this.emit("page/change")}catch(t){alert("Password is wrong")}},render:function(){var t=this;return React.createElement("form",{className:"kt-form",action:""},React.createElement("br",null),React.createElement("div",null,React.createElement("h2",null,"Insert your password to proceed")),React.createElement("br",null),React.createElement("div",{className:"form-group"},React.createElement("input",{className:"form-control form-control-last",type:"password",placeholder:"Password",name:"password",ref:function(n){return t.password=n}})),React.createElement("button",{className:"btn btn-brand btn-pill btn-elevate",onClick:this.ok},"OK"))}});var DetailController=function(t){var n=this;n.view=t,n.updateInvestments=function(){function t(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(){var e,t,i,s,o,u,a;return regeneratorRuntime.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(client.configurationManager.hasUnlockedUser()){f.next=2;break}return f.abrupt("return");case 2:return e=n.view.props.parent||n.view.getProduct(),f.t0=parseInt,f.next=6,client.contractsManager.Token.balanceOf(e.tokenAddress,client.userManager.user.wallet);case 6:return f.t1=f.sent,t=(0,f.t0)(f.t1),f.next=10,client.contractsManager.AdminTools.isWhitelisted(e.adminsToolsAddress,client.userManager.user.wallet);case 10:i=f.sent;if(i!==!1){f.next=15;break}f.t2=undefined,f.next=20;break;case 15:return f.t3=parseInt,f.next=18,client.contractsManager.AdminTools.getMaxWLAmount(e.adminsToolsAddress,client.userManager.user.wallet);case 18:f.t4=f.sent,f.t2=(0,f.t3)(f.t4);case 20:s=f.t2,n.view.tokens&&(n.view.tokens.innerHTML=Utils.roundWei(t));try{n.view.seeds.innerHTML=Utils.roundWei(e.investors[client.userManager.user.wallet.toLowerCase()])}catch(l){}if(!n.view.whiteList){f.next=37;break}o=$(n.view.whiteList).children().find("h3");if(i!==!1){f.next=31;break}return u='<span><i class="fas fa-circle color-yellow"></i>&nbsp;You are NOT whitelisted. Start the procedure <a href="http://seedventure.io" target="_blank">here</a>',a=e.whiteListThreshold-t,a>0&&(u+=". You can still accumulate <strong>"+Utils.roundWei(a)+"</strong> "+e.symbol+" tokens"),o.html(u+".</span>"),f.abrupt("return");case 31:if(!(s<=0)){f.next=34;break}return o.html('<span><i class="fas fa-circle color-red"></i>&nbsp;You are BLACKLISTED for this Basket.</span>'),f.abrupt("return");case 34:u='<span><i class="fas fa-circle color-green"></i>&nbsp;You are correctly whitelisted',s!==undefined&&s!==null&&(u+=" for max <strong>"+Utils.roundWei(s)+"</strong> "+e.symbol+" tokens",a=s-t,a>0&&(u+=". You can still accumulate <strong>"+Utils.roundWei(a)+"</strong> "+e.symbol+" tokens")),o.html(u+".</span>");case 37:case"end":return f.stop()}},r,this)}));return t}(),n.invest=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i,s,o,u,a,f,l,c,h,p,d,v;return regeneratorRuntime.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:t=parseInt(web3.utils.toWei(e,"ether")),i=n.view.props.parent||n.view.getProduct(),s=parseInt(Utils.numberToString(i.totalRaised)),o=parseInt(Utils.numberToString(i.totalSupply));if(!(s+t>o)){m.next=7;break}return alert("Your investment exceedes the basket requirement"),m.abrupt("return");case 7:return m.t0=parseInt,m.next=10,client.contractsManager.seedOf(client.userManager.user.wallet);case 10:m.t1=m.sent,u=(0,m.t0)(m.t1);if(!(t>u)){m.next=15;break}return alert("You don't have enough SEEDs to invest"),m.abrupt("return");case 15:return m.t2=parseInt,m.next=18,client.contractsManager.call(contracts.Token,i.tokenAddress,"balanceOf",client.userManager.user.wallet);case 18:return m.t3=m.sent,a=(0,m.t2)(m.t3),f=parseFloat(web3.utils.fromWei(Utils.numberToString(i.seedRate),"ether"))*parseFloat(e),f=parseFloat(web3.utils.toWei(Utils.numberToString(f),"ether")),l=i.whiteListThreshold,m.next=25,client.contractsManager.AdminTools.isWhitelisted(i.adminsToolsAddress,client.userManager.user.wallet);case 25:return c=m.sent,m.t4=parseInt,m.next=29,client.contractsManager.AdminTools.getMaxWLAmount(i.adminsToolsAddress,client.userManager.user.wallet);case 29:m.t5=m.sent,h=(0,m.t4)(m.t5);if(!c||h!==0){m.next=33;break}return m.abrupt("return",alert("Cannot invest in this basket, you are blakclisted"));case 33:if(!(c&&a+f>h)){m.next=35;break}return m.abrupt("return",alert("Your total investment amount exceeds your Whitelist limit."));case 35:if(!(!c&&a+f>l)){m.next=37;break}return m.abrupt("return",alert("Your total investment amount exceeds the Whitelist threshold. You must be whitelisted to do this investment"));case 37:return m.t6=parseInt,m.next=40,client.contractsManager.call(contracts.ERC20Seed,client.contractsManager.SEEDTokenAddress,"allowance",client.userManager.user.wallet,i.fundingPanelAddress);case 40:m.t7=m.sent,p=(0,m.t6)(m.t7),d=!1;if(!(d=t>p)){m.next=56;break}return v=t,m.prev=45,m.next=48,client.contractsManager.submit("Step 1 of 2 - Allow this Basket to spend "+Utils.roundWei(v)+" SEEDs for you",contracts.ERC20Seed,client.contractsManager.SEEDTokenAddress,"approve",i.fundingPanelAddress,Utils.numberToString(v));case 48:if(m.sent){m.next=50;break}return m.abrupt("return");case 50:m.next=56;break;case 52:return m.prev=52,m.t8=m["catch"](45),console.error(m.t8),m.abrupt("return");case 56:return m.prev=56,m.next=59,client.contractsManager.submit((d?"Step 2 of 2 - ":"")+"Invest "+Utils.roundWei(t)+" SEEDs in this basket",contracts.FundingPanel,i.fundingPanelAddress,"holderSendSeeds",Utils.numberToString(t));case 59:m.next=64;break;case 61:m.prev=61,m.t9=m["catch"](56),console.error(m.t9);case 64:case"end":return m.stop()}},r,this,[[45,52],[56,61]])}));return t}()};var Detail=React.createClass({displayName:"Detail",requiredModules:["spa/members"],getTitle:function(){return this.props.parent?React.createElement("span",null,"Startup of ",React.createElement("strong",null,this.props.parent.name)):this.getProduct().name},back:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=this,r=n.props.parent;this.emit("page/change",r?Detail:Products,{element:r,parent:null,fromBack:!0,view:this.props.view},function(){return r&&n.setProduct(r)})},trade:function(t){t&&t.preventDefault()&&t.stopPropagation(),this.emit("page/change",Dex,{element:this.getProduct()})},getProduct:function(){return this.state&&this.state.product?this.state.product:this.props.element},getDefaultSubscriptions:function(){var t=this,n=this.getProduct(),r=n.position,i={};return i["product/set"]=this.setProduct,i["fundingPanel/"+r+"/updated"]=function(e,n){return t.setProduct(t.props.parent&&n||e,t.controller.updateInvestments)},i},setProduct:function(t,n){var r=this;this.setState({product:t,documents:t.documents},function(){r.forceUpdate(),setTimeout(function(){return r.setState({product:t,documents:t.documents},function(){r.updateGui(),n&&n()})})})},updateNavLinks:function(){this.domRoot.children().find(".active").removeClass("active"),this.domRoot.children().find("a.nav-link").click(function(){$($(this).parents(".nav-tabs")).children().find("a.nav-link").removeClass("active"),$(this).addClass("active")}),this.domRoot.children().find("ul.nav-tabs").children("li.nav-item:first-of-type").children("a.nav-link").click(),this.props.fromBack===!0&&this.domRoot.children().find("ul.nav-tabs:first-of-type").first().children("li.nav-item:last-of-type").children("a.nav-link").click()},updateGui:function(){this.updateNavLinks(),this.updateProgressBar()},componentDidUpdate:function(){this.updateProgressBar()},updateProgressBar:function(){var t=this.getProduct(),n=parseInt(Utils.numberToString(t.totalSupply));isNaN(n)&&(n=0);var r=parseInt(Utils.numberToString(t.totalRaised));isNaN(r)&&(r=0);var i=parseFloat((r/n*100).toFixed(2));r=Utils.roundWei(r),n=Utils.roundWei(n),this.progressBar&&this.progressBar.attr("aria-valuenow",i).css("width",i+"%").css("color",i>6?"white":"black").html(r+" of "+n+" SEEDs raised")},componentDidMount:function(){this.updateGui();var t=this.getProduct(),n=this;client.contractsManager.getFundingPanelData(t).then(function(e){return e&&e.name&&!e.unavailable&&n.setState({product:e,documents:n.getProduct().documents},n.controller.updateInvestments)})},onInvestChange:function(t){Utils.parseNumber(t,this.investChanged)},investChanged:function(){var t=Utils.cleanNumber(this.investment);if(isNaN(t)){this.forYou.innerHTML=Utils.roundWei();return}var n=this.getProduct(),r=parseFloat(web3.utils.fromWei(Utils.numberToString(n.seedRate)),"ether")*t;this.forYou.innerHTML=Utils.roundWei(web3.utils.toWei(Utils.numberToString(r),"ether"))},ok:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=0,r;try{n=Utils.numberToString(Utils.cleanNumber(this.investment)),r=parseFloat(n)}catch(t){}if(isNaN(r)||r<=0){alert("Investment must be a number greater than zero");return}this.controller.invest(n)},toggleFavorite:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=this.getProduct(),r=function(){client.persistenceManager.set(client.persistenceManager.PERSISTENCE_PROPERTIES.tradingNotifications,client.persistenceManager.get(client.persistenceManager.PERSISTENCE_PROPERTIES.tradingNotifications))};try{if(n.investors[client.userManager.user.wallet.toLowerCase()]&&n.investors[client.userManager.user.wallet.toLowerCase()]>0)return r()}catch(t){}var i=$(t.target).toggleClass("favorite").hasClass("favorite");try{client.userManager.user.list=Enumerable.From(client.userManager.user.list).Distinct().OrderBy(function(e){return e}).ToArray();if(i)return client.userManager.user.list.push(n.position),r();for(var s in client.userManager.user.list){var o=client.userManager.user.list[s];if(o===n.position)return client.userManager.user.list.splice(s,1),r()}}catch(t){}return r()},toggleTradeNotifications:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=this.getProduct(),r=$(t.target).toggleClass("favorite").hasClass("favorite");!client.userManager.user.tradeNotifications&&(client.userManager.user.tradeNotifications=[]);var i=function(){client.persistenceManager.set(client.persistenceManager.PERSISTENCE_PROPERTIES.tradingNotifications,client.persistenceManager.get(client.persistenceManager.PERSISTENCE_PROPERTIES.tradingNotifications))};try{client.userManager.user.tradeNotifications=Enumerable.From(client.userManager.user.tradeNotifications).Distinct().OrderBy(function(e){return e}).ToArray();if(r)return client.userManager.user.tradeNotifications.push(n.position),i();for(var s in client.userManager.user.tradeNotifications){var o=client.userManager.user.tradeNotifications[s];if(o===n.position)return client.userManager.user.tradeNotifications.splice(s,1),i()}}catch(t){}return i()},renderPortfolioValue:function(){var t=this.getProduct();if(!this.props.parent){var n=client.contractsManager.getPortfolioValue(t);return n==="NONE"?n:Utils.numberToString(n,!0)}return!t.portfolioValue||t.portfolioValue<=0?"NONE":Utils.numberToString(Utils.normalizeBasketSuccessFee(t.portfolioValue),!0)},renderPortfolioCurrency:function(){var t=this.getProduct();return this.props.parent?this.renderPortfolioValue()==="NONE"?"":t.portfolioCurrency||"EUR":client.contractsManager.getPortfolioCurrency(t)},render:function(){var t=this,n=this.getProduct(),r=!0;try{r=n.visibility==2||n.visibility==1&&!Enumerable.From(n.whiteList).Any(function(e){return e.toLowerCase()===client.userManager.user.wallet.toLowerCase()})}catch(i){}if(r)return React.createElement("div",{className:"kt-content kt-grid__item kt-grid__item--fluid"},React.createElement("br",null),React.createElement("br",null),React.createElement("br",null),React.createElement("br",null),React.createElement("h1",null,"This Basket is not available right now, please contact incubator."));var s=(this.props.parent||n).sticker,o=!1;try{o=Enumerable.From(client.userManager.user.list).Any(function(e){return n.position===e})}catch(i){}if(!o)try{o=n.investors[client.userManager.user.wallet.toLowerCase()]&&n.investors[client.userManager.user.wallet.toLowerCase()]>0}catch(i){}var u=!1;try{u=Enumerable.From(client.userManager.user.tradeNotifications).Any(function(e){return n.position===e})}catch(i){}var a="";try{a=$.base64.decode(n.description)}catch(i){}try{a=decodeURI(a)}catch(i){}var f=document.createElement("p");f.innerHTML=a,f.innerText.split(" ").join("").trim()===""&&(a=undefined);var l=!1;try{l=n.totalRaised>=n.totalSupply}catch(i){}return React.createElement("div",{className:"kt-content kt-grid__item kt-grid__item--fluid"},l===!0&&React.createElement("h2",null,"This "+(this.props.parent?"Startup":"Basket")+" has reached its goal!"),(!this.props.parent||n.totalSupply)&&React.createElement("div",{className:"progress"},React.createElement("div",{className:"progress-bar",role:"progressbar",ref:function(n){return t.progressBar=$(n)},"aria-valuenow":"25","aria-valuemin":"0","aria-valuemax":"100"},"25%")),!this.props.parent&&React.createElement("h3",null,React.createElement("strong",null,Utils.roundWei(n.totalUnlocked))," SEED Tokens "+(this.props.parent?"Raised by this Startup":"Unlocked for its Startups")),this.props.parent&&n.productPosition!==undefined&&React.createElement("h3",null,"This Startup raised ",React.createElement("strong",null,Utils.roundWei(n.totalRaised))," SEED Tokens Unlocked from this Basket"),l!==!0&&!client.configurationManager.hasUnlockedUser()&&React.createElement("div",{className:"investments"},React.createElement("h3",null,"To invest in this Basket you need to ",React.createElement("a",{href:"#",onClick:function(){return t.emit("page/change",CreateConfiguration)}},"create a new wallet")," or ",React.createElement("a",{href:"#",onClick:function(){return t.emit("page/change",ImportConfiguration)}},"import an existing one"))),client.configurationManager.hasUnlockedUser()&&React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},React.createElement("h3",null,"You already invested ",React.createElement("strong",null,React.createElement("span",{ref:function(n){return t.seeds=n}},"0.00")," SEEDS")," in this Basket and actually hold ",React.createElement("strong",null,React.createElement("span",{ref:function(n){return t.tokens=n}},"0.00")," ",n.symbol)," tokens."))),l!==!0&&client.configurationManager.hasUnlockedUser()&&React.createElement("div",{className:"row",ref:function(n){return t.whiteList=n}},React.createElement("div",{className:"col-md-12"},React.createElement("br",null),React.createElement("h3",null))),!this.props.parent&&client.configurationManager.hasUnlockedUser()&&l!==!0&&React.createElement("form",{className:"kt-form",action:""},React.createElement("br",null),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-1"},React.createElement("h3",null,"Invest")),React.createElement("div",{className:"col-md-3"},React.createElement("div",{className:"form-group"},React.createElement("input",{className:"form-control form-control-last",type:"text",onChange:this.onInvestChange,placeholder:Utils.roundWei(),ref:function(n){return t.investment=n}}))),React.createElement("div",{className:"col-md-6"},React.createElement("h3",null,"SEEDS and will receive ",React.createElement("strong",{ref:function(n){return t.forYou=n}},Utils.roundWei())," ",n.symbol," tokens.")),React.createElement("div",{className:"col-md-1"},React.createElement("button",{className:"btn btn-brand btn-pill",onClick:this.ok},"Invest")))),!this.props.parent&&React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-8 mt-5"},React.createElement("h3",null,React.createElement("a",{href:"javascript:;",onClick:this.trade},"Trade"))),React.createElement("div",{className:"col-md-2 mt-5"},client.configurationManager.hasUnlockedUser()&&React.createElement("h2",null,React.createElement("a",{href:"javascript:;",onClick:this.toggleFavorite},React.createElement("i",{className:"fa fa-star"+(o?" favorite":""),"aria-hidden":"true"}))),React.createElement("h4",null,"Favorite")),React.createElement("div",{className:"col-md-2 mt-5"},client.configurationManager.hasUnlockedUser()&&React.createElement("h2",null,React.createElement("a",{href:"javascript:;",onClick:this.toggleTradeNotifications},React.createElement("i",{className:"fa fa-money"+(u?" favorite":""),"aria-hidden":"true"}))),React.createElement("h4",null,"Receive Trading notifications"))),React.createElement("br",null),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xl-12 mt-5"},React.createElement("ul",{className:"nav nav-tabs nav-tabs-line nav-tabs-bold nav-tabs-line-3x mb-5",role:"tablist"},React.createElement("li",{className:"nav-item"},React.createElement("a",{className:"nav-link","data-toggle":"tab",href:"#main-data",role:"tab"},React.createElement("i",{className:"fa fa-info-circle mr-2"}),"Main Info")),!this.props.parent&&React.createElement("li",{className:"nav-item"},React.createElement("a",{className:"nav-link","data-toggle":"tab",href:"#economic-data",role:"tab"},React.createElement("i",{className:"fas fa-coins mr-2"}),"Economic Info")),!this.props.parent&&React.createElement("li",{className:"nav-item"},React.createElement("a",{className:"nav-link","data-toggle":"tab",href:"#members",role:"tab"},React.createElement("i",{className:"fas fa-rocket mr-2"}),"Startups"))),React.createElement("div",{className:"tab-content"},React.createElement("div",{className:"tab-pane",id:"main-data",role:"tabpanel"},React.createElement("form",{className:"kt-form",action:""},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-2"},React.createElement("h4",null,"Name"),React.createElement("p",{className:"small"},"of the ",this.props.parent&&"Startup"||"Incubator")),React.createElement("div",{className:"col-md-10"},React.createElement("h2",null,n.name))),!this.props.parent&&n.sticker&&React.createElement("br",null),!this.props.parent&&n.sticker&&React.createElement("br",null),!this.props.parent&&n.sticker&&React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-2"},React.createElement("h4",null,"Association"),React.createElement("p",{className:"small"},"of the Incubator")),React.createElement("div",{className:"col-md-5"},React.createElement("a",{href:n.stickerUrl,target:"_blank"},n.stickerUrl)),React.createElement("div",{className:"col-md-5"},React.createElement("img",{width:"100",height:"100",ref:function(n){return t.image=$(n)},src:"data:image/png;base64, "+n.sticker}))),React.createElement("br",null),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-2"},React.createElement("h4",null,"Description"),React.createElement("p",{className:"small"},"of the ",this.props.parent&&"Startup"||"Incubator")),React.createElement("div",{className:"col-md-10"},a?React.createElement("p",{className:"description",ref:function(t){return t&&(t.innerHTML=a)}}):"None")),React.createElement("br",null),React.createElement("br",null),!this.props.parent&&React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-2"},React.createElement("h4",null,"Symbol"),React.createElement("p",{className:"small"},"of the token")),React.createElement("div",{className:"col-md-10"},React.createElement("h2",null,n.symbol))),React.createElement("br",null),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-2"},React.createElement("h4",null,"Wallet"+(this.props.parent?"":" on top")),React.createElement("p",{className:"small"},"The Ethereum wallet which will "+(this.props.parent?"store the unlocked":"raise the")+" funds")),React.createElement("div",{className:"col-md-10"},React.createElement("h2",null,React.createElement("a",{href:client.persistenceManager.get(client.persistenceManager.PERSISTENCE_PROPERTIES.etherscanURL)+"address/"+(this.props.parent?n.address:n.walletOnTop),target:"_blank"},this.props.parent?n.address:n.walletOnTop)))),React.createElement("br",null),React.createElement("br",null),this.state&&this.state.documents&&this.state.documents.length>0&&[React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},React.createElement("h3",null,"Documents"),React.createElement("p",{className:"small"},"useful to enrich the description of the business model"))),React.createElement("br",null),React.createElement("br",null),React.createElement("div",null,this.state.documents.map(function(e,t){return React.createElement("div",{key:"document_"+t,className:"row"},React.createElement("div",{className:"col-md-2"}," "),React.createElement("div",{className:"col-md-10"},React.createElement("h2",null,React.createElement("a",{href:e.link,target:"_blank"},e.name))))})),React.createElement("br",null),React.createElement("br",null)],React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-2"},React.createElement("h4",null,"URL"),React.createElement("p",{className:"small"},"The website of the ",this.props.parent?"Startup":"Incubator")),React.createElement("div",{className:"col-md-10"},!n.url&&React.createElement("h2",null,"None"),n.url&&React.createElement("a",{href:n.url,target:"_target"},n.url))),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-2"},React.createElement("h4",null,"Logo"),React.createElement("p",{className:"small"},"of the ",this.props.parent?"Startup":"Incubator")),React.createElement("div",{className:"col-md-10"},!n.image&&React.createElement("h2",null,"None"),n.image&&React.createElement("img",{width:"100",height:"100",ref:function(n){return t.image=$(n)},src:n.image?"data:image/png;base64, "+n.image:""}))),this.props.parent&&n.totalSupply&&React.createElement("br",null),this.props.parent&&n.totalSupply&&React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"Total Supply"),React.createElement("p",{className:"small"},"The amount of SEED tokens this startup needs to raise")),React.createElement("div",{className:"col-md-8"},React.createElement("h2",null,Utils.roundWei(n.totalSupply)," SEED"))),!this.props.parent&&React.createElement("br",null),!this.props.parent&&React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-2"},React.createElement("h4",null,"Tags"),React.createElement("p",{className:"small"},"useful for searches by the investor")),React.createElement("div",{className:"col-md-10"},!n.tags&&React.createElement("h2",null,"None"),n.tags&&React.createElement("h2",null,n.tags.join(" ")))),this.props.parent&&React.createElement("br",null),this.props.parent&&React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"Startup value"),React.createElement("p",{className:"small"},"The extimated value of the startup, expressed in local currency")),React.createElement("div",{className:"col-md-8 relative"},React.createElement("h2",null,this.renderPortfolioValue()+" "+this.renderPortfolioCurrency()),s&&this.renderPortfolioValue()!=="NONE"&&React.createElement("div",{className:"sticker"},"Verified by ","    ",React.createElement("img",{width:"30",height:"30",src:"data:image/png;base64, "+s})))),React.createElement("br",null),React.createElement("br",null))),!this.props.parent&&React.createElement("div",{className:"tab-pane",id:"economic-data",role:"tabpanel"},React.createElement("form",{className:"kt-form",action:""},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"Exchange Rate"),React.createElement("p",{className:"small"},"the amount of ",n.symbol," tokens the investor will receive for every invested SEED")),React.createElement("div",{className:"col-md-8"},React.createElement("h2",null,Utils.roundWei(n.seedRate)," ",n.symbol))),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"Exchange Rate On Top"),React.createElement("p",{className:"small"},"the amount of ",n.symbol," tokens the incubator will receive for every invested SEED")),React.createElement("div",{className:"col-md-8"},React.createElement("h2",null,Utils.roundWei(n.exchangeRateOnTop)," ",n.symbol))),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"Total Supply"),React.createElement("p",{className:"small"},"The amount of SEED tokens this basket needs to raise")),React.createElement("div",{className:"col-md-8"},React.createElement("h2",null,Utils.roundWei(n.totalSupply)," SEED"))),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"White List Threshold Balance"),React.createElement("p",{className:"small"},"the maximum amount of ",n.symbol," tokens that each investor can accumulate without the need of whitelisting")),React.createElement("div",{className:"col-md-8"},React.createElement("h2",null,Utils.roundWei(n.whiteListThreshold)," ",n.symbol))),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"Success fee percentage"),React.createElement("p",{className:"small"},"the percentage of capital the incubator will retain from a startup's exit")),React.createElement("div",{className:"col-md-8"},React.createElement("h2",null,Utils.normalizeBasketSuccessFee(n.basketSuccessFee||0),"%"))),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"Portfolio value"),React.createElement("p",{className:"small"},"The extimated value of the basket, expressed in local currency")),React.createElement("div",{className:"col-md-8 relative"},React.createElement("h2",null,this.renderPortfolioValue()+" "+this.renderPortfolioCurrency()),s&&this.renderPortfolioValue()!=="NONE"&&React.createElement("div",{className:"sticker"},"Verified by ","    ",React.createElement("img",{width:"30",height:"30",src:"data:image/png;base64, "+s})))))),!this.props.parent&&React.createElement("div",{className:"tab-pane",id:"members",role:"tabpanel"},React.createElement(Members,{element:n,view:this.props.view}))))))}});var DexController=function(t){var n=this;n.view=t,n.ethAddress="0x0000000000000000000000000000000000000000",n.setBalances=function(t){delete n.balances,delete n.balancesTime;try{n.balances=JSON.parse(JSON.stringify(t)),n.balancesTime=(new Date).getTime()}catch(r){}},n.getBalances=function(){function t(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(){var e,t;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:e=undefined;try{e=n.view.getProduct().tokenAddress}catch(s){}!n.balancesTime&&(n.balancesTime=0),t=n.balances;if(!(!t||(new Date).getTime()-n.balancesTime>=18e4)){i.next=9;break}return i.next=7,client.userManager.getBalances(e||client.contractsManager.SEEDTokenAddress);case 7:t=n.balances=i.sent,n.balancesTime=(new Date).getTime();case 9:return delete t.address,Object.keys(t).map(function(e){return t[e]=Utils.cleanNumber(t[e])}),t.address=e,i.abrupt("return",t);case 13:case"end":return i.stop()}},r,this)}));return t}(),n.depositToken=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i,s,o,u;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.getBalances();case 2:t=a.sent;if(!(e>t.token)){a.next=6;break}return alert("Not enough funds to perform this operation"),a.abrupt("return");case 6:return i=t.address||client.contractsManager.SEEDTokenAddress,s=t.address?n.view.getProduct().symbol:"SEED",a.t0=parseInt,a.next=11,client.contractsManager.call(contracts.Token,i,"allowance",client.userManager.user.wallet,client.contractsManager.dexAddress);case 11:a.t1=a.sent,o=(0,a.t0)(a.t1),u=e-o;if(!(u>0)){a.next=26;break}return a.prev=15,a.next=18,client.contractsManager.submit("Step 1 of 2 - Allow the DEX to spend "+Utils.roundWei(u)+" "+s+" tokens for you",contracts.Token,i,"approve",client.contractsManager.dexAddress,Utils.numberToString(u));case 18:if(a.sent){a.next=20;break}return a.abrupt("return");case 20:a.next=26;break;case 22:return a.prev=22,a.t2=a["catch"](15),console.error(a.t2),a.abrupt("return");case 26:return a.prev=26,a.next=29,client.contractsManager.submit((u>0?"Step 2 of 2 - ":"")+"Deposit "+Utils.roundWei(e)+" "+s+" Tokens in the DEX",contracts.SeedDex,client.contractsManager.dexAddress,"depositToken",i,Utils.numberToString(e));case 29:a.next=34;break;case 31:a.prev=31,a.t3=a["catch"](26),console.error(a.t3);case 34:case"end":return a.stop()}},r,this,[[15,22],[26,31]])}));return t}(),n.depositSeedOrEther=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i,s;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,n.getBalances();case 2:t=o.sent;if(!(e>(t.address?t.seed:t.eth))){o.next=6;break}return alert("Not enough funds to perform this operation"),o.abrupt("return");case 6:i=0;if(!t.address){o.next=26;break}return o.t0=parseInt,o.next=11,client.contractsManager.call(contracts.ERC20Seed,client.contractsManager.SEEDTokenAddress,"allowance",client.userManager.user.wallet,client.contractsManager.dexAddress);case 11:o.t1=o.sent,s=(0,o.t0)(o.t1),i=e-s;if(!(i>0)){o.next=26;break}return o.prev=15,o.next=18,client.contractsManager.submit("Step 1 of 2 - Allow the DEX to spend "+Utils.roundWei(i)+" SEED Tokens for you",contracts.ERC20Seed,client.contractsManager.SEEDTokenAddress,"approve",client.contractsManager.dexAddress,Utils.numberToString(i));case 18:if(o.sent){o.next=20;break}return o.abrupt("return");case 20:o.next=26;break;case 22:return o.prev=22,o.t2=o["catch"](15),console.error(o.t2),o.abrupt("return");case 26:o.prev=26,o.t3=t.address;if(!o.t3){o.next=31;break}return o.next=31,client.contractsManager.submit((i>0?"Step 2 of 2 - ":"")+"Deposit "+Utils.roundWei(e)+" SEED Tokens in the DEX",contracts.SeedDex,client.contractsManager.dexAddress,"depositToken",client.contractsManager.SEEDTokenAddress,Utils.numberToString(e));case 31:o.t4=!t.address;if(!o.t4){o.next=35;break}return o.next=35,client.contractsManager.submit("Deposit "+Utils.roundWei(e)+" eth in the DEX",contracts.SeedDex,client.contractsManager.dexAddress,"deposit",Utils.numberToString(e));case 35:o.next=40;break;case 37:o.prev=37,o.t5=o["catch"](26),console.error(o.t5);case 40:case"end":return o.stop()}},r,this,[[15,22],[26,37]])}));return t}(),n.withdrawToken=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i,s;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,n.getBalances();case 2:t=o.sent;if(!(e>t.dexToken)){o.next=6;break}return alert("Not enough funds to perform this operation"),o.abrupt("return");case 6:return i=t.address||client.contractsManager.SEEDTokenAddress,s=t.address?n.view.getProduct().symbol:"SEED",o.prev=8,o.next=11,client.contractsManager.submit("Withdraw "+Utils.roundWei(e)+" "+s+" Tokens from the DEX",contracts.SeedDex,client.contractsManager.dexAddress,"withdrawToken",i,Utils.numberToString(e));case 11:o.next=16;break;case 13:o.prev=13,o.t0=o["catch"](8),console.error(o.t0);case 16:case"end":return o.stop()}},r,this,[[8,13]])}));return t}(),n.withdrawSeedOrEther=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,n.getBalances();case 2:t=i.sent;if(!(e>(t.address?t.dexSEED:t.dexEth))){i.next=6;break}return alert("Not enough funds to perform this operation"),i.abrupt("return");case 6:i.prev=6,i.t0=t.address;if(!i.t0){i.next=11;break}return i.next=11,client.contractsManager.submit((toAllow>0?"Step 2 of 2 - ":"")+"Withdraw "+Utils.roundWei(e)+" SEED Tokens from the DEX",contracts.SeedDex,client.contractsManager.dexAddress,"withdrawToken",client.contractsManager.SEEDTokenAddress,Utils.numberToString(e));case 11:i.t1=!t.address;if(!i.t1){i.next=15;break}return i.next=15,client.contractsManager.submit("Withdraw "+Utils.roundWei(e)+" eth from the DEX",contracts.SeedDex,client.contractsManager.dexAddress,"withdraw",Utils.numberToString(e));case 15:i.next=20;break;case 17:i.prev=17,i.t2=i["catch"](6),console.error(i.t2);case 20:case"end":return i.stop()}},r,this,[[6,17]])}));return t}(),n.transferToken=function(){function t(t,n){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e,t){var i,s,o;return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(e.toLowerCase()!==client.userManager.user.wallet.toLowerCase()){u.next=3;break}return alert("Cannot transfer funds to yourself"),u.abrupt("return");case 3:return u.next=5,n.getBalances();case 5:i=u.sent;if(!(t>i.token)){u.next=9;break}return alert("Not enough funds to perform this operation"),u.abrupt("return");case 9:return s=i.address||client.contractsManager.SEEDTokenAddress,o=i.address?n.view.getProduct().symbol:"SEED",u.prev=11,u.next=14,client.contractsManager.submit("Transfer "+Utils.roundWei(t)+" "+o+" Tokens",contracts.Token,s,"transfer",e,Utils.numberToString(t));case 14:u.next=19;break;case 16:u.prev=16,u.t0=u["catch"](11),console.error(u.t0);case 19:case"end":return u.stop()}},r,this,[[11,16]])}));return t}(),n.transferSeedOrEther=function(){function t(t,n){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e,t){var i,s;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(e.toLowerCase()!==client.userManager.user.wallet.toLowerCase()){o.next=3;break}return alert("Cannot transfer funds to yourself"),o.abrupt("return");case 3:return o.next=5,n.getBalances();case 5:i=o.sent;if(!(t>(i.address?i.seed:i.eth))){o.next=9;break}return alert("Not enough funds to perform this operation"),o.abrupt("return");case 9:o.prev=9,o.t0=i.address;if(!o.t0){o.next=14;break}return o.next=14,client.contractsManager.submit("Transfer "+Utils.roundWei(t)+" SEED Tokens",contracts.Token,client.contractsManager.SEEDTokenAddress,"transfer",e,Utils.numberToString(t));case 14:if(i.address){o.next=20;break}return o.next=17,client.userManager.signTransaction(e,"0x0",Utils.numberToString(t));case 17:return s=o.sent,o.next=20,client.blockchainManager.sendSignedTransaction(s,"Transfer "+Utils.roundWei(t)+" eth");case 20:o.next=25;break;case 22:o.prev=22,o.t1=o["catch"](9),console.error(o.t1);case 25:case"end":return o.stop()}},r,this,[[9,22]])}));return t}(),n.order=function(){function t(t,n,r,i,s){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e,t,i,s,o){var u,a,f,l,c,h,p;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,n.getBalances();case 2:u=i.sent,a=e?s:t,f=u.address?u.dexSEED:u.dexEth,!e&&(f=u.address?u.dexToken:u.dexSEED);if(!(a>f)){i.next=8;break}return i.abrupt("return",alert("Not enough funds to perform this operation"));case 8:return l=e?u.address||client.contractsManager.SEEDTokenAddress:u.address?client.contractsManager.SEEDTokenAddress:n.ethAddress,c=Utils.numberToString(e?t:s),a=Utils.numberToString(a),h=e?u.address?client.contractsManager.SEEDTokenAddress:n.ethAddress:u.address||client.contractsManager.SEEDTokenAddress,i.t0=Utils,i.t1=o,i.next=16,client.blockchainManager.fetchLastBlockNumber();case 16:return i.t2=i.sent,i.t3=i.t1+i.t2,o=i.t0.numberToString.call(i.t0,i.t3),p=Utils.numberToString((new Date).getTime()),i.next=22,client.contractsManager.SeedDex.order(client.contractsManager.dexAddress,l,c,h,a,o,p,"Place a new "+(e?"buy":"sell")+" order");case 22:case"end":return i.stop()}},r,this)}));return t}(),n.cancelOrder=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function n(e){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,client.contractsManager.SeedDex.cancelOrder(client.contractsManager.dexAddress,e.first,Utils.numberToString(e.amountGet),e.second,Utils.numberToString(e.amountGive),Utils.numberToString(e.expires),Utils.numberToString(e.nonce),"Cancel "+(e.buy?"buy":"sell")+" order");case 2:case"end":return n.stop()}},n,this)}));return t}(),n.trade=function(){function t(t,n){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e,t){var i,s;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,n.getBalances();case 2:i=o.sent,s=e.buy?i.address?i.dexToken:i.dexSEED:i.address?i.dexSEED:i.dexEth;if(!(t>s)){o.next=6;break}return o.abrupt("return",alert("Not enough funds to perform this operation"));case 6:return o.t0=e.expires,o.next=9,client.blockchainManager.fetchLastBlockNumber();case 9:o.t1=o.sent;if(!(o.t0<o.t1)){o.next=14;break}return n.view.updateOrders(),setTimeout(function(){return alert("Order expired")}),o.abrupt("return",!0);case 14:return o.next=16,client.contractsManager.SeedDex.trade(client.contractsManager.dexAddress,e.first,Utils.numberToString(e.amountGet),e.second,Utils.numberToString(e.amountGive),Utils.numberToString(e.expires),Utils.numberToString(e.nonce),e.user,Utils.numberToString(t),"Trade Order");case 16:return o.abrupt("return",o.sent);case 17:case"end":return o.stop()}},r,this)}));return t}()};var Dex=React.createClass({displayName:"Dex",secondsPerBlock:14,maxBlockNumber:1e7,title:"Trade",getDefaultSubscriptions:function(){var t=this;return{"amount/eth":function(){return t.loadBalances(!0)},"amount/seed":function(){return t.loadBalances(!0)},"dex/order":this.updateOrders}},updateOrders:function(t){var n=this,r=this.getProduct();client.contractsManager.getOrders(r&&r.tokenAddress,n.state&&n.state.orders,t).then(function(e){return n.setState({product:r,orders:e})})},detail:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=$(t.target).attr("data-position"),r=client.contractsManager.getList()[n];this.emit("page/change",Detail,{element:r})},getProductsArray:function(){var t=client.contractsManager.getArray();t=Enumerable.From(t).Where(function(e){return e.totalSupply===undefined||parseInt(e.totalSupply)>0}).OrderByDescending(function(e){return parseInt(e.position)}).ToArray(),t.unshift({name:"SEED Token",symbol:"SEED",position:"-1"});try{t=Enumerable.From(t).Where(function(e){try{return e.visibility!==2&&(e.visibility!==1||Enumerable.From(product.whiteList).Any(function(e){return e.toLowerCase()===client.userManager.user.wallet.toLowerCase()}))}catch(t){return!1}}).ToArray()}catch(n){}var r=this.state&&this.state.search;return r&&(r=r.toLowerCase())&&(t=Enumerable.From(t).Where(function(e){return e.fundingPanelAddress&&e.fundingPanelAddress.toLowerCase().indexOf(r)!==-1?!0:e.name&&e.name.toLowerCase().indexOf(r)!==-1?!0:e.symbol&&e.symbol.toLowerCase().indexOf(r)!==-1?!0:e.tags&&e.tags.length>0&&Enumerable.From(e.tags).Any(function(e){return e.toLowerCase().indexOf(r)!==-1})?!0:!1}).ToArray()),t},search:function(t){t&&t.preventDefault()&&t.stopPropagation(),this.searchTimeout&&clearTimeout(this.searchTimeout);var n=this.searchBar,r=this;this.searchTimeout=setTimeout(function(){r.setState({search:n&&n.value})},300)},clearSearch:function(t){t&&t.preventDefault()&&t.stopPropagation(),this.searchBar.value="",this.search()},onClick:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=$(t.target).attr("data-position"),r=client.contractsManager.getList()[n];!r&&(r=null),r!==this.getProduct()&&this.setProduct(r)},getProduct:function(){return(this.state?this.state.product:this.props.element)||null},getProductForView:function(){var t=this.getProduct();return t?((t=JSON.parse(JSON.stringify(t))).otherSymbol="SEED",t):{symbol:"SEED",otherSymbol:"ETH"}},setProduct:function(t){var n=this;try{this.unsubscribe("fundingPanel/"+this.getProduct().position+"/updated")}catch(r){}this.setState({product:t||null,orders:null},function(){try{this.subscribe("fundingPanel/"+n.getProduct().position+"/updated",n.loadBalances)}catch(e){}n.updateOrders(),n.loadBalances()})},loadBalances:function(t){var n=undefined;try{n=this.getProduct().tokenAddress}catch(r){}var i=this;if(!t){var s=Utils.roundWei(0);i.domRoot.children().find(".amount-token").each(function(e,t){return $(t).html(s)}),i.domRoot.children().find(".amount-token-dex").each(function(e,t){return $(t).html(s)}),n||(i.domRoot.children().find(".amount-seed").each(function(e,t){return $(t).html(s)}),i.domRoot.children().find(".amount-seed-dex").each(function(e,t){return $(t).html(s)}))}client.userManager.getBalances(n||client.contractsManager.SEEDTokenAddress).then(function(e){try{if(n!==i.getProduct().tokenAddress)return}catch(t){}i.controller.setBalances(e);var r=Utils.roundWei(n?e.token:e.seed);i.domRoot.children().find(".amount-token").each(function(e,t){return $(t).addClass("ellipsis").attr("title",s).html(r)});var o=Utils.roundWei(n?e.seed:e.eth);i.domRoot.children().find(".amount-seed").each(function(e,t){return $(t).addClass("ellipsis").attr("title",o).html(o)});var u=Utils.roundWei(n?e.dexToken:e.dexSEED);i.domRoot.children().find(".amount-token-dex").each(function(e,t){return $(t).addClass("ellipsis").attr("title",u).html(u)});var a=Utils.roundWei(n?e.dexSEED:e.dexEth);i.domRoot.children().find(".amount-seed-dex").each(function(e,t){return $(t).addClass("ellipsis").attr("title",a).html(a)})})},updateNavLinks:function(){this.domRoot.children().find(".active").removeClass("active"),this.domRoot.children().find("a.nav-link").click(function(){$($(this).parents(".nav-tabs")).children().find("a.nav-link").removeClass("active"),$(this).addClass("active")}),this.domRoot.children().find("ul.nav-tabs").children("li.nav-item:first-of-type").children("a.nav-link").click(),this.props.fromBack===!0&&this.domRoot.children().find("ul.nav-tabs:first-of-type").first().children("li.nav-item:last-of-type").children("a.nav-link").click()},componentDidMount:function(){this.updateNavLinks(),this.loadBalances(!0),this.updateOrders()},depositToken:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=Utils.toWei(this.depositTokenField);if(n<=0){alert("Amount must be a number greater than 0");return}this.controller.depositToken(n)},depositSeedOrEther:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=Utils.toWei(this.depositSeedOrEtherField);if(n<=0){alert("Amount must be a number greater than 0");return}this.controller.depositSeedOrEther(n)},withdrawToken:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=Utils.toWei(this.withdrawTokenField);if(n<=0){alert("Amount must be a number greater than 0");return}this.controller.withdrawToken(n)},withdrawSeedOrEther:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=Utils.toWei(this.withdrawSeedOrEtherField);if(n<=0){alert("Amount must be a number greater than 0");return}this.controller.withdrawSeedOrEther(n)},transferToken:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=Utils.toWei(this.transferTokenAmountField);if(n<=0){alert("Amount must be a number greater than 0");return}var r=this.transferTokenAddressField.value.split(" ").join("");if(!Utils.isEthereumAddress(r)){alert("Insert a valid ethereum address");return}this.controller.transferToken(r,n)},transferSeedOrEther:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=Utils.toWei(this.transferSeedOrEtherAmountField);if(n<=0){alert("Amount must be a number greater than 0");return}var r=this.transferSeedOrEtherAddressField.value.split(" ").join("");if(!Utils.isEthereumAddress(r)){alert("Insert a valid ethereum address");return}this.controller.transferSeedOrEther(r,n)},onBuySellChange:function(t){Utils.parseNumber(t,this.updateBuySell)},updateBuySell:function(){var t=Utils.cleanNumber(this.buySellAmount),n=Utils.cleanNumber(this.buySellPrice),r=t*n;r=web3.utils.toWei(Utils.numberToString(r),"ether"),this.buySellTotal.value=Utils.roundWei(r)},tryPlaceOrder:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=$(t.target).attr("data-buy")==="true",r=Utils.toWei(this.buySellAmount);if(r<=0)return alert("Amount must be greater than 0");var i=Utils.toWei(this.buySellPrice);if(i<=0)return alert("Price must be greater than 0");var s=Utils.toWei(this.buySellTotal);if(s<=0)return alert("Total must be greater than 0");var o=parseInt(this.buySellExpires.value);if(isNaN(o)||o<=1)return alert("Blocks must be a number higher than 0");this.controller.order(n,r,i,s,o)},cancelOrder:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=$(t.target).attr("data-key"),r=Enumerable.From(this.state.orders).Where(function(e){return e.key===n}).First();this.controller.cancelOrder(r)},onTradeChange:function(t){Utils.parseNumber(t,this.updateTradeModal)},updateTradeModal:function(){var t=Utils.cleanNumber(this.tradeModalAmount)*Utils.cleanNumber(this.tradeModalPrice);this.tradeModalTotal.value=Utils.numberToString(t,!0)},askTrade:function(t,n){t&&t.preventDefault()&&t.stopPropagation();if(!client.userManager.user)return;this.order=n;var r=Utils.numberToString(n.buy?n.amountGetSum:n.amountGiveSum);r=web3.utils.fromWei(r,"ether"),r=parseFloat(r),r=Utils.numberToString(r,!0),this.tradeModalType1.html("<strong>"+(n.buy?"SELL":"BUY")+"</strong>"),this.tradeModalType2.html("<strong>"+(n.buy?"BUY":"SELL")+"</strong>"),this.tradeModalAmount.value=r,this.tradeModalAvailable.innerHTML=" of "+r,this.tradeModalPrice.value=n.amount,this.updateTradeModal(),this.tradeModal.show()},trade:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=Utils.toWei(this.order.buy?this.tradeModalAmount:this.tradeModalTotal);if(n<=0)return alert("Amount must be anumber greater than 0");if(n>(this.order.buy?this.order.amountGetSum:this.order.amountGiveSum))return alert("Specified amount exceedes availability");this.tradeModal.hide(),this.controller.trade(this.order,n)},convertBlocksToSeconds:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=0,r=parseInt(this.buySellExpires.value);!isNaN(r)&&r>0&&(n=r*this.secondsPerBlock),this.blocksToSeconds.innerHTML=Utils.numberToString(n)},onOrderThresholdChange:function(t){Utils.parseNumber(t,this.updateOrderThreshold)},updateOrderThreshold:function(){client.persistenceManager.set(client.persistenceManager.PERSISTENCE_PROPERTIES.orderThreshold,Utils.toWei(this.orderThreshold)),this.forceUpdate()},getOrders:function(t){var n=[],r=[],i=[],s=[];try{var o=JSON.parse(JSON.stringify(this.state.orders));s=Enumerable.From(o[0]).Reverse().ToArray(),o.shift(),o=Enumerable.From(o).Where(function(e){return e.amountGiveSum>0&&e.amountGetSum>0&&e.amountNumber>=t}),n=o.Where(function(e){return e.buy}).OrderBy(function(e){return e.amountWei}).ToArray(),r=o.Where(function(e){return!e.buy}).OrderByDescending(function(e){return e.amountWei}).ToArray();var u=client.userManager.user.wallet.toLowerCase();i=o.Where(function(e){return e.user===u}).OrderByDescending().ToArray()}catch(a){}return{buyOrders:n,sellOrders:r,myOrders:i,trades:s}},render:function(){var t=this,n=this,r=n.getProductsArray(),i=n.getProductForView(),s=client.persistenceManager.get(client.persistenceManager.PERSISTENCE_PROPERTIES.orderThreshold);s=s||0;var o=n.getOrders(Utils.toEther(s)),u=o.buyOrders,a=o.sellOrders,f=o.myOrders,l=o.trades;return React.createElement("div",{className:"kt-grid__item kt-grid__item--fluid kt-grid kt-grid--ver kt-grid--stretch"},React.createElement("div",{className:"kt-container kt-body kt-grid kt-grid--ver",id:"kt_body"},React.createElement("div",{className:"kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor"},React.createElement("div",{className:"kt-content kt-grid__item kt-grid__item--fluid"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-3 my-situation"},React.createElement("h3",null,"My Situation"),!client.userManager.user&&React.createElement("p",null,"You must load a wallet to operate."),client.userManager.user&&[React.createElement("ul",{className:"nav nav-tabs nav-tabs-line nav-tabs-bold nav-tabs-line-3x",role:"tablist"},React.createElement("li",{className:"nav-item"},React.createElement("a",{className:"nav-link","data-toggle":"tab",href:"#deposit",role:"tab"},"Deposit")),React.createElement("li",{className:"nav-item"},React.createElement("a",{className:"nav-link","data-toggle":"tab",href:"#withdraw",role:"tab"},"Withdraw")),React.createElement("li",{className:"nav-item"},React.createElement("a",{className:"nav-link","data-toggle":"tab",href:"#transfer",role:"tab"},"Transfer"))),React.createElement("div",{className:"row label-general"},React.createElement("div",{className:"col-md-4"},"Token"),React.createElement("div",{className:"col-md-4"},"Wallet"),React.createElement("div",{className:"col-md-4"},"DEX")),React.createElement("div",{className:"tab-content"},React.createElement("div",{className:"tab-pane",id:"deposit",role:"tabpanel"},React.createElement("form",{className:"kt-form",action:""},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},Utils.cleanTokenSymbol(i.symbol)),React.createElement("div",{className:"col-md-4 amount-token"},Utils.roundWei()),React.createElement("div",{className:"col-md-4 amount-token-dex"},Utils.roundWei())),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-8 form-group"},React.createElement("input",{className:"form-control",type:"text",ref:function(n){return(t.depositTokenField=n)&&(n.value=Utils.roundWei())},onChange:Utils.parseNumber})),React.createElement("div",{className:"col-md-4 form-group"},React.createElement("button",{type:"button",className:"btn btn-brand btn-pill btn-elevate browse-btn",onClick:this.depositToken},"Deposit"))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},i.otherSymbol),React.createElement("div",{className:"col-md-4 amount-seed"},Utils.roundWei()),React.createElement("div",{className:"col-md-4 amount-seed-dex"},Utils.roundWei())),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-8 form-group"},React.createElement("input",{className:"form-control",type:"text",ref:function(n){return(t.depositSeedOrEtherField=n)&&(n.value=Utils.roundWei())},onChange:Utils.parseNumber})),React.createElement("div",{className:"col-md-4 form-group"},React.createElement("button",{type:"button",className:"btn btn-brand btn-pill btn-elevate browse-btn",onClick:this.depositSeedOrEther},"Deposit"))))),React.createElement("div",{className:"tab-pane",id:"withdraw",role:"tabpanel"},React.createElement("form",{className:"kt-form",action:""},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},Utils.cleanTokenSymbol(i.symbol)),React.createElement("div",{className:"col-md-4 amount-token"},Utils.roundWei()),React.createElement("div",{className:"col-md-4 amount-token-dex"},Utils.roundWei())),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-8 form-group"},React.createElement("input",{className:"form-control",type:"text",ref:function(n){return(t.withdrawTokenField=n)&&(n.value=Utils.roundWei())},onChange:Utils.parseNumber})),React.createElement("div",{className:"col-md-4 form-group"},React.createElement("button",{type:"button",className:"btn btn-brand btn-pill btn-elevate browse-btn",onClick:this.withdrawToken},"Withdraw"))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},i.otherSymbol),React.createElement("div",{className:"col-md-4 amount-seed"},Utils.roundWei()),React.createElement("div",{className:"col-md-4 amount-seed-dex"},Utils.roundWei())),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-8 form-group"},React.createElement("input",{className:"form-control",type:"text",ref:function(n){return(t.withdrawSeedOrEtherField=n)&&(n.value=Utils.roundWei())},onChange:Utils.parseNumber})),React.createElement("div",{className:"col-md-4 form-group"},React.createElement("button",{type:"button",className:"btn btn-brand btn-pill btn-elevate browse-btn",onClick:this.withdrawSeedOrEther},"Withdraw"))))),React.createElement("div",{className:"tab-pane",id:"transfer",role:"tabpanel"},React.createElement("form",{className:"kt-form",action:""},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},Utils.cleanTokenSymbol(i.symbol)),React.createElement("div",{className:"col-md-4 amount-token"},Utils.roundWei()),React.createElement("div",{className:"col-md-4 amount-token-dex"},Utils.roundWei())),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4 form-group"},React.createElement("input",{className:"form-control",type:"text",ref:function(n){return(t.transferTokenAmountField=n)&&(n.value=Utils.roundWei())},onChange:Utils.parseNumber})),React.createElement("div",{className:"col-md-4 form-group"},React.createElement("input",{className:"form-control",type:"text",ref:function(n){return t.transferTokenAddressField=n},placeholder:"Address"})),React.createElement("div",{className:"col-md-4 form-group"},React.createElement("button",{type:"button",className:"btn btn-brand btn-pill btn-elevate browse-btn",onClick:this.transferToken},"Transfer"))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},i.otherSymbol),React.createElement("div",{className:"col-md-4 amount-seed"},Utils.roundWei()),React.createElement("div",{className:"col-md-4 amount-seed-dex"},Utils.roundWei())),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4 form-group"},React.createElement("input",{className:"form-control",type:"text",ref:function(n){return(t.transferSeedOrEtherAmountField=n)&&(n.value=Utils.roundWei())},onChange:Utils.parseNumber})),React.createElement("div",{className:"col-md-4 form-group"},React.createElement("input",{className:"form-control",type:"text",ref:function(n){return t.transferSeedOrEtherAddressField=n},placeholder:"Address"})),React.createElement("div",{className:"col-md-4 form-group"},React.createElement("button",{type:"button",className:"btn btn-brand btn-pill btn-elevate browse-btn",onClick:this.transferSeedOrEther},"Transfer"))))))],React.createElement("div",null,React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},"Hide orders with price less than")),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-8 form-group"},React.createElement("input",{className:"form-control",type:"text",ref:function(n){return(t.orderThreshold=n)&&(n.value=Utils.roundWei(s))},onChange:this.onOrderThresholdChange})),React.createElement("div",{className:"col-md-4"},i.symbol," / ",i.otherSymbol)))),React.createElement("div",{className:"col-md-6 book"},React.createElement("h3",null,"Book"),React.createElement("div",{className:"order-book"},React.createElement("div",{className:"sell"},React.createElement("div",{ref:function(t){return t&&(t.scrollTop=t.scrollHeight)}},a.map(function(e){return React.createElement("div",{key:e.key,className:"order row",onClick:function(r){return n.askTrade(r,e)}},React.createElement("div",{className:"col-md-4 color-red"},React.createElement("div",{className:"ellipsis",title:e.amount},e.amount)),React.createElement("div",{className:"col-md-4"},React.createElement("div",{className:"ellipsis",title:Utils.roundWei(e.amountGiveSum)},Utils.roundWei(e.amountGiveSum))),React.createElement("div",{className:"col-md-4"},React.createElement("div",{className:"ellipsis",title:Utils.roundWei(e.amountGetSum)},Utils.roundWei(e.amountGetSum))))}))),React.createElement("div",{className:"title"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},Utils.cleanTokenSymbol(i.symbol)," / ",Utils.cleanTokenSymbol(i.otherSymbol)),React.createElement("div",{className:"col-md-4"},Utils.cleanTokenSymbol(i.symbol)),React.createElement("div",{className:"col-md-4"},Utils.cleanTokenSymbol(i.otherSymbol)))),React.createElement("div",{className:"buy"},React.createElement("div",null,u.map(function(e){return React.createElement("div",{key:e.key,className:"order row",onClick:function(r){return n.askTrade(r,e)}},React.createElement("div",{className:"col-md-4 color-green"},React.createElement("div",{className:"ellipsis",title:e.amount},e.amount)),React.createElement("div",{className:"col-md-4"},React.createElement("div",{className:"ellipsis",title:Utils.roundWei(e.amountGetSum)},Utils.roundWei(e.amountGetSum))),React.createElement("div",{className:"col-md-4"},React.createElement("div",{className:"ellipsis",title:Utils.roundWei(e.amountGiveSum)},Utils.roundWei(e.amountGiveSum))))}))))),React.createElement("div",{className:"col-md-3 last-trades"},React.createElement("h3",null,"Last Trades"),React.createElement("div",{className:"title"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-3"},Utils.cleanTokenSymbol(i.symbol)," / ",Utils.cleanTokenSymbol(i.otherSymbol)),React.createElement("div",{className:"col-md-3"},Utils.cleanTokenSymbol(i.symbol)),React.createElement("div",{className:"col-md-3"},Utils.cleanTokenSymbol(i.otherSymbol)),React.createElement("div",{className:"col-md-3"}," "))),React.createElement("div",{className:"last-trades-list"},l.map(function(e){return React.createElement("div",{key:e.transactionHash,className:"trade row"},React.createElement("div",{className:"col-md-3 color-"+(e.buy?"green":"red")},React.createElement("div",{className:"ellipsis",title:e.amount},e.amount)),React.createElement("div",{className:"col-md-3"},React.createElement("div",{className:"ellipsis",title:Utils.roundWei(e.buy?e.amountGetDecursion:e.amountGiveDecursion)},Utils.roundWei(e.buy?e.amountGetDecursion:e.amountGiveDecursion))),React.createElement("div",{className:"col-md-3"},React.createElement("div",{className:"ellipsis",title:Utils.roundWei(e.buy?e.amountGiveDecursion:e.amountGetDecursion)},Utils.roundWei(e.buy?e.amountGiveDecursion:e.amountGetDecursion))),React.createElement("div",{className:"col-md-3"},React.createElement("a",{href:client.persistenceManager.get(client.persistenceManager.PERSISTENCE_PROPERTIES.etherscanURL)+"tx/"+e.transactionHash},"Detail")))})))),React.createElement("div",{className:"row bottom"},React.createElement("div",{className:"col-md-3 baskets"},React.createElement("h3",null,"Baskets"),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},React.createElement("div",{className:"row searchBar"},React.createElement("div",{className:"col-sm-10 separator"},React.createElement("input",{type:"text",placeholder:"Search...",onChange:this.search,ref:function(n){return t.searchBar=n}})),React.createElement("div",{className:"col-sm-2 clear"},React.createElement("a",{href:"#",className:"kt-subheader__breadcrumbs-home",onClick:this.clearSearch},React.createElement("i",{className:"fas fa-remove"})))))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},React.createElement("ul",null,r.map(function(e){return React.createElement("li",{key:e.position,"data-position":e.position,onClick:n.onClick},Utils.cleanTokenSymbol(e.symbol)," / ",e.position==="-1"?"ETH":"SEED",e.position!=="-1"&&React.createElement("a",{href:"javascript:;","data-position":e.position,onClick:n.detail},"Details"))}))))),React.createElement("div",{className:"col-md-6 buy-sell"},React.createElement("h3",null,"Place an Order"),!client.userManager.user&&React.createElement("p",null,"You must load a wallet to see this."),client.userManager.user&&React.createElement("form",{className:"kt-form",action:""},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-3 form-group"},React.createElement("h4",null,Utils.cleanTokenSymbol(i.symbol))),React.createElement("div",{className:"col-md-5 form-group"},React.createElement("input",{className:"form-control",type:"text",ref:function(n){return(t.buySellAmount=n)&&(n.value=Utils.roundWei())},onChange:this.onBuySellChange}))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-3 form-group"},React.createElement("h4",null,Utils.cleanTokenSymbol(i.symbol),"/",Utils.cleanTokenSymbol(i.otherSymbol))),React.createElement("div",{className:"col-md-5 form-group"},React.createElement("input",{className:"form-control",type:"text",ref:function(n){return(t.buySellPrice=n)&&(n.value=Utils.roundWei())},onChange:this.onBuySellChange})),React.createElement("div",{className:"col-md-1"}),React.createElement("div",{className:"col-md-3 form-group"},React.createElement("button",{type:"button",className:"btn btn-brand btn-pill btn-elevate browse-btn","data-buy":"true",onClick:this.tryPlaceOrder},"Buy ",Utils.cleanTokenSymbol(i.symbol)))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-3 form-group"},React.createElement("h4",null,i.otherSymbol)),React.createElement("div",{className:"col-md-5 form-group"},React.createElement("input",{className:"form-control",type:"text",ref:function(n){return(t.buySellTotal=n)&&(n.value=Utils.roundWei())},onChange:Utils.parseNumber,disabled:!0}))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-3 form-group"},React.createElement("h4",null,"Expires in")),React.createElement("div",{className:"col-md-2 form-group"},React.createElement("input",{className:"form-control",type:"number",ref:function(n){return(t.buySellExpires=n)&&(n.value=1e4)},onChange:this.convertBlocksToSeconds})),React.createElement("div",{className:"col-md-4 form-group"},React.createElement("h4",{className:"tail"},"blocks ",React.createElement("span",{className:"tiny"},"(",React.createElement("span",{ref:function(n){return(t.blocksToSeconds=n)&&t.convertBlocksToSeconds()}})," secs)"))),React.createElement("div",{className:"col-md-3 form-group"},React.createElement("button",{type:"button",className:"btn btn-brand-secondary btn-pill btn-elevate browse-btn",onClick:this.tryPlaceOrder},"Sell ",Utils.cleanTokenSymbol(i.symbol)))))),React.createElement("div",{className:"col-md-3 my-orders"},React.createElement("h3",null,"My Orders"),!client.userManager.user&&React.createElement("p",null,"You must load a wallet to see this."),client.userManager.user&&React.createElement("ul",null,f.map(function(e){return React.createElement("li",{key:e.key},React.createElement("strong",null,e.buy?"BUY":"SELL")," ",React.createElement("div",{className:"ellipsis",title:Utils.roundWei(e.amountGet)},Utils.roundWei(e.amountGet))," ",Utils.cleanTokenSymbol(e.buy?i.symbol:i.otherSymbol)," ","For ",React.createElement("div",{className:"ellipsis",title:Utils.roundWei(e.amountGive)},Utils.roundWei(e.amountGive))," ",Utils.cleanTokenSymbol(e.buy?i.otherSymbol:i.symbol)," ","(",React.createElement("div",{className:"ellipsis",title:e.amount},e.amount)," ",Utils.cleanTokenSymbol(e.buy?i.symbol:i.otherSymbol)," / ",Utils.cleanTokenSymbol(e.buy?i.otherSymbol:i.symbol),")",React.createElement("a",{href:"javascript:;","data-key":e.key,onClick:n.cancelOrder},"Cancel"))}))))))),React.createElement(Modal,{title:"Trade",ref:function(n){return t.tradeModal=n},backdrop:"static",className:"dex trade",actions:[{text:"Send",className:"btn-brand btn-pill",onClick:n.trade}]},!client.userManager.user&&React.createElement("p",null,"You must load a wallet to perform this operation."),client.userManager.user&&React.createElement("form",{className:"kt-form buy-sell",action:""},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},React.createElement("h4",{ref:function(n){return t.tradeModalType1=$(n)}}))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-3 form-group"},React.createElement("h4",null,Utils.cleanTokenSymbol(i.symbol))),React.createElement("div",{className:"col-md-6 form-group"},React.createElement("input",{className:"form-control",type:"text",ref:function(n){return(t.tradeModalAmount=n)&&(n.value=Utils.roundWei())},onChange:this.onTradeChange,disabled:!0})),React.createElement("div",{className:"col-md-3 form-group"},React.createElement("h4",{style:{visibility:"hidden"},ref:function(n){return t.tradeModalAvailable=n}},"of ",Utils.roundWei()))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-3 form-group"},React.createElement("h4",null,Utils.cleanTokenSymbol(i.symbol),"/",Utils.cleanTokenSymbol(i.otherSymbol))),React.createElement("div",{className:"col-md-9 form-group"},React.createElement("input",{className:"form-control",type:"text",ref:function(n){return(t.tradeModalPrice=n)&&(n.value=Utils.roundWei())},disabled:!0}))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},React.createElement("h4",{ref:function(n){return t.tradeModalType2=$(n)}}))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-3 form-group"},React.createElement("h4",null,i.otherSymbol)),React.createElement("div",{className:"col-md-9 form-group"},React.createElement("input",{className:"form-control",type:"text",ref:function(n){return(t.tradeModalTotal=n)&&(n.value=Utils.roundWei())},disabled:!0}))))))}});var CreateFundingPoolController=function(t){var n=this;n.view=t,n.urlRegex=new RegExp(/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})/gi),n.deployBasket=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i,s,o,u;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n.view.emit("loader/show","","Uploading documents..."),t=e&&e.documents;if(!(t&&t.length>0)){a.next=22;break}i=0;case 4:if(!(i<t.length)){a.next=22;break}s=t[i];if(s.link.indexOf("http")!==0){a.next=8;break}return a.abrupt("continue",19);case 8:return a.prev=8,a.next=11,client.documentsUploaderManager.uploadFile(s.link);case 11:o=a.sent,t[i].link=o,a.next=19;break;case 15:return a.prev=15,a.t0=a["catch"](8),n.view.emit("loader/hide"),a.abrupt("return",alert("Unable to upload file '"+Utils.getLastPartFile(s.link)+"'. Please try again later"));case 19:i++,a.next=4;break;case 22:return s={name:e.name,description:e.description,url:e.url,image:e.image,documents:t,tags:e.tags,sticker:e.sticker,stickerUrl:e.stickerUrl,visibilty:e.visibilty||0},e.basketSuccessFee&&(s.basketSuccessFee=e.basketSuccessFee),a.prev=24,a.next=27,client.documentsUploaderManager.uploadDocument(s);case 27:o=a.sent,a.next=34;break;case 30:return a.prev=30,a.t1=a["catch"](24),n.view.emit("loader/hide"),a.abrupt("return",alert("Unable to upload document. An error occurred: '"+(a.t1.message||a.t1)+"'. Please try again later"));case 34:return n.view.emit("loader/hide"),a.next=37,client.contractsManager.Factory.deployPanelContracts(client.contractsManager.factoryAddress,e.name,e.symbol,o,web3.utils.soliditySha3(JSON.stringify(s)),web3.utils.toWei(""+e.seedRate,"ether"),web3.utils.toWei(""+e.exchangeRateOnTop,"ether"),web3.utils.toWei(""+e.totalSupply,"ether"),web3.utils.toWei(""+e.whiteListThreshold,"ether"));case 37:u=a.sent,u&&setTimeout(function(){return n.view.emit("page/change",Products,{view:"mine"})},700);case 39:case"end":return a.stop()}},r,this,[[8,15],[24,30]])}));return t}(),n.deployMember=function(){function t(t,n){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e,t){var i,s,o,u,a,f,l,c;return regeneratorRuntime.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:h.prev=0,h.t0=regeneratorRuntime.keys(t.members);case 2:if((h.t1=h.t0()).done){h.next=9;break}i=h.t1.value;if(e.walletAddress.toLowerCase()!==t.members[i].address.toLowerCase()){h.next=7;break}return alert("The wallet your are using is already associated to another Startup of this basket"),h.abrupt("return");case 7:h.next=2;break;case 9:h.next=13;break;case 11:h.prev=11,h.t2=h["catch"](0);case 13:return s=new web3.eth.Contract(contracts.AdminTools),o=s.methods.isFundingOperator(client.userManager.user.wallet),h.next=17,client.blockchainManager.call(t.adminsToolsAddress,o.encodeABI());case 17:u=h.sent;try{u=web3.eth.abi.decodeParameters(["bool"],u)[0]}catch(p){u=!1}if(u===!0){h.next=22;break}return alert("Your user is not able to do this operation"),h.abrupt("return");case 22:n.view.emit("loader/show","","Uploading document..."),a=e&&e.documents;if(!(a&&a.length>0)){h.next=44;break}i=0;case 26:if(!(i<a.length)){h.next=44;break}f=a[i];if(f.link.indexOf("http")!==0){h.next=30;break}return h.abrupt("continue",41);case 30:return h.prev=30,h.next=33,client.documentsUploaderManager.uploadFile(f.link);case 33:l=h.sent,a[i].link=l,h.next=41;break;case 37:return h.prev=37,h.t3=h["catch"](30),n.view.emit("loader/hide"),h.abrupt("return",alert("Unable to upload file '"+Utils.getLastPartFile(f.link)+"'. Please try again later"));case 41:i++,h.next=26;break;case 44:return f={name:e.name,description:e.description,url:e.url,image:e.image,documents:a,totalSupply:Utils.toWei(e.totalSupply)},e.portfolioValue&&(f.portfolioValue=e.portfolioValue),e.portfolioCurrency&&(f.portfolioCurrency=e.portfolioCurrency),h.prev=47,h.next=50,client.documentsUploaderManager.uploadDocument(f);case 50:l=h.sent,h.next=57;break;case 53:return h.prev=53,h.t4=h["catch"](47),n.view.emit("loader/hide"),h.abrupt("return",alert("Unable to upload document. An error occurred: '"+(h.t4.message||h.t4)+"'. Please try again later"));case 57:return n.view.emit("loader/hide"),h.next=60,client.contractsManager.FundingPanel.addMemberToSet(t.fundingPanelAddress,e.walletAddress,0,l,web3.utils.soliditySha3(JSON.stringify(f)));case 60:c=h.sent,c&&n.view.back();case 62:case"end":return h.stop()}},r,this,[[0,11],[30,37],[47,53]])}));return t}()};var CreateFundingPool=React.createClass({displayName:"CreateFundingPool",requiredModules:["spa/preferences/documentUploader"],requiredScripts:["assets/plugins/summernote/summernote.min.js","assets/plugins/summernote/summernote.css"],getTitle:function(){return this.props.parent?React.createElement("span",null,"Create new Startup for the Basket ",React.createElement("strong",null,this.props.parent.name)):"Create Basket"},back:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=this,r=n.props.parent;this.emit("page/change",r?this.props.view==="mine"?EditFundingPool:Detail:Products,{element:r,parent:null,fromBack:!0,view:this.props.view},function(){return r&&n.setProduct(r)})},setProduct:function(t){var n=this;this.setState({product:t},function(){n.forceUpdate(),setTimeout(function(){return n.setState({product:t})})})},deploy:function(t){t&&t.preventDefault()&&t.stopPropagation();var n="";try{n=this.image.attr("src").split("data:image/png;base64, ").join("")}catch(r){}var i="";try{i=this.name.value.trim()}catch(r){}if(i===""){var s="Please insert the name of the new ",o=this.props.parent?"Startup":"Basket";alert(s+o);return}var u="";try{u=this.sticker.attr("src").split("data:image/png;base64, ").join("")}catch(r){}var a="";try{a=this.stickerUrl.value.split(" ").join("").toLowerCase()}catch(r){}if(a!==""){if(a.indexOf("http://")!==0&&a.indexOf("https://")!==0){alert("Association URL must start with http:// or https://");return}if(!a.match(this.controller.urlRegex)){alert("Wrong Association URL");return}}if(u===""&&a!==""||u!==""&&a==="")return alert("If you specify an Association, you must insert logo and url");var f="";try{f=this.url.value.split(" ").join("").toLowerCase()}catch(r){}if(f!==""){if(f.indexOf("http://")!==0&&f.indexOf("https://")!==0){alert("URL must start with http:// or https://");return}if(!f.match(this.controller.urlRegex)){alert("Wrong URL");return}}var l=[];try{var c=this.tags.value.split(" ");for(var h in c){var p=c[h].split(" ").join("");p.length>0&&l.push(p)}}catch(r){}var d="";try{d=this.symbol.value.split(" ").join("")}catch(r){}if(!this.props.parent&&d===""){alert("Symbol is mandatory");return}if(!this.props.parent&&d.length>Utils.tokenSymbolLimit)return alert("Symbol must be almost of "+Utils.tokenSymbolLimit+" characters long");var v=0;try{v=Utils.cleanNumber(this.seedRate)}catch(r){}if(!this.props.parent&&(isNaN(v)||v<0)){alert("SEED Rate is a mandatory positive number or zero");return}var m=0;try{m=Utils.cleanNumber(this.exchangeRateOnTop)}catch(r){}if(!this.props.parent&&(isNaN(m)||m<0)){alert("Exchange Rate is a mandatory positive number or zero");return}var g=0;try{g=Utils.cleanNumber(this.whiteListThreshold)}catch(r){}if(!this.props.parent&&(isNaN(g)||m<0)){alert("WhiteList Threshold Balance is a mandatory positive number or zero");return}var y=0;try{y=Utils.cleanNumber(this.totalSupply)}catch(r){}if(!this.props.parent&&(isNaN(y)||y<0)){alert("Total Supply is a mandatory positive number or zero");return}var b=0;try{b=parseFloat(parseFloat(this.basketSuccessFee.value).toFixed(2))}catch(r){b=0}if(!this.props.parent&&(b<0||b>100))return alert("Basket success fee can be a percentage between 0 and 100");var w=0;try{w=parseFloat(Utils.numberToString(this.portfolioValue.value))}catch(r){w=0}if(this.props.parent&&(isNaN(w)||w<0))return alert("Startup value must be a number greater or equal to zero");var E="EUR";try{E=this.portfolioCurrency.val()}catch(r){}if(this.props.parent&&E==="")return alert("Startup value currency must be a valid currency");var S="";try{S=this.walletAddress.value.split(" ").join("")}catch(r){}if(this.props.parent&&!Utils.isEthereumAddress(S)){alert("Wallet address is mandatory");return}var x=parseInt(this.visibilitySelect&&this.visibilitySelect.value);isNaN(x)&&(x=0);var T={name:i,sticker:u,stickerUrl:a,description:$.base64.encode(encodeURI(this.description.summernote("code"))),url:f,image:n,tags:l,documents:this.state&&this.state.documents||[],symbol:d,seedRate:v,exchangeRateOnTop:m,whiteListThreshold:g,totalSupply:y,basketSuccessFee:b,portfolioValue:w,portfolioCurrency:E,walletAddress:S,visibility:x},N=this.props.parent?"Member":"Basket";this.controller["deploy"+N](T,this.props.parent)},loadImage:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=$(t.target),r=require("electron").remote.dialog.showOpenDialog({defaultPath:undefined,filters:[{name:"Image logo",extensions:["png","jpg","jpeg","bmp"]}]});if(r){var i=require("electron").remote.require("fs").readFileSync(r[0]).toString("base64");i="data:image/png;base64, "+i,n.attr("src",i)}},deleteImage:function(t){t&&t.preventDefault()&&t.stopPropagation(),$(t.target).parent().parent().children().find("img").removeAttr("src")},addDocument:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=this.documentName.value;if(n.split(" ").join("")===""){alert("Name is mandatory");return}var r=this.documentLink.value;if(r.indexOf("http://")===-1&&r.indexOf("https://")===-1&&!window.require("electron").remote.require("fs").existsSync(r)){alert("Link must be an existing file or start with http:// or https://");return}var i=this.state&&this.state.documents||[];i.push({name:n,link:r}),this.documentName.value="",this.documentLink.value="",this.setState({documents:i})},browseLocalDocument:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=undefined;n=window.require("electron").remote.dialog.showOpenDialog({defaultPath:undefined,options:{openDirectory:!1,multiSelections:!1}}),n&&(this.documentLink.value=n)},deleteDocument:function(t,n){n&&n.preventDefault()&&n.stopPropagation();var r=this.state.documents,i=r[t];r.splice(t,1);var s=this;this.setState({documents:r},function(){s.documentName.value=i.name,s.documentLink.value=i.link})},onSymbolChange:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=this,r=t.target;this.symbolTimeout&&clearTimeout(this.symbolTimeout),this.symbolTimeout=setTimeout(function(){try{n.domRoot.children().find(".basketName").html(r.value||"basket")}catch(e){}},450)},render:function(){var t=this,n=this;return React.createElement("form",{className:"kt-form",action:"#"},this.props.parent&&React.createElement("br",null),this.props.parent&&React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-2"},React.createElement("h4",null,"Name"),React.createElement("p",{className:"small"},"of the ",this.props.parent&&"Startup"||"Incubator")),React.createElement("div",{className:"col-md-10 form-group"},React.createElement("input",{className:"form-control form-control-last",type:"text",ref:function(n){return t.name=n}}))),!this.props.parent&&React.createElement("br",null),!this.props.parent&&React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-2"},React.createElement("h4",null,"Association"),React.createElement("p",{className:"small"},"of the Incubator")),React.createElement("div",{className:"col-md-5 form-group"},React.createElement("input",{className:"form-control form-control-last",type:"text",placeholder:"Link must start with http:// or https://...",ref:function(n){return t.stickerUrl=n}})),React.createElement("div",{className:"col-md-5 form-group"},React.createElement("a",{href:"javascript:;",onClick:this.loadImage},React.createElement("img",{width:"100",height:"100",ref:function(n){return t.sticker=$(n)}}))," "," "," "," ",React.createElement("a",{href:"javascript:;",onClick:this.deleteImage},React.createElement("i",{className:"fas fa-remove"})))),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-2"},React.createElement("h4",null,"Description"),React.createElement("p",{className:"small"},"of the ",this.props.parent&&"Startup"||"Incubator")),React.createElement("div",{className:"col-md-10 editor"},React.createElement("div",{ref:function(n){return n&&(t.description=$(n)).summernote({minHeight:350,disableResizeEditor:!0})}}))),React.createElement("br",null),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},React.createElement("h3",null,"Documents"),React.createElement("p",{className:"small"},"useful to enrich the description of the business model"))),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"}," "),React.createElement("div",{className:"col-md-2"},React.createElement("input",{className:"form-control form-control-last",type:"text",placeholder:"Name",ref:function(n){return t.documentName=n}})),React.createElement("div",{className:"col-md-3"},React.createElement("input",{className:"form-control form-control-last",type:"text",placeholder:"Link must start with http:// or https://...",ref:function(n){return t.documentLink=n}})),React.createElement("div",{className:"col-md-3"},React.createElement("button",{type:"button",className:"btn btn-secondary btn-pill tiny",onClick:this.browseLocalDocument},"Browse from PC")," "," "," ",React.createElement("button",{type:"button",className:"btn btn-brand btn-pill tiny",onClick:this.addDocument},"Add"))),React.createElement("br",null),React.createElement("br",null),this.state&&this.state.documents&&this.state.documents.map(function(e,n){return React.createElement("div",{key:"document_"+n,className:"row"},React.createElement("div",{className:"col-md-4"}," "),React.createElement("div",{className:"col-md-2"},React.createElement("span",null,e.name)),React.createElement("div",{className:"col-md-3"},e.link.indexOf("http")!==0&&React.createElement("span",null,e.link.length>30?e.link.substring(0,30)+"...":e.link),e.link.indexOf("http")===0&&React.createElement("a",{href:e.link,target:"_blank"},e.link.length>30?e.link.substring(0,30)+"...":e.link)),React.createElement("div",{className:"col-md-3"},React.createElement("h3",null,React.createElement("a",{href:"javascript:;",onClick:function(r){return t.deleteDocument(n,r)}},React.createElement("i",{className:"fas fa-remove"})))))}),React.createElement("br",null),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"URL"),React.createElement("p",{className:"small"},"The website of the ",this.props.parent?"Startup":"Incubator")),React.createElement("div",{className:"col-md-8 form-group"},React.createElement("input",{className:"form-control form-control-last",type:"text",placeholder:"Link must start with http:// or https://",ref:function(n){return t.url=n}}))),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"Logo"),React.createElement("p",{className:"small"},"of the ",this.props.parent?"Startup":"Incubator")),React.createElement("div",{className:"col-md-8 form-group"},React.createElement("a",{href:"javascript:;",onClick:this.loadImage},React.createElement("img",{width:"100",height:"100",ref:function(n){return t.image=$(n)}}))," "," "," "," ",React.createElement("a",{href:"javascript:;",onClick:this.deleteImage},React.createElement("i",{className:"fas fa-remove"})))),!this.props.parent&&React.createElement("br",null),!this.props.parent&&React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"Tags"),React.createElement("p",{className:"small"},"useful for searches by the investor")),React.createElement("div",{className:"col-md-8 form-group"},React.createElement("input",{className:"form-control form-control-last",type:"text",ref:function(n){return t.tags=n}}))),!this.props.parent&&React.createElement("br",null),!this.props.parent&&React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"Visibility"),React.createElement("p",{className:"small"},"of the basket to the public")),React.createElement("div",{className:"col-md-8 form-group"},React.createElement("select",{ref:function(n){return t.visibilitySelect=n}},React.createElement("option",{value:"0",selected:"true"},"Visible to all"),React.createElement("option",{value:"1"},"Visible to Whitelisted addresses only"),React.createElement("option",{value:"2"},"Hidden")))),!this.props.parent&&React.createElement("br",null),!this.props.parent&&React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"Symbol"),React.createElement("p",{className:"small"},"of the new token you will mint")),React.createElement("div",{className:"col-md-8 form-group"},React.createElement("input",{className:"form-control form-control-last",type:"text",ref:function(n){return t.symbol=n},onChange:this.onSymbolChange}))),!this.props.parent&&React.createElement("br",null),!this.props.parent&&React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"Exchange Rate"),React.createElement("p",{className:"small"},"the amount of ",React.createElement("strong",{className:"basketName"},"basket")," tokens the investor will receive for every invested SEED")),React.createElement("div",{className:"col-md-8 form-group"},React.createElement("input",{className:"form-control form-control-last",type:"text",ref:function(n){return t.seedRate=n},onChange:Utils.parseNumber}))),!this.props.parent&&React.createElement("br",null),!this.props.parent&&React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"Exchange Rate on top"),React.createElement("p",{className:"small"},"the amount of ",React.createElement("strong",{className:"basketName"},"basket")," tokens the incubator will receive for every invested SEED")),React.createElement("div",{className:"col-md-8 form-group"},React.createElement("input",{className:"form-control form-control-last",type:"text",ref:function(n){return t.exchangeRateOnTop=n},onChange:Utils.parseNumber}))),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"Total Supply"),React.createElement("p",{className:"small"},"The amount of SEED tokens this "+(this.props.parent?"Startup":"Basket")+" needs to raise")),React.createElement("div",{className:"col-md-8 form-group"},React.createElement("input",{className:"form-control form-control-last",type:"text",ref:function(n){return t.totalSupply=n},onChange:Utils.parseNumber}))),!this.props.parent&&React.createElement("br",null),!this.props.parent&&React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"Whitelist Threshold Balance"),React.createElement("p",{className:"small"},"the maximum amount of ",React.createElement("strong",{className:"basketName"},"basket")," tokens that each investor can accumulate without the need of whitelisting")),React.createElement("div",{className:"col-md-8 form-group"},React.createElement("input",{className:"form-control form-control-last",type:"text",ref:function(n){return t.whiteListThreshold=n},onChange:Utils.parseNumber}))),!this.props.parent&&React.createElement("br",null),!this.props.parent&&React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"Success fee percentage"),React.createElement("p",{className:"small"},"the percentage of capital the incubator will retain from a startup's exit")),React.createElement("div",{className:"col-md-1 form-group"},React.createElement("input",{className:"form-control form-control-last",type:"number",min:"0",max:"100",ref:function(n){return t.basketSuccessFee=n}})),React.createElement("div",{className:"col-md-6"},React.createElement("br",null),React.createElement("h2",null,"%"))),this.props.parent&&React.createElement("br",null),this.props.parent&&React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"Portfolio Value"),React.createElement("p",{className:"small"},"The extimated value of the Startup, expressed in local currency")),React.createElement("div",{className:"col-md-4 form-group"},React.createElement("input",{className:"form-control form-control-last",type:"text",ref:function(n){return(t.portfolioValue=n)&&(n.value=Utils.normalizeBasketSuccessFee(0))},onChange:Utils.parseNumber})),React.createElement("div",{className:"col-md-4"},React.createElement("select",{ref:function(n){return t.portfolioCurrency=$(n)}},React.createElement("option",{selected:!0,value:"EUR"},"EUR"),React.createElement("option",{value:"USD"},"USD"),React.createElement("option",{value:"CHF"},"CHF")))),this.props.parent&&React.createElement("br",null),this.props.parent&&React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"Wallet Address"),React.createElement("p",{className:"small"},"The one used by the Startup to raise the unlocked funds")),React.createElement("div",{className:"col-md-8 form-group"},React.createElement("input",{className:"form-control form-control-last",type:"address",ref:function(n){return t.walletAddress=n}}))),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},React.createElement("button",{type:"button",className:"btn btn-brand btn-pill",onClick:this.deploy},"DEPLOY"))),React.createElement("br",null),React.createElement("br",null),client.persistenceManager.get(client.persistenceManager.PERSISTENCE_PROPERTIES.documentsUploaderProviderSet)!==!0&&React.createElement(Modal,{title:"Choose the way tou will upload documents",readonly:!0,backdrop:"static",keyboard:"false",ref:function(n){return(t.documentsUploaderModal=n)&&n.show()}},React.createElement(DocumentUploader,{onClick:function(){return n.documentsUploaderModal.hide()}})))}});var EditFundingPoolController=function(t){var n=this;n.view=t,n.urlRegex=new RegExp(/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})/gi),n.sendTransactionTo=function(){function t(t,n){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e,t){var i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return n.view.emit("loader/hide"),s.next=3,client.userManager.signTransaction(e,t);case 3:return i=s.sent,s.abrupt("return",client.blockchainManager.sendSignedTransaction(i));case 5:case"end":return s.stop()}},r,this)}));return t}(),n.sendTransactionToFundingPanel=function(t){return n.sendTransactionTo(n.view.getProduct().fundingPanelAddress,t)},n.saveDoc=function(){function t(t,n){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e,t){var i,s,o,u,a,f,l,c,h;return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:n.view.emit("loader/show","","Uploading document..."),i=e&&e.documents;if(!(i&&i.length>0)){p.next=22;break}s=0;case 4:if(!(s<i.length)){p.next=22;break}o=i[s];if(o.link.indexOf("http")!==0){p.next=8;break}return p.abrupt("continue",19);case 8:return p.prev=8,p.next=11,client.documentsUploaderManager.uploadFile(o.link);case 11:u=p.sent,i[s].link=u,p.next=19;break;case 15:return p.prev=15,p.t0=p["catch"](8),n.view.emit("loader/hide"),p.abrupt("return",alert("Unable to upload file '"+Utils.getLastPartFile(o.link)+"'. Please try again later"));case 19:s++,p.next=4;break;case 22:return o={name:e.name,description:e.description,url:e.url,image:e.image,documents:i,tags:e.tags},t&&(o.totalSupply=e.totalSupply),!t&&(o.basketSuccessFee=e.basketSuccessFee),t&&(o.portfolioValue=e.portfolioValue),t&&(o.portfolioCurrency=e.portfolioCurrency),!t&&(o.sticker=e.sticker),!t&&(o.stickerUrl=e.stickerUrl),!t&&(o.visibility=e.visibility),p.prev=30,p.next=33,client.documentsUploaderManager.uploadDocument(o);case 33:a=p.sent,p.next=40;break;case 36:return p.prev=36,p.t1=p["catch"](30),n.view.emit("loader/hide"),p.abrupt("return",alert("Unable to upload document. An error occurred: '"+(p.t1.message||p.t1)+"'. Please try again later"));case 40:return f=new web3.eth.Contract(contracts.FundingPanel),l=f.methods.setOwnerData(a,web3.utils.soliditySha3(JSON.stringify(o))),c=n.view.getProduct().fundingPanelAddress,t===!0&&(l=f.methods.changeMemberData(n.view.getProduct().address,a,web3.utils.soliditySha3(JSON.stringify(o))),c=n.view.props.parent.fundingPanelAddress),p.next=46,n.sendTransactionTo(c,l.encodeABI());case 46:h=p.sent,h&&n.view.back();case 48:case"end":return p.stop()}},r,this,[[8,15],[30,36]])}));return t}(),n.updateSeedRate=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=new web3.eth.Contract(contracts.FundingPanel),i=t.methods.changeTokenExchangeRate(e),s.next=4,n.sendTransactionToFundingPanel(i.encodeABI());case 4:case"end":return s.stop()}},r,this)}));return t}(),n.updateExchangeRate=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=new web3.eth.Contract(contracts.FundingPanel),i=t.methods.changeTokenExchangeOnTopRate(e),s.next=4,n.sendTransactionToFundingPanel(i.encodeABI());case 4:case"end":return s.stop()}},r,this)}));return t}(),n.updateWhiteListThreshold=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=new web3.eth.Contract(contracts.AdminTools),i=t.methods.setNewThreshold(e),s.next=4,n.sendTransactionTo(n.view.getProduct().adminsToolsAddress,i.encodeABI());case 4:case"end":return s.stop()}},r,this)}));return t}(),n.updateTotalSupply=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=new web3.eth.Contract(contracts.FundingPanel),i=t.methods.setNewSeedMaxSupply(e),s.next=4,n.sendTransactionToFundingPanel(i.encodeABI());case 4:case"end":return s.stop()}},r,this)}));return t}(),n.grantFundingManager=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=new web3.eth.Contract(contracts.AdminTools),i=t.methods.addFundingManagers(e),s.next=4,n.sendTransactionTo(n.view.getProduct().adminsToolsAddress,i.encodeABI());case 4:return s.abrupt("return",s.sent);case 5:case"end":return s.stop()}},r,this)}));return t}(),n.denyFundingManager=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=new web3.eth.Contract(contracts.AdminTools),i=t.methods.removeFundingManagers(e),s.next=4,n.sendTransactionTo(n.view.getProduct().adminsToolsAddress,i.encodeABI());case 4:return s.abrupt("return",s.sent);case 5:case"end":return s.stop()}},r,this)}));return t}(),n.verifyFundingManager=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i,s;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=new web3.eth.Contract(contracts.AdminTools),i=t.methods.isFundingManager(e),o.next=4,client.blockchainManager.call(n.view.getProduct().adminsToolsAddress,i.encodeABI());case 4:s=o.sent;try{s=web3.eth.abi.decodeParameters(["bool"],s)}catch(u){s=!1}return o.abrupt("return",s[0]===!0?"YES":"NO");case 7:case"end":return o.stop()}},r,this)}));return t}(),n.grantFundingOperator=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=new web3.eth.Contract(contracts.AdminTools),i=t.methods.addFundingOperators(e),s.next=4,n.sendTransactionTo(n.view.getProduct().adminsToolsAddress,i.encodeABI());case 4:return s.abrupt("return",s.sent);case 5:case"end":return s.stop()}},r,this)}));return t}(),n.denyFundingOperator=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=new web3.eth.Contract(contracts.AdminTools),i=t.methods.removeFundingOperators(e),s.next=4,n.sendTransactionTo(n.view.getProduct().adminsToolsAddress,i.encodeABI());case 4:return s.abrupt("return",s.sent);case 5:case"end":return s.stop()}},r,this)}));return t}(),n.verifyFundingOperator=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i,s;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=new web3.eth.Contract(contracts.AdminTools),i=t.methods.isFundingOperator(e),o.next=4,client.blockchainManager.call(n.view.getProduct().adminsToolsAddress,i.encodeABI());case 4:s=o.sent;try{s=web3.eth.abi.decodeParameters(["bool"],s)}catch(u){s=!1}return o.abrupt("return",s[0]===!0?"YES":"NO");case 7:case"end":return o.stop()}},r,this)}));return t}(),n.grantFundsUnlockManager=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=new web3.eth.Contract(contracts.AdminTools),i=t.methods.addFundsUnlockerManagers(e),s.next=4,n.sendTransactionTo(n.view.getProduct().adminsToolsAddress,i.encodeABI());case 4:return s.abrupt("return",s.sent);case 5:case"end":return s.stop()}},r,this)}));return t}(),n.denyFundsUnlockManager=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=new web3.eth.Contract(contracts.AdminTools),i=t.methods.removeFundsUnlockerManagers(e),s.next=4,n.sendTransactionTo(n.view.getProduct().adminsToolsAddress,i.encodeABI());case 4:return s.abrupt("return",s.sent);case 5:case"end":return s.stop()}},r,this)}));return t}(),n.verifyFundsUnlockManager=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i,s;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=new web3.eth.Contract(contracts.AdminTools),i=t.methods.isFundsUnlockerManager(e),o.next=4,client.blockchainManager.call(n.view.getProduct().adminsToolsAddress,i.encodeABI());case 4:s=o.sent;try{s=web3.eth.abi.decodeParameters(["bool"],s)}catch(u){s=!1}return o.abrupt("return",s[0]===!0?"YES":"NO");case 7:case"end":return o.stop()}},r,this)}));return t}(),n.grantFundsUnlockOperator=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=new web3.eth.Contract(contracts.AdminTools),i=t.methods.addFundsUnlockerOperators(e),s.next=4,n.sendTransactionTo(n.view.getProduct().adminsToolsAddress,i.encodeABI());case 4:return s.abrupt("return",s.sent);case 5:case"end":return s.stop()}},r,this)}));return t}(),n.denyFundsUnlockOperator=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=new web3.eth.Contract(contracts.AdminTools),i=t.methods.removeFundsUnlockerOperators(e),s.next=4,n.sendTransactionTo(n.view.getProduct().adminsToolsAddress,i.encodeABI());case 4:return s.abrupt("return",s.sent);case 5:case"end":return s.stop()}},r,this)}));return t}(),n.verifyFundsUnlockOperator=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i,s;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=new web3.eth.Contract(contracts.AdminTools),i=t.methods.isFundsUnlockerOperator(e),o.next=4,client.blockchainManager.call(n.view.getProduct().adminsToolsAddress,i.encodeABI());case 4:s=o.sent;try{s=web3.eth.abi.decodeParameters(["bool"],s)}catch(u){s=!1}return o.abrupt("return",s[0]===!0?"YES":"NO");case 7:case"end":return o.stop()}},r,this)}));return t}(),n.grantWhiteListManager=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=new web3.eth.Contract(contracts.AdminTools),i=t.methods.addWLManagers(e),s.next=4,n.sendTransactionTo(n.view.getProduct().adminsToolsAddress,i.encodeABI());case 4:return s.abrupt("return",s.sent);case 5:case"end":return s.stop()}},r,this)}));return t}(),n.denyWhiteListManager=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=new web3.eth.Contract(contracts.AdminTools),i=t.methods.removeWLManagers(e),s.next=4,n.sendTransactionTo(n.view.getProduct().adminsToolsAddress,i.encodeABI());case 4:return s.abrupt("return",s.sent);case 5:case"end":return s.stop()}},r,this)}));return t}(),n.verifyWhiteListManager=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i,s;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=new web3.eth.Contract(contracts.AdminTools),i=t.methods.isWLManager(e),o.next=4,client.blockchainManager.call(n.view.getProduct().adminsToolsAddress,i.encodeABI());case 4:s=o.sent;try{s=web3.eth.abi.decodeParameters(["bool"],s)}catch(u){s=!1}return o.abrupt("return",s[0]===!0?"YES":"NO");case 7:case"end":return o.stop()}},r,this)}));return t}(),n.grantWhiteListOperator=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=new web3.eth.Contract(contracts.AdminTools),i=t.methods.addWLOperators(e),s.next=4,n.sendTransactionTo(n.view.getProduct().adminsToolsAddress,i.encodeABI());case 4:return s.abrupt("return",s.sent);case 5:case"end":return s.stop()}},r,this)}));return t}(),n.denyWhiteListOperator=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=new web3.eth.Contract(contracts.AdminTools),i=t.methods.removeWLOperators(e),s.next=4,n.sendTransactionTo(n.view.getProduct().adminsToolsAddress,i.encodeABI());case 4:return s.abrupt("return",s.sent);case 5:case"end":return s.stop()}},r,this)}));return t}(),n.verifyWhiteListOperator=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i,s;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=new web3.eth.Contract(contracts.AdminTools),i=t.methods.isWLOperator(e),o.next=4,client.blockchainManager.call(n.view.getProduct().adminsToolsAddress,i.encodeABI());case 4:s=o.sent;try{s=web3.eth.abi.decodeParameters(["bool"],s)}catch(u){s=!1}return o.abrupt("return",s[0]===!0?"YES":"NO");case 7:case"end":return o.stop()}},r,this)}));return t}(),n.changeWalletOnTop=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=n.view.getProduct(),s.next=3,client.contractsManager.call(contracts.AdminTools,t.adminsToolsAddress,"getWalletOnTopAddress");case 3:i=s.sent;if(e!==i){s.next=6;break}return s.abrupt("return");case 6:return s.next=8,client.contractsManager.submit("Change Wallet on top",contracts.AdminTools,t.adminsToolsAddress,"setWalletOnTopAddress",e);case 8:case"end":return s.stop()}},r,this)}));return t}(),n.setSingleWhitelist=function(){function t(t,n){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e,t){var i,s,o,u;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i=n.view.getProduct(),s=Utils.toEther(i.seedRate),o=t*s,o=Utils.numberToString(Utils.toWei(o)),a.next=6,client.contractsManager.call(contracts.AdminTools,i.adminsToolsAddress,"isWhitelisted",e);case 6:return u=a.sent,a.next=9,client.contractsManager.submit("Set whitelist",contracts.AdminTools,i.adminsToolsAddress,u?"changeMaxWLAmount":"addToWhitelist",e,o);case 9:case"end":return a.stop()}},r,this)}));return t}(),n.newWhitelistAddress=function(){function t(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(){var e,t,i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return e=0,s.prev=1,t=n.view.whiteListWallet.value.toLowerCase(),i=n.view.getProduct(),s.next=6,client.contractsManager.AdminTools.isWhitelisted(i.adminsToolsAddress,t);case 6:s.t0=s.sent;if(!s.t0){s.next=11;break}return s.next=10,client.contractsManager.AdminTools.getMaxWLAmount(i.adminsToolsAddress,t);case 10:e=s.sent;case 11:s.next=15;break;case 13:s.prev=13,s.t1=s["catch"](1);case 15:n.view.whiteListAmount.value=Utils.roundWei(e),n.view.updateWhitelistTokenAmount();case 17:case"end":return s.stop()}},r,this,[[1,13]])}));return t}()};var EditFundingPool=React.createClass({displayName:"EditFundingPool",requiredModules:["spa/members","spa/preferences/documentUploader"],requiredScripts:["assets/plugins/summernote/summernote.min.js","assets/plugins/summernote/summernote.css"],getTitle:function(){return this.props.parent?React.createElement("span",null,"Edit Startup of ",React.createElement("strong",null,this.props.parent.name)):"Edit Basket"},back:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=this,r=n.props.parent;this.emit("page/change",r?EditFundingPool:Products,{element:r,parent:null,fromBack:!0,view:this.props.view},function(){return r&&n.setProduct(r)})},getProduct:function(){return this.state&&this.state.product?this.state.product:this.props.element},getDefaultSubscriptions:function(){var t=this,n=this.getProduct().position,r={};return r["product/set"]=this.setProduct,r["fundingPanel/"+n+"/updated"]=function(e){var n=t.getProduct().members,r=e.members;if(!n||!r||JSON.stringify(n)!==JSON.stringify(r))return;t.setState({product:e,documents:t.copyDocuments(e.documents)})},r},copyDocuments:function(t){return t?JSON.parse(JSON.stringify(t)):[]},setProduct:function(t){var n=this;this.setState({product:t,documents:this.copyDocuments(t.documents)},function(){var e=this;n.forceUpdate(),setTimeout(function(){return n.setState({product:t,documents:e.copyDocuments(t.documents)},function(){return n.updateGui()})})})},loadImage:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=$(t.target),r=require("electron").remote.dialog.showOpenDialog({defaultPath:undefined,filters:[{name:"Image logo",extensions:["png","jpg","jpeg","bmp"]}]});if(r){var i=require("electron").remote.require("fs").readFileSync(r[0]).toString("base64");i="data:image/png;base64, "+i,n.attr("src",i)}},deleteImage:function(t){t&&t.preventDefault()&&t.stopPropagation(),$(t.target).parent().parent().children().find("img").removeAttr("src")},saveDoc:function(t){t&&t.preventDefault()&&t.stopPropagation();var n="";try{n=this.name.value.trim()}catch(r){}if(n===""){alert("Please insert the name of the "+this.props.parent?"Startup":"Basket");return}var i="";try{i=this.sticker.attr("src").split("data:image/png;base64, ").join("")}catch(r){}var s="";try{s=this.stickerUrl.value.split(" ").join("").toLowerCase()}catch(r){}if(s!==""){if(s.indexOf("http://")!==0&&s.indexOf("https://")!==0){alert("Association URL must start with http:// or https://");return}if(!s.match(this.controller.urlRegex)){alert("Wrong Association URL");return}}if(i===""&&s!==""||i!==""&&s==="")return alert("If you specify an Association you must insert logo and url");var o="";try{o=this.url.value.split(" ").join("").toLowerCase()}catch(r){}if(o!==""){if(o.indexOf("http://")!==0&&o.indexOf("https://")!==0){alert("URL must start with http:// or https://");return}if(!o.match(this.controller.urlRegex)){alert("Wrong URL");return}}var u="";try{u=this.image.attr("src").split("data:image/png;base64, ").join("")}catch(r){}var a=0;try{a=parseFloat(this.basketSuccessFee.value)}catch(r){a=0}if(!this.props.parent&&(a<0||a>100))return alert("Basket success fee can be a percentage between 0 and 100");var f=0;try{f=parseFloat(Utils.numberToString(this.portfolioValue.value))}catch(r){f=0}if(this.props.parent&&(isNaN(f)||f<0))return alert("Startup value must be a number greater or equal to zero");var l="EUR";try{l=this.portfolioCurrency.val()}catch(r){}if(this.props.parent&&l==="")return alert("Startup value currency must be a valid currency");var c=0;try{c=Utils.toWei(this.startupTotalSupply)}catch(r){}var h=[];try{var p=this.tags.value.split(" ");for(var d in p){var v=p[d].split(" ").join("");v.length>0&&h.push(v)}}catch(r){}var m=parseInt(this.visibilitySelect.value);isNaN(m)&&(m=0);var g={name:n,description:$.base64.encode(encodeURI(this.description.summernote("code"))),url:o,image:u,tags:h,documents:this.state&&this.state.documents||[],totalSupply:c};!this.props.parent&&(g.basketSuccessFee=a),!this.props.parent&&(g.sticker=i),!this.props.parent&&(g.stickerUrl=s),!this.props.parent&&(g.visibility=m),this.props.parent&&(g.portfolioValue=f),this.props.parent&&(g.portfolioCurrency=l);var y=this.getProduct(),b={name:y.name,description:y.description,url:y.url,tags:y.tags,documents:y.documents,totalSupply:y.totalSupply};!this.props.parent&&(b.basketSuccessFee=y.basketSuccessFee),!this.props.parent&&(b.stickerUrl=y.stickerUrl),!this.props.parent&&(b.visibility=y.visibility),this.props.parent&&(b.portfolioValue=y.portfolioValue),this.props.parent&&(b.portfolioCurrency=y.portfolioCurrency);try{b.image=y.image.split("data:image/png;base64, ").join("")}catch(r){}try{!this.props.parent&&(b.sticker=y.sticker.split("data:image/png;base64, ").join(""))}catch(r){}if(JSON.stringify(b)===JSON.stringify(g))return;this.controller.saveDoc(g,this.props.parent!==undefined&&this.props.parent!==null)},updateSeedRate:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=0;try{n=parseInt(web3.utils.toWei(Utils.numberToString(this.seedRate.value),"ether"))}catch(r){}if(isNaN(n)||n<0){alert("SEED Rate is a mandatory positive number or zero");return}if(this.getProduct().seedRate===n)return;this.controller.updateSeedRate(Utils.numberToString(n))},updateExchangeRate:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=0;try{n=parseInt(web3.utils.toWei(Utils.numberToString(this.exchangeRateOnTop.value),"ether"))}catch(r){}if(isNaN(n)||n<0){alert("Exchange Rate on Top is a mandatory positive number or zero");return}if(this.getProduct().exchangeRateOnTop===n)return;this.controller.updateExchangeRate(Utils.numberToString(n))},updateWhiteListThreshold:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=0;try{n=parseInt(web3.utils.toWei(Utils.numberToString(this.whiteListThreshold.value),"ether"))}catch(r){}if(isNaN(n)||n<0){alert("Whilte List Threshold is a mandatory positive number or zero");return}if(this.getProduct().whiteListThreshold===n)return;this.controller.updateWhiteListThreshold(Utils.numberToString(n))},updateTotalSupply:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=0;try{n=parseInt(web3.utils.toWei(Utils.numberToString(this.totalSupply.value),"ether"))}catch(r){}if(isNaN(n)||n<0){alert("Total Supply is a mandatory positive number or zero");return}if(this.getProduct().totalSupply===n)return;this.controller.updateTotalSupply(Utils.numberToString(n))},updateNavLinks:function(){this.domRoot.children().find(".active").removeClass("active"),this.domRoot.children().find("a.nav-link").click(function(){$($(this).parents(".nav-tabs")).children().find("a.nav-link").removeClass("active"),$(this).addClass("active")}),this.domRoot.children().find("ul.nav-tabs").children("li.nav-item:first-of-type").children("a.nav-link").click(),this.props.fromBack===!0&&this.domRoot.children().find("ul.nav-tabs:first-of-type").first().children("li.nav-item:last-of-type").children("a.nav-link").click()},updateGui:function(){this.updateNavLinks(),this.updateProgressBar()},componentDidUpdate:function(){this.updateProgressBar()},updateProgressBar:function(){if(this.props.parent||!this.progressBar)return;var t=this.getProduct(),n=parseInt(Utils.numberToString(t.totalSupply));isNaN(n)&&(n=0);var r=parseInt(Utils.numberToString(t.totalRaised));isNaN(r)&&(r=0);var i=parseFloat(parseFloat((r/n*100).toFixed(2))).toLocaleString();r=Utils.roundWei(r),n=Utils.roundWei(n),this.progressBar.attr("aria-valuenow",i).css("width",i+"%").css("color",i>6?"white":"black").html(r+" of "+n+" SEEDs raised")},componentDidMount:function(){this.updateGui();var t=this.getProduct(),n=this;client.contractsManager.getFundingPanelData(t).then(function(e){return e&&e.name&&!e.unavailable&&n.setState({product:e,documents:n.copyDocuments(n.getProduct().documents)})})},walletRef:function(t){(this.wallet=t)&&$(this.wallet).focus(function(e){return $(e.target).select()})},changeWallet:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=this.wallet.value.split(" ").join("");if(!Utils.isEthereumAddress(n)){alert("You must provide a valid ethereum address");return}this.controller.changeWalletOnTop(n)},administrationSubmit:function(t){t.preventDefault()&&t.stopPropagation();var n=$(t.target),r=n.html().toLowerCase(),i=$(n.parents(".form-group")),s=i.children().find("a.nav-link.active").html().split(" ").join(""),o=i.children('input[type="text"]').val();if(!Utils.isEthereumAddress(o)){alert("You must provide a valid ethereum address");return}var u=this.controller[r+s](o);u&&u.then(function(e){e&&i.children().find("span.response").html(e)})},addDocument:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=this.documentName.value;if(n.split(" ").join("")===""){alert("Name is mandatory");return}var r=this.documentLink.value;if(r.indexOf("http://")===-1&&r.indexOf("https://")===-1&&!window.require("electron").remote.require("fs").existsSync(r)){alert("Link must be an existing file or start with http:// or https://");return}var i=this.state&&this.state.documents||[];i.push({name:n,link:r}),this.documentName.value="",this.documentLink.value="",this.setState({documents:i})},browseLocalDocument:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=undefined;n=window.require("electron").remote.dialog.showOpenDialog({defaultPath:undefined,options:{openDirectory:!1,multiSelections:!1}}),n&&(this.documentLink.value=n)},deleteDocument:function(t,n){n&&n.preventDefault()&&n.stopPropagation();var r=this.state.documents,i=r[t];r.splice(t,1);var s=this;this.setState({documents:r},function(){s.documentName.value=i.name,s.documentLink.value=i.link})},setSingleWhitelist:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=this.whiteListWallet.value.split(" ").join("");if(!Utils.isEthereumAddress(n)){alert("You must provide a valid ethereum address");return}var r=0;try{r=Utils.cleanNumber(this.whiteListAmount)}catch(i){}if(isNaN(r)||r<0){alert("Whiltelist Amount is a mandatory positive number or zero");return}this.controller.setSingleWhitelist(n,r)},parseWhitelistAmount:function(t){Utils.parseNumber(t,this.updateWhitelistTokenAmount)},updateWhitelistTokenAmount:function(){var t=Utils.cleanNumber(this.whiteListAmount),n=Utils.toEther(this.getProduct().seedRate),r=t*n;this.whiteListTokenAmount.innerHTML=Utils.roundWei(Utils.toWei(r))},newWhitelistAddress:function(t){t&&t.preventDefault()&&t.stopPropagation(),this.newWhitelistAddressTimeout&&clearTimeout(this.newWhitelistAddressTimeout),this.newWhitelistAddressTimeout=setTimeout(this.controller.newWhitelistAddress,350)},render:function(){var t=this,n=this,r=this.getProduct(),i="";try{i=$.base64.decode(r.description)}catch(s){}try{i=decodeURI(i)}catch(s){}return React.createElement("div",{className:"kt-content kt-grid__item kt-grid__item--fluid"},React.createElement("br",null),!this.props.parent&&React.createElement("div",{className:"progress"},React.createElement("div",{className:"progress-bar",role:"progressbar",ref:function(n){return t.progressBar=$(n)},"aria-valuenow":"25","aria-valuemin":"0","aria-valuemax":"100"},"25%")),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xl-12 mt-5"},React.createElement("ul",{className:"nav nav-tabs nav-tabs-line nav-tabs-bold nav-tabs-line-3x mb-5",role:"tablist"},React.createElement("li",{className:"nav-item"},React.createElement("a",{className:"nav-link","data-toggle":"tab",href:"#main-data",role:"tab"},React.createElement("i",{className:"fa fa-info-circle mr-2"}),"Main Info")),!this.props.parent&&React.createElement("li",{className:"nav-item"},React.createElement("a",{className:"nav-link","data-toggle":"tab",href:"#administration",role:"tab"},React.createElement("i",{className:"fas fa-user mr-2"}),"Administration")),!this.props.parent&&React.createElement("li",{className:"nav-item"},React.createElement("a",{className:"nav-link","data-toggle":"tab",href:"#whiteList",role:"tab"},React.createElement("i",{className:"fas fa-check mr-2"}),"Whitelisting")),!this.props.parent&&React.createElement("li",{className:"nav-item"},React.createElement("a",{className:"nav-link","data-toggle":"tab",href:"#economic-data",role:"tab"},React.createElement("i",{className:"fas fa-coins mr-2"}),"Economic Info")),!this.props.parent&&React.createElement("li",{className:"nav-item"},React.createElement("a",{className:"nav-link","data-toggle":"tab",href:"#members",role:"tab"},React.createElement("i",{className:"fas fa-rocket mr-2"}),"Startups"))),React.createElement("div",{className:"tab-content"},React.createElement("div",{className:"tab-pane",id:"main-data",role:"tabpanel"},React.createElement("form",{className:"kt-form",action:""},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-2"},React.createElement("h4",null,"Name"),React.createElement("p",{className:"small"},"of the ",this.props.parent&&"Startup"||"Incubator")),React.createElement("div",{className:"col-md-10 form-group"},React.createElement("input",{className:"form-control form-control-last",type:"text",ref:function(n){return(t.name=n)&&(t.name.value=r.name)}}))),!this.props.parent&&React.createElement("br",null),!this.props.parent&&React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-2"},React.createElement("h4",null,"Verificator"),React.createElement("p",{className:"small"},"of the Incubator")),React.createElement("div",{className:"col-md-5 form-group"},React.createElement("input",{className:"form-control form-control-last",type:"text",placeholder:"Link must start with http:// or https://...",ref:function(n){return(t.stickerUrl=n)&&(t.stickerUrl.value=r.stickerUrl)}})),React.createElement("div",{className:"col-md-5 form-group"},React.createElement("a",{href:"javascript:;",onClick:this.loadImage},React.createElement("img",{width:"100",height:"100",ref:function(n){return t.sticker=$(n)},src:r.sticker?"data:image/png;base64, "+r.sticker:""}))," "," "," "," ",React.createElement("a",{href:"javascript:;",onClick:this.deleteImage},React.createElement("i",{className:"fas fa-remove"})))),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-2"},React.createElement("h4",null,"Description"),React.createElement("p",{className:"small"},"of the ",this.props.parent&&"Startup"||"Incubator")),React.createElement("div",{className:"col-md-10 form-group editor"},React.createElement("div",{ref:function(n){return n&&(t.description=$(n)).summernote({minHeight:350,disableResizeEditor:!0}).summernote("code",i)}}))),React.createElement("br",null),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},React.createElement("h3",null,"Documents"),React.createElement("p",{className:"small"},"useful to enrich the description of the business model"))),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-2"}," "),React.createElement("div",{className:"col-md-3"},React.createElement("input",{className:"form-control form-control-last",type:"text",placeholder:"Name",ref:function(n){return t.documentName=n}})),React.createElement("div",{className:"col-md-4"},React.createElement("input",{className:"form-control form-control-last",type:"text",placeholder:"Link must start with http:// or https://",ref:function(n){return t.documentLink=n}})),React.createElement("div",{className:"col-md-3"},React.createElement("button",{type:"button",className:"btn btn-secondary btn-pill tiny",onClick:this.browseLocalDocument},"Browse from PC")," "," "," ",React.createElement("button",{type:"button",className:"btn btn-brand btn-pill tiny",onClick:this.addDocument},"Add"))),React.createElement("br",null),React.createElement("br",null),this.state&&this.state.documents&&this.state.documents.map(function(e,n){return React.createElement("div",{key:"document_"+n,className:"row"},React.createElement("div",{className:"col-md-2"}," "),React.createElement("div",{className:"col-md-3"},React.createElement("span",null,e.name)),React.createElement("div",{className:"col-md-4"},e.link.indexOf("http")!==0&&React.createElement("span",null,e.link.length>30?e.link.substring(0,30)+"...":e.link),e.link.indexOf("http")===0&&React.createElement("a",{href:e.link,target:"_blank"},e.link.length>30?e.link.substring(0,30)+"...":e.link)),React.createElement("div",{className:"col-md-3"},React.createElement("h3",null,React.createElement("a",{href:"javascript:;",onClick:function(r){return t.deleteDocument(n,r)}},React.createElement("i",{className:"fas fa-remove"})))))}),React.createElement("br",null),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-2"},React.createElement("h4",null,"URL"),React.createElement("p",{className:"small"},"The website of the ",this.props.parent?"Startup":"Incubator")),React.createElement("div",{className:"col-md-10 form-group"},React.createElement("input",{className:"form-control form-control-last",type:"text",placeholder:"Link must start with http:// or https://",ref:function(n){return(t.url=n)&&(t.url.value=r.url)}}))),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-2"},React.createElement("h4",null,"Logo"),React.createElement("p",{className:"small"},"of the ",this.props.parent?"Startup":"Incubator")),React.createElement("div",{className:"col-md-10 form-group"},React.createElement("a",{href:"javascript:;",onClick:this.loadImage},React.createElement("img",{width:"100",height:"100",ref:function(n){return t.image=$(n)},src:r.image?"data:image/png;base64, "+r.image:""}))," "," "," "," ",React.createElement("a",{href:"javascript:;",onClick:this.deleteImage},React.createElement("i",{className:"fas fa-remove"})))),this.props.parent&&React.createElement("br",null),this.props.parent&&React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"Total Supply"),React.createElement("p",{className:"small"},"The amount of SEED tokens this Startup needs to raise")),React.createElement("div",{className:"col-md-8 form-group"},React.createElement("input",{className:"form-control form-control-last",type:"text",ref:function(n){return(t.startupTotalSupply=n)&&(t.startupTotalSupply.value=Utils.roundWei(r.totalSupply))},onChange:Utils.parseNumber}))),!this.props.parent&&React.createElement("br",null),!this.props.parent&&React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-2"},React.createElement("h4",null,"Tags"),React.createElement("p",{className:"small"},"useful for searches by the investor")),React.createElement("div",{className:"col-md-10 form-group"},React.createElement("input",{className:"form-control form-control-last",type:"text",ref:function(n){return(t.tags=n)&&r.tags&&r.tags.length>0&&(t.tags.value=r.tags.join(" "))}}))),!this.props.parent&&React.createElement("br",null),!this.props.parent&&React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"Visibility"),React.createElement("p",{className:"small"},"of the basket to the public")),React.createElement("div",{className:"col-md-8 form-group"},React.createElement("select",{ref:function(n){return t.visibilitySelect=n}},React.createElement("option",{value:"0",selected:!r.visibility},"Visible to all"),React.createElement("option",{value:"1",selected:r.visibility===1},"Visible to Whitelisted addresses only"),React.createElement("option",{value:"2",selected:r.visibility===2},"Hidden")))),this.props.parent&&React.createElement("br",null),this.props.parent&&React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"Startup Value"),React.createElement("p",{className:"small"},"The extimated value of the startup, expressed in local currency")),React.createElement("div",{className:"col-md-1 form-group"},React.createElement("input",{className:"form-control form-control-last",type:"text",ref:function(n){return(t.portfolioValue=n)&&(n.value=Utils.numberToString(Utils.normalizeBasketSuccessFee(r.portfolioValue||0),!0))},onChange:Utils.parseNumber})),React.createElement("div",{className:"col-md-1"},React.createElement("select",{ref:function(n){return t.portfolioCurrency=$(n)}},React.createElement("option",{selected:!r.portfolioCurrency||r.portfolioCurrency==="EUR",value:"EUR"},"EUR"),React.createElement("option",{selected:r.portfolioCurrency&&r.portfolioCurrency==="USD",value:"USD"},"USD"),React.createElement("option",{selected:r.portfolioCurrency&&r.portfolioCurrency==="USD",value:"CHF"},"CHF"))),React.createElement("div",{className:"col-md-2"}," ")),React.createElement("br",null),React.createElement("br",null),React.createElement("button",{type:"button",className:"btn btn-brand btn-pill btn-elevate browse-btn",onClick:this.saveDoc},"Update"),React.createElement("br",null),React.createElement("br",null))),!this.props.parent&&React.createElement("div",{className:"tab-pane",id:"administration",role:"tabpanel"},React.createElement("form",{className:"kt-form",action:""},React.createElement("h4",null,"Wallet on top"),React.createElement("p",{className:"small"},"the wallet that will receive the exchange rate on top"),React.createElement("div",{className:"form-group"},React.createElement("input",{className:"form-control",type:"text",placeholder:r.walletOnTop,ref:this.walletRef})),React.createElement("div",{className:"kt-form__actions"},React.createElement("button",{type:"button",className:"btn btn-brand btn-pill btn-elevate browse-btn",onClick:this.changeWallet},"Change"))),React.createElement("br",null),React.createElement("br",null),React.createElement("br",null),React.createElement("form",{className:"kt-form",action:""},React.createElement("h4",null,"Permissions"),React.createElement("p",{className:"small"},"manage the users that can operate with this basket"),React.createElement("div",{className:"form-group"},React.createElement("br",null),React.createElement("ul",{className:"nav nav-tabs nav-tabs-line nav-tabs-bold nav-tabs-line-3x mb-5",role:"tablist"},React.createElement("li",{className:"nav-item"},React.createElement("a",{className:"nav-link","data-toggle":"tab",role:"tab"},"Funding Manager")),React.createElement("li",{className:"nav-item"},React.createElement("a",{className:"nav-link","data-toggle":"tab",role:"tab"},"Funding Operator")),React.createElement("li",{className:"nav-item"},React.createElement("a",{className:"nav-link","data-toggle":"tab",role:"tab"},"Funds Unlock Manager")),React.createElement("li",{className:"nav-item"},React.createElement("a",{className:"nav-link","data-toggle":"tab",role:"tab"},"Funds Unlock Operator")),React.createElement("li",{className:"nav-item"},React.createElement("a",{className:"nav-link","data-toggle":"tab",role:"tab"},"White List Manager")),React.createElement("li",{className:"nav-item"},React.createElement("a",{className:"nav-link","data-toggle":"tab",role:"tab"},"White List Operator"))),React.createElement("br",null),React.createElement("input",{className:"form-control",type:"text",placeholder:"Address"}),React.createElement("br",null),React.createElement("div",{className:"kt-form__actions"},React.createElement("button",{type:"button",className:"btn btn-brand btn-pill btn-elevate browse-btn",onClick:this.administrationSubmit},"GRANT")," "," "," "," "," "," "," "," ",React.createElement("button",{type:"button",className:"btn btn-secondary btn-pill btn-elevate browse-btn",onClick:this.administrationSubmit},"DENY")," "," "," "," "," "," "," "," ",React.createElement("button",{type:"button",className:"btn btn-brand btn-pill btn-elevate browse-btn",onClick:this.administrationSubmit},"VERIFY")," "," "," "," "," "," "," "," ",React.createElement("span",{"class":"response"}))))),!this.props.parent&&React.createElement("div",{className:"tab-pane",id:"whiteList",role:"tabpanel"},React.createElement("form",{className:"kt-form",action:""},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"Wallet"),React.createElement("p",{className:"small"},"of the investor you want to whitelist"),React.createElement("div",{className:"form-group"},React.createElement("input",{className:"form-control",type:"text",placeholder:"Address",ref:function(n){return t.whiteListWallet=n},onChange:this.newWhitelistAddress}))),React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"Amount"),React.createElement("p",{className:"small"},"the max amount of SEED tokens that this investor can hold for this basket"),React.createElement("div",{className:"form-group"},React.createElement("input",{className:"form-control",type:"text",placeholder:"Amount",ref:function(n){return t.whiteListAmount=n},onChange:this.parseWhitelistAmount}))),React.createElement("div",{className:"col-md-2"},React.createElement("h4",null,r.symbol),React.createElement("p",{className:"small"},"the max amount of ",r.symbol," tokens that this investor can hold"),React.createElement("div",{className:"form-group"},React.createElement("span",{ref:function(n){return t.whiteListTokenAmount=n}},Utils.roundWei()))),React.createElement("div",{className:"col-md-2"},React.createElement("div",{className:"kt-form__actions"},React.createElement("button",{type:"button",className:"btn btn-brand btn-pill btn-elevate browse-btn",onClick:this.setSingleWhitelist},"Set")))))),!this.props.parent&&React.createElement("div",{className:"tab-pane",id:"economic-data",role:"tabpanel"},React.createElement("form",{className:"kt-form",action:""},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"Exchange Rate"),React.createElement("p",{className:"small"},"the amount of ",r.symbol," tokens the investor will receive for every invested SEED")),React.createElement("div",{className:"col-md-6 form-group"},React.createElement("input",{className:"form-control form-control-last",type:"text",ref:function(n){return(t.seedRate=n)&&(t.seedRate.value=Utils.roundWei(r.seedRate))},onChange:Utils.parseNumber})),React.createElement("div",{className:"col-md-2"},React.createElement("button",{type:"button",className:"btn btn-brand btn-pill btn-elevate browse-btn",onClick:this.updateSeedRate},"OK"))),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"Exchange Rate On Top"),React.createElement("p",{className:"small"},"the amount of ",r.symbol," tokens the incubator will receive for every invested SEED")),React.createElement("div",{className:"col-md-6 form-group"},React.createElement("input",{className:"form-control form-control-last",type:"text",ref:function(n){return(t.exchangeRateOnTop=n)&&(t.exchangeRateOnTop.value=Utils.roundWei(r.exchangeRateOnTop))},onChange:Utils.parseNumber})),React.createElement("div",{className:"col-md-2"},React.createElement("button",{type:"button",className:"btn btn-brand btn-pill btn-elevate browse-btn",onClick:this.updateExchangeRate},"OK"))),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"Total Supply"),React.createElement("p",{className:"small"},"The amount of SEED tokens this basket needs to raise")),React.createElement("div",{className:"col-md-6 form-group"},React.createElement("input",{className:"form-control form-control-last",type:"text",ref:function(n){return(t.totalSupply=n)&&(t.totalSupply.value=Utils.roundWei(r.totalSupply))},onChange:Utils.parseNumber})),React.createElement("div",{className:"col-md-2"},React.createElement("button",{type:"button",className:"btn btn-brand btn-pill btn-elevate browse-btn",onClick:this.updateTotalSupply},"OK"))),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"White List Threshold Balance"),React.createElement("p",{className:"small"},"the maximum amount of ",r.symbol," tokens that each investor can accumulate without the need of whitelisting")),React.createElement("div",{className:"col-md-6 form-group"},React.createElement("input",{className:"form-control form-control-last",type:"text",ref:function(n){return(t.whiteListThreshold=n)&&(t.whiteListThreshold.value=Utils.roundWei(r.whiteListThreshold))},onChange:Utils.parseNumber})),React.createElement("div",{className:"col-md-2"},React.createElement("button",{type:"button",className:"btn btn-brand btn-pill btn-elevate browse-btn",onClick:this.updateWhiteListThreshold},"OK"))),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("h4",null,"Success fee percentage"),React.createElement("p",{className:"small"},"the percentage of SEED tokens the incubator will obtain from a startup exit")),React.createElement("div",{className:"col-md-1 form-group"},React.createElement("input",{className:"form-control form-control-last",type:"number",min:"0",max:"100",ref:function(n){return(t.basketSuccessFee=n)&&(n.value=""+Utils.normalizeBasketSuccessFee(r.basketSuccessFee||0))}})),React.createElement("div",{className:"col-md-1"},React.createElement("br",null),React.createElement("h2",null,"%")),React.createElement("div",{className:"col-md-4"}," "),React.createElement("div",{className:"col-md-2"},React.createElement("button",{type:"button",className:"btn btn-brand btn-pill btn-elevate browse-btn",onClick:this.saveDoc},"OK"))))),!this.props.parent&&React.createElement("div",{className:"tab-pane",id:"members",role:"tabpanel"},React.createElement("button",{type:"button",className:"btn btn-brand btn-pill btn-elevate browse-btn",onClick:function(){return t.emit("page/change",CreateFundingPool,{parent:r,view:"mine"})}},"Add new Startup"),React.createElement("br",null),React.createElement("br",null),React.createElement(Members,{element:r,view:this.props.view}))))),client.persistenceManager.get(client.persistenceManager.PERSISTENCE_PROPERTIES.documentsUploaderProviderSet)!==!0&&React.createElement(Modal,{title:"Choose the way tou will upload documents",readonly:!0,backdrop:"static",keyboard:"false",ref:function(n){return(t.documentsUploaderModal=n)&&n.show()}},React.createElement(DocumentUploader,{onClick:function(){return n.documentsUploaderModal.hide()}})))}});var HeaderController=function(t){var n=this;n.view=t};var Header=React.createClass({displayName:"Header",requiredModules:["spa/configuration/import","spa/configuration/create","spa/configuration/backup","spa/configuration/move","spa/detail","spa/notification/header"],getDefaultSubscriptions:function(){var t=this;return{"index/title":function(n){return t.setState({title:n})},"amount/seed":function(n){return t.setState({seed:n})},"amount/eth":function(n){return t.setState({eth:n})}}},copyAddress:function(t){t&&t.preventDefault()&&t.stopPropagation(),Utils.copyToClipboard(client.userManager.user.wallet)},copyPrivateKey:function(t){t&&t.preventDefault()&&t.stopPropagation(),Utils.copyToClipboard(client.userManager.user.privateKey)},importConfiguration:function(t){t&&t.preventDefault()&&t.stopPropagation(),this.emit("page/change",ImportConfiguration,{view:this.props.view})},createConfiguration:function(t){t&&t.preventDefault()&&t.stopPropagation(),this.emit("page/change",CreateConfiguration,{view:this.props.view})},backupConfiguration:function(t){t&&t.preventDefault()&&t.stopPropagation(),this.emit("page/change",BackupConfiguration,{view:this.props.view})},moveConfiguration:function(t){t&&t.preventDefault()&&t.stopPropagation(),this.emit("page/change",MoveConfiguration,{view:this.props.view})},openPreferences:function(t){t&&t.preventDefault()&&t.stopPropagation(),this.emit("page/change",Preferences,{view:this.props.view})},componentDidUpdate:function(){client.userManager.user&&(new Date).getTime()-this.lastBalanceCheck>5e4&&(this.lastBalanceCheck=(new Date).getTime(),client.userManager.getBalances())},componentDidMount:function(){if(!client.userManager.user)return;this.lastBalanceCheck=(new Date).getTime(),client.userManager.getBalances()},renderTitle:function(){return!this.props.title||typeof this.props.title=="string"?React.createElement("span",{className:"mr-4"},React.createElement("strong",null,this.props.title||(this.props.view==="mine"?"My ":"")+"Baskets")):this.props.title},markAllNotificationsAsRead:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=this;setTimeout(function(){return n.notificationIncon.click()})},readNotification:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=this;setTimeout(function(){return n.notificationIncon.click()})},render:function(){var t=this,n=null;return(this.props.element===Products||this.props.element===Detail)&&(n="Baskets"),this.props.view==="mine"&&(n="My Baskets"),this.props.element===Dex&&(n="Trade"),React.createElement("header",{id:"kt_header",className:"kt-header kt-grid__item kt-header--fixed row mx-0","data-ktheader-minimize":"on"},React.createElement("div",{className:"kt-header__top col-12 py-3 bg-primary"},React.createElement("div",{className:"kt-container"},React.createElement("div",{className:"kt-header__topbar header-left back-title"},this.props.title&&this.props.element!==Dex&&React.createElement("a",{href:"javascript:;","data-toggle":"kt-tooltip","data-placement":"bottom",title:"Back",className:"back",onClick:function(n){return t.props.back?t.props.back(n):t.emit("page/change",Products,{view:t.props.view})}},React.createElement("i",{className:"fas fa-arrow-left"})),React.createElement("span",null," "," "),this.renderTitle()," ",this.props.view==="mine"&&React.createElement("a",{href:"javascript:;",onClick:function(){return t.emit("page/change",CreateFundingPool,{view:"mine"})},className:"kt-subheader__breadcrumbs-home"},React.createElement("i",{className:"fas fa-plus"}))),React.createElement("div",{className:"kt-header__topbar justify-content-end header-right"},React.createElement("span",{className:"mr-4"},"Welcome ",React.createElement("strong",null,client.userManager.user?client.userManager.user.wallet.substring(0,9)+"...":client.configurationManager.hasUser()?"":"Guest")),client.userManager.user&&this.state&&this.state.eth&&React.createElement("span",{className:"mr-4"},"(",React.createElement("strong",null,Utils.roundWei(this.state.eth)," eth"),")"),client.userManager.user&&this.state&&this.state.seed&&React.createElement("span",{className:"mr-4"},"(",React.createElement("strong",null,Utils.roundWei(this.state.seed)," SEED"),")"),window.NotificationHeader!==undefined&&client.userManager.user&&this.props.view!=="mine"&&React.createElement(NotificationHeader,null),client.userManager.user&&React.createElement("a",{href:"javascript:;","data-toggle":"kt-tooltip","data-placement":"bottom",title:"Wallet",onClick:function(){return t.emit("wallet/show")}},React.createElement("i",{className:"fas fa-wallet"})),client.userManager.user&&React.createElement("a",{href:"javascript:;","data-toggle":"kt-tooltip","data-placement":"bottom",title:"Backup Configuration",onClick:this.backupConfiguration},React.createElement("i",{className:"fas fa-file-download"})),client.userManager.user&&React.createElement("a",{href:"javascript:;","data-toggle":"kt-tooltip","data-placement":"bottom",title:"Move Configuration",onClick:this.moveConfiguration},React.createElement("i",{className:"fas fa-external-link-alt"})),!client.userManager.user&&React.createElement("a",{href:"javascript:;",onClick:this.createConfiguration,"data-toggle":"kt-tooltip","data-placement":"bottom",title:"Create New Wallet"},React.createElement("i",{className:"fas fa-plus"})),!client.userManager.user&&React.createElement("a",{href:"javascript:;",onClick:this.importConfiguration,"data-toggle":"kt-tooltip","data-placement":"bottom",title:"Import Configuration"},React.createElement("i",{className:"fas fa-file-import"})),React.createElement("a",{href:"javascript:;",onClick:this.openPreferences,"data-toggle":"kt-tooltip","data-placement":"bottom",title:"Preferences"},React.createElement("i",{className:"fas fa-cog"})),client.configurationManager.hasUnlockedUser()&&React.createElement("a",{href:"javascript:;","data-toggle":"kt-tooltip","data-placement":"bottom",title:"Choose Identity",onClick:function(){return t.emit("page/change",Choose)}},React.createElement("i",{className:"fas fa-user-alt"})),client.configurationManager.hasUnlockedUser()&&React.createElement("a",{href:"javascript:;","data-toggle":"kt-tooltip","data-placement":"bottom",title:"Forget Me",onClick:function(){return t.emit("user/askForget")}},React.createElement("i",{className:"fas fa-sign-out-alt"}))))),React.createElement("div",{className:"kt-header__bottom col-12 py-3 bg-secondary"},React.createElement("div",{className:"kt-container"},React.createElement("div",{className:"kt-header-menu-wrapper",id:"kt_header_menu_wrapper"},React.createElement("div",{id:"kt_header_menu",className:"kt-header-menu"},React.createElement("ul",{className:"kt-menu__nav"},this.props.view!=="mine"&&[React.createElement("li",{className:"kt-menu__item"+(n==="Baskets"?" kt-menu__item--open kt-menu__item--here":"")},React.createElement("a",{href:"javascript:;",onClick:function(){return t.emit("page/change",Products)}},"Baskets")),React.createElement("li",{className:"kt-menu__item"+(n==="Trade"?" kt-menu__item--open kt-menu__item--here":"")},React.createElement("a",{href:"javascript:;",onClick:function(){return t.emit("page/change",Dex)}},"Trade"))],client.configurationManager.hasUnlockedUser()&&this.props.view==="mine"&&React.createElement("li",{className:"kt-menu__item"+(n==="My Baskets"?" kt-menu__item--open kt-menu__item--here":"")},React.createElement("a",{href:"javascript:;",onClick:function(){return t.emit("page/change",Products,{view:"mine"})}},"My Baskets"))))))))}});var IndexController=function(t){var n=this;n.view=t,n.forgetUser=function(){client.userManager.forget(),n.view.emit("page/change")}};var Index=React.createClass({displayName:"Index",requiredModules:["spa/unlock","spa/header","spa/products","spa/fundingPool/create","spa/preferences","spa/dex","spa/choose","spa/detail","spa/preferences/networkChooser"],requiredScripts:["spa/modal.jsx"],getDefaultSubscriptions:function(){var t=this;return{"wallet/show":this.showWalletModal,"user/askForget":this.askForget,"page/change":this.changePage,"loader/show":this.showLoaderModal,"loader/hide":function(){return t.genericLoadingModal.hide()},"transaction/ask":this.showAskTransactionModal,"transaction/lock":this.showTransactionLockModal,"transaction/unlock":function(){return t.genericLoadingModal.hide()},"transaction/submitted":this.showTransactionModal,"investment/mine":this.renderOwnedToken,"configuration/forgotten":this.refreshTokenList,"network/switch":this.refreshTokenList}},showWalletModal:function(){var t=this,n=this;client.userManager.getBalances().then(function(e){n.walletEth.innerHTML=Utils.roundWei(e.eth),n.walletSeed.innerHTML=Utils.roundWei(e.seed),n.addressLink.attr("href",client.persistenceManager.get(client.persistenceManager.PERSISTENCE_PROPERTIES.etherscanURL)+"address/"+client.userManager.user.wallet),n.addressLink.html(client.userManager.user.wallet),n.privateKeyLabel.html("***************************************************************************".substring(0,50)),n.renderOwnedTokens(),n.walletModal.isHidden()&&t.walletModal.show()})},copyAddress:function(t){t&&t.preventDefault()&&t.stopPropagation(),Utils.copyToClipboard(client.userManager.user.wallet)},copyPrivateKey:function(t){t&&t.preventDefault()&&t.stopPropagation(),Utils.copyToClipboard(client.userManager.user.privateKey)},togglePrivateKey:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=client.userManager.user.privateKey.substring(0,50)+"...";this.privateKeyLabel.html().indexOf("*")!==0&&(n="***************************************************************************".substring(0,50)),this.privateKeyLabel.html(n)},askForget:function(t){t&&t.preventDefault&&t.preventDefault()&&t.stopPropagation&&t.stopPropagation(),confirm("All your data will be lost, do you want to continue?")&&(this.controller.forgetUser(),this.emit("page/change"))},showLoaderModal:function(t,n){this.genericLoadingModal.setTitle(t||""),this.genericLoadingText.html(n||""),this.genericLoadingModal.isHidden()&&this.genericLoadingModal.show()},showAskTransactionModal:function(t,n){n||(n=""),this.askTransactionModal.setTitle(n),this.askTransactionModal.isHidden()&&this.askTransactionModal.show()},showTransactionLockModal:function(t,n){var r="<span>Sealing transaction into Blockchain. This can take more than 30 seconds...</span><br/><br/>";r+='<a href="'+(n?client.persistenceManager.get(client.persistenceManager.PERSISTENCE_PROPERTIES.etherscanURL)+"tx/"+n:"#")+'" target="_blank">Follow on Etherscan</a>',this.showLoaderModal(t,r)},showTransactionModal:function(t,n,r,i){this.transactionModal.setTitle(n),this.transactionBody.html("");var s="";r?(s+='<h3 class="error">Transaction error:</h3><br/><br/>',s+="<p>"+(r.message||r)+"</p>"):s+='<h3 class="success">Transaction Correctly submitted</h3><br/><br/>',s+='<h3><a target="_blank" href="'+(t?client.persistenceManager.get(client.persistenceManager.PERSISTENCE_PROPERTIES.etherscanURL)+"tx/"+t:"#")+'">View on Etherscan</a></h3>',this.transactionBody.html(s),this.transactionModal.isHidden()&&this.transactionModal.show()},changePage:function(t,n,r){!t&&(t=null),!n&&(n=null);if(!t)this.setState({title:null,element:null,props:null});else{var i=this;ReactModuleLoader.load({modules:t.prototype.requiredModules||[],scripts:t.prototype.requiredScripts||[],callback:function(){i.setState({title:t.prototype.title,element:t,props:n},r)}})}},getDefaultRenderer:function(){return!client.configurationManager.hasUser()||client.configurationManager.hasUnlockedUser()?Products:Unlock},onElementRef:function(t){if(!t)return;var n=null;t.getTitle&&(n=t.getTitle(),(!this.state||!this.state.title||this.state.title!==n)&&n&&this.state.title&&typeof n!="string"&&typeof this.state.title!="string"&&n.key===this.state.title.key&&(n=null));var r={back:t.back};(r.back===undefined||r.back===null||this.state.back===r.back)&&delete r.back,n&&this.state.title!==n&&(r.title=n),!t.getTitle&&this.state&&this.state.title!==null&&(r.title=null),t.title&&delete r.title,Object.keys(r).length>0&&this.setState(r)},clearSearch:function(t){t&&t.preventDefault()&&t.stopPropagation(),this.searchBar.value="",this.emit("products/search")},renderOwnedToken:function(t,n){if(!t||!t.tokenAddress||!t.symbol){typeof n=="function"&&setTimeout(n);return}var r=this;client.contractsManager.tokenBalanceOf(t.tokenAddress,client.userManager.user.wallet).then(function(e){if(parseInt(e)<=0){typeof n=="function"&&setTimeout(n);return}e=Utils.roundWei(e);var i=r.ownedTokens.children('[data-position="'+t.position+'"]');i.length===0&&(i=$('\n            <div class="row token-container" data-position="'+t.position+'">\n                <div class="col-md-12">\n                    <div class="row token">\n                        <div class="col-md-2">'+(t.image?'<img width="40" height="40" src="data:image/png;base64, '+t.image+'" />':"&nbsp;")+'</div>\n                        <div class="col-md-5"><h3>'+(t.name||t.symbol)+'</h3></div>\n                        <div class="col-md-5 amount"><h3>'+e+" "+t.symbol+"</h3></div>\n                    </div>\n                </div>\n            </div>").click(function(e){e&&e.preventDefault()&&e.stopPropagation();if(!t.name)return alert("Please wait until data has been downloaded");r.walletModal.hide(),r.emit("page/change",Detail,{element:t})}).appendTo(r.ownedTokens)),i.children().find(".amount").html("<h3>"+e+" "+t.symbol+"</h3>"),typeof n=="function"&&setTimeout(n)})},refreshTokenList:function(){this.ownedTokens&&this.ownedTokens.html(""),this.ownedTokens&&this.renderOwnedTokens()},renderOwnedTokens:function(){var t=client.contractsManager.getArray(),n=-1,r=this,i=function s(){return n++<t.length&&r.renderOwnedToken(t[n],s)};setTimeout(i)},checkDistDate:function(t){if(!t)return;var n=window.distDate;client.updaterManager.distDate=n,delete window.distDate,n&&n>ecosystemData.distDate&&setTimeout(function(){return t.show()},1200)},componentDidMount:function(){this.componentDidUpdate()},componentDidUpdate:function(){(!this.state||!this.state.element||this.state.element!==Preferences)&&!client.persistenceManager.get(client.persistenceManager.PERSISTENCE_PROPERTIES.seedTokenAddress)&&this.emit("page/change",Preferences)},openEthFaucet:function(t){t&&t.preventDefault()&&t.stopPropagation(),this.copyAddress()},render:function(){var t=this,n=this,r=this.state&&this.state.element?this.state.element:this.getDefaultRenderer(),i=this.state&&this.state.props;return!i&&(i={}),i.ref=this.onElementRef.bind(this),r===Unlock?React.createElement("div",{className:"kt-grid kt-grid--hor kt-grid--root"},React.createElement(r,i)):React.createElement("div",{className:"kt-grid kt-grid--hor kt-grid--root"},React.createElement("div",{className:"kt-grid__item kt-grid__item--fluid kt-grid kt-grid--ver kt-page"},React.createElement("div",{className:"kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor kt-wrapper"+(client.userManager.user?"":" guest"),id:"kt_wrapper"},(!this.state||!this.state.element||this.state.element!==Choose)&&[React.createElement(Header,{title:this.state&&this.state.title?this.state.title:"",element:r,view:i.view,back:this.state&&this.state.back}),React.createElement("br",null)],!client.configurationManager.hasUnlockedUser()&&[React.createElement("br",null),React.createElement("br",null),React.createElement("br",null),React.createElement("br",null),React.createElement("br",null)],(!this.state||!this.state.element||this.state.element===Products)&&[React.createElement("div",{className:"kt-subheader kt-grid__item",id:"kt_subheader"},React.createElement("div",{className:"kt-subheader__main"},React.createElement("div",{className:"kt-subheader__breadcrumbs"})),React.createElement("div",{className:"kt-subheader__main"},React.createElement("input",{type:"text",placeholder:"Search...",onChange:function(n){return t.emit("products/search",n)},ref:function(n){return t.searchBar=n}})," "," "," "," ",React.createElement("span",{className:"kt-subheader__separator"}),React.createElement("div",{className:"kt-subheader__breadcrumbs"},React.createElement("a",{href:"#",className:"kt-subheader__breadcrumbs-home",onClick:this.clearSearch},React.createElement("i",{className:"fas fa-remove"}))))),React.createElement("br",null)],React.createElement(r,i))),React.createElement(Modal,{ref:function(n){return t.genericLoadingModal=n},readonly:"true",backdrop:"static",keyboard:"false",className:"index loader"},React.createElement(Loader,{size:"x2"}),React.createElement("br",null),React.createElement("br",null),React.createElement("h4",{ref:function(n){return t.genericLoadingText=$(n)}})),React.createElement(Modal,{ref:function(n){return t.transactionModal=n},backdrop:"static",keyboard:"false",onHide:function(){return $.publish("transaction/finalize")},className:"index"},React.createElement("div",{ref:function(n){return t.transactionBody=$(n)}})),React.createElement(Modal,{title:"Submit Transaction",ref:function(n){return t.askTransactionModal=n},backdrop:"static",className:"index transaction",onHide:function(){return $.publish("transaction/submit")},actions:[{text:"Send",className:"btn-brand btn-pill",onClick:function(){$.publish("transaction/submit",!0);var t=this;setTimeout(t.hide)}}]},React.createElement("h2",null,"Sending a new payable transaction to Blockchain. Continue?")),React.createElement(Modal,{title:"Welcome!",ref:function(n){return t.walletModal=n},className:"index wallet"},React.createElement("h4",null,"Your Address:"),React.createElement("div",null,React.createElement("a",{target:"_blank",ref:function(n){return t.addressLink=$(n)}})," ",React.createElement("a",{href:"#",onClick:this.copyAddress},React.createElement("i",{className:"copy fa fa-file"}))),React.createElement("br",null),React.createElement("h4",null,"Your Private Key:"),React.createElement("div",null,React.createElement("span",{ref:function(n){return t.privateKeyLabel=$(n)}})," ",React.createElement("a",{href:"#",onClick:this.togglePrivateKey},React.createElement("i",{className:"copy fa fa-eye"}))," ",React.createElement("a",{href:"#",onClick:this.copyPrivateKey},React.createElement("i",{className:"copy fa fa-file"}))),React.createElement("br",null),React.createElement("br",null),React.createElement("h4",null,"Your wallet contains ",React.createElement("strong",null,React.createElement("span",{ref:function(n){return t.walletEth=n}})," eth")," and ",React.createElement("strong",null,React.createElement("span",{ref:function(n){return t.walletSeed=n}})," SEED")),React.createElement("br",null),client.persistenceManager.get(client.persistenceManager.PERSISTENCE_PROPERTIES.etherscanURL).indexOf("ropsten")===-1&&React.createElement("p",null,"You can purchase them on ",React.createElement("a",{href:"https://www.therocktrading.com",target:"_blank"},"TheRock Trading")),client.persistenceManager.get(client.persistenceManager.PERSISTENCE_PROPERTIES.etherscanURL).indexOf("ropsten")!==-1&&React.createElement("p",{className:"faucets"},React.createElement("a",{href:"https://faucet.ropsten.be",target:"_blank",onClick:this.openEthFaucet},"Get 1 Eth")," ",React.createElement("a",{href:"http://86.107.98.39/faucet?addr="+(client.userManager.user&&client.userManager.user.wallet||""),target:"_blank"},"Get 10000 SEEDs")),React.createElement("br",null),React.createElement("h2",null,"Owned Basket Tokens"),React.createElement("br",null),React.createElement("div",{ref:function(n){return t.ownedTokens=$(n)},className:"ownedTokens"})),React.createElement(Modal,{readonly:"false",backdrop:"static",keyboard:"false",title:"New Version of the SEEDVenture Client is available!",ref:this.checkDistDate,className:"index newVersionAvailableModel",actions:[{text:"Update",className:"btn-brand btn-pill",onClick:function(){var t=this;setTimeout(t.hide),client.updaterManager.download()}}]},React.createElement("h3",null,"It is recommended to always keep the client update. You can do in any moment.")),React.createElement(Modal,{ref:function(t){return t&&n.state&&n.state&&n.state.element!==Unlock&&n.state.element!==Choose&&!window.network&&setTimeout(t.show)&&(window.network=!0)},readonly:"true",backdrop:"static",keyboard:"false",actions:[{text:"OK",className:"btn-brand btn-pill",onClick:function(){var t=this;n.networkChooser.changeFactoryAddress(function(){t.hide(),n.forceUpdate()})}}]},React.createElement(NetworkChooser,{hideButton:"true",ref:function(n){return t.networkChooser=n}})))}});var MemberController=function(t){var n=this;n.view=t,n.enableMember=function(){function t(t,n){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e,t){var i,s,o,u;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i=new web3.eth.Contract(contracts.AdminTools),s=i.methods.isFundingOperator(client.userManager.user.wallet),a.next=4,client.blockchainManager.call(t.adminsToolsAddress,s.encodeABI());case 4:o=a.sent;try{o=web3.eth.abi.decodeParameters(["bool"],o)[0]}catch(f){o=!1}if(o===!0){a.next=9;break}return alert("Your user is not able to do this operation"),a.abrupt("return");case 9:return i=new web3.eth.Contract(contracts.FundingPanel),s=i.methods.enableMember(e.address),s=s.encodeABI(),n.view.emit("loader/hide"),a.next=15,client.userManager.signTransaction(t.fundingPanelAddress,s);case 15:u=a.sent,client.blockchainManager.sendSignedTransaction(u),setTimeout(function(){return n.view.emit("transaction/show",web3.utils.sha3(u))},700);case 18:case"end":return a.stop()}},r,this)}));return t}(),n.disableMember=function(){function t(t,n){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e,t){var i,s,o,u;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i=new web3.eth.Contract(contracts.AdminTools),s=i.methods.isFundingOperator(client.userManager.user.wallet),a.next=4,client.blockchainManager.call(t.adminsToolsAddress,s.encodeABI());case 4:o=a.sent;try{o=web3.eth.abi.decodeParameters(["bool"],o)[0]}catch(f){o=!1}if(o===!0){a.next=9;break}return alert("Your user is not able to perform this operation"),a.abrupt("return");case 9:return i=new web3.eth.Contract(contracts.FundingPanel),s=i.methods.disableMemberByMember(e.address),s=s.encodeABI(),n.view.emit("loader/hide"),a.next=15,client.userManager.signTransaction(t.fundingPanelAddress,s);case 15:u=a.sent,client.blockchainManager.sendSignedTransaction(u),setTimeout(function(){return n.view.emit("transaction/show",web3.utils.sha3(u))},700);case 18:case"end":return a.stop()}},r,this)}));return t}(),n.unlockAmount=function(){function t(t,n,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e,t,i){var s,o,u,a,f,l;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return s=new web3.eth.Contract(contracts.AdminTools),o=s.methods.isFundsUnlockerOperator(client.userManager.user.wallet),c.next=4,client.blockchainManager.call(t.adminsToolsAddress,o.encodeABI());case 4:u=c.sent;try{u=web3.eth.abi.decodeParameters(["bool"],u)[0]}catch(h){u=!1}if(u===!0){c.next=9;break}return alert("Your user is not able to perform this operation"),c.abrupt("return");case 9:return a=web3.utils.toWei(Utils.numberToString(i),"ether"),c.next=12,client.contractsManager.seedOf(t.fundingPanelAddress);case 12:f=c.sent;if(!(parseInt(f+"")<parseInt(a+""))){c.next=16;break}return alert("Not enough SEED to unlock"),c.abrupt("return");case 16:return s=new web3.eth.Contract(contracts.FundingPanel),o=s.methods.unlockFunds(e.address,a),o=o.encodeABI(),n.view.emit("loader/hide"),c.next=22,client.userManager.signTransaction(t.fundingPanelAddress,o);case 22:l=c.sent,client.blockchainManager.sendSignedTransaction(l),setTimeout(function(){return n.view.emit("transaction/show",web3.utils.sha3(l))},700);case 25:case"end":return c.stop()}},r,this)}));return t}()};var Member=React.createClass({displayName:"Member",getDefaultSubscriptions:function(){var t=this,n=this.props.element.position,r={};return r["fundingPanel/"+this.props.parent.position+"/member/"+n+"/updated"]=function(e){return t.setState({product:e})},r},edit:function(t){var n=this;t&&t.preventDefault()&&t.stopPropagation();var r=this,i=r.getProduct();if(!i.name||this.props.view==="mine"&&i.unavailable){alert("Please wait until data has been downloaded");return}this.emit("page/change",this.props.view==="mine"?EditFundingPool:Detail,{element:this.getProduct(),parent:this.props.parent,view:this.props.view},function(){return r.emit("product/set",n.getProduct())})},getProduct:function(){return this.state&&this.state.product||this.props.element},componentDidMount:function(){var t=this,n=this.getProduct();(!n.name||n.unavailable)&&client.contractsManager.getFundingPanelMemberData(n).then(function(e){return e&&e.name&&!e.unavailable&&t.setState({product:e})})},enableDisable:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=this.getProduct();this.controller[(n.disabled===0?"disable":"enable")+"Startup"](n,this.props.parent)},unlockFunds:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=0;try{n=Utils.cleanNumber(this.unlockAmount)}catch(t){}if(isNaN(n)||n<=0){alert("Unlock amount must be a number greater than 0");return}this.controller.unlockAmount(this.getProduct(),this.props.parent,n)},onClick:function(t){if(this.props.view==="mine")return;this.edit(t)},render:function(){var t=this,n=this.getProduct();return React.createElement("div",{className:"kt-portlet"+(this.props.view==="mine"?"":" selectable"),onClick:this.onClick},React.createElement("div",{className:"kt-portlet__head"},React.createElement("div",{className:"kt-portlet__head-label"},n.image&&React.createElement("img",{width:"50",height:"50",ref:function(n){return t.image=$(n)},src:n.image?"data:image/png;base64, "+n.image:""}),n.image&&"    ",React.createElement("h3",{className:"kt-portlet__head-title"},n.name||"New Startup"," ",n.url&&React.createElement("span",null," (",n.url,")"))),(!n.name||n.unavailable)&&React.createElement("div",{className:"retrieving"},React.createElement("div",{className:"retrievingContainer row"},React.createElement("div",{className:"label col-md-8"},"Updating info..."),React.createElement("div",{className:"spinner col-md-4"},React.createElement(Loader,null))))),React.createElement("div",{className:"kt-portlet__body"},React.createElement("dl",null,this.props.view==="mine"&&React.createElement("input",{type:"text",className:"form-control",placeholder:"Funds to unlock",ref:function(n){return t.unlockAmount=n},onChange:Utils.parseNumber})),this.props.parent.sticker&&React.createElement("div",{className:"sticker"},"Associated with ","    ",React.createElement("img",{width:"30",height:"30",src:"data:image/png;base64, "+this.props.parent.sticker}))),this.props.view==="mine"&&React.createElement("div",{className:"kt-portlet__foot"},React.createElement("button",{type:"button",className:"btn btn-brand btn-pill btn-elevate browse-btn tiny",onClick:this.enableDisable},n.disabled===0?"Disable":"Enable")," "," "," "," "," "," "," "," ",React.createElement("button",{type:"button",className:"btn btn-brand-secondary btn-pill btn-elevate browse-btn tiny",onClick:this.unlockFunds},"Unlock Funds")," "," "," "," "," "," "," "," ",n.name&&React.createElement("button",{type:"button",className:"btn btn-brand btn-pill btn-elevate browse-btn tiny",onClick:this.edit},"Edit")))}});var MembersController=function(t){var n=this;n.view=t};var Members=React.createClass({displayName:"Members",requiredModules:["spa/member"],getDefaultSubscriptions:function(){var t=this,n=this.getProduct().position,r={};return r["fundingPanel/"+n+"/updated"]=function(e){return t.setState({product:e})},r},getProduct:function(){return this.state&&this.state.product?this.state.product:this.props.element},getMembers:function(){var t=this.getProduct().members||{},n=[];for(var r in t)n.push(t[r]);n=Enumerable.From(n).Distinct(function(e){return e.position});try{this.props.view!=="mine"&&client.persistenceManager.get(client.persistenceManager.PERSISTENCE_PROPERTIES.zeroDocs)===!0&&n.Where(function(e){return e.documents&&e.documents.length>0})}catch(i){}if(this.state&&this.state.search){var s=this.state.search.toLowerCase();n=n.Where(function(e){return e.name.toLowerCase().indexOf(s)===0})}return n.ToArray()},search:function(t){t&&t.preventDefault()&&t.stopPropagation(),this.searchTimeout&&clearTimeout(this.searchTimeout);var n=this.searchBar,r=this;this.searchTimeout=setTimeout(function(){r.setState({search:n&&n.value})},300)},clearSearch:function(t){t&&t.preventDefault()&&t.stopPropagation(),this.searchBar.value="",this.search()},render:function(){var t=this,n=this.getProduct(),r=this.getMembers();return React.createElement("div",{className:"kt-grid__item kt-grid__item--fluid kt-grid kt-grid--ver kt-grid--stretch"},React.createElement("div",{className:"kt-container kt-body kt-grid kt-grid--ver",id:"kt_body"},React.createElement("div",{className:"kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor"},React.createElement("div",{className:"kt-content kt-grid__item kt-grid__item--fluid"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},React.createElement("div",{className:"searchBar"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-sm-10 separator"},React.createElement("input",{type:"text",placeholder:"Search...",onChange:this.search,ref:function(n){return t.searchBar=n}})),React.createElement("div",{className:"col-sm-2 clear"},React.createElement("a",{href:"#",className:"kt-subheader__breadcrumbs-home",onClick:this.clearSearch},React.createElement("i",{className:"fas fa-remove"}))))))),React.createElement("br",null),React.createElement("br",null),r.length===0&&React.createElement("h1",null,"No Startups right now"),r.length>0&&r.map(function(e,i){if(i!==0&&i%3!==0)return;return React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xl-4"},React.createElement(Member,{key:i+"",parent:n,element:e,view:t.props.view})),React.createElement("div",{className:"col-xl-4"},i+1<r.length&&React.createElement(Member,{key:i+1+"",parent:n,element:r[i+1],view:t.props.view})),React.createElement("div",{className:"col-xl-4"},i+2<r.length&&React.createElement(Member,{key:i+2+"",parent:n,element:r[i+2],view:t.props.view})))})))))}});var Modal=React.createClass({displayName:"Modal",requiredScripts:["assets/plugins/bootstrap-modal/css/bootstrap-modal-bs3patch.css","assets/plugins/bootstrap-modal/css/bootstrap-modal.css","assets/plugins/bootstrap-modal/js/bootstrap-modalmanager.js","assets/plugins/bootstrap-modal/js/bootstrap-modal.js"],renderActions:function(){var t=[];if(this.props.actions===undefined||this.props.actions===null||this.props.actions.length===0)return t;for(var n in this.props.actions){var r=this.props.actions[n],i=React.createElement("button",{type:"button",ref:r.ref,className:"btn btn-action"},r.text);r.className&&(i.props.className+=" "+r.className),r.langId&&(i.props["data-lang-id"]=r.langId),r.onClick&&(i.props.onClick=r.onClick.bind(this));if(r.props)for(var s in r.props)i.props[s]=r.props[s];t.push(i)}return t},close:function(){this.hide()},hide:function(){this.domRoot.modal("hide")},show:function(){this.domRoot.modal("show")},toggle:function(){this.domRoot.modal("toggle")},isVisible:function(){return this.domRoot.hasClass("in")},isHidden:function(){return!this.isVisible()},setTitle:function(t,n){this.setState({title:t,titleLangId:n})},componentDidUpdate:function(){window.onModalShow===undefined&&(window.onModalShow=function(){var t=$(this).findReactComponent();t&&t.props.onShow&&t.props.onShow()},$(document).on("shown.bs.modal","div.modal",window.onModalShow)),window.onModalHide===undefined&&(window.onModalHide=function(){var t=$(this).findReactComponent();t&&t.props.onHide&&t.props.onHide()},$(document).on("hide.bs.modal","div.modal",window.onModalHide))},componentDidMount:function(){this.componentDidUpdate()},render:function(){if(!$.fn.modal)return React.createElement("span",{style:{display:"none"}});var t=React.createElement("h4",{className:"modal-title"},this.state&&this.state.title||this.props.title);if(this.state&&this.state.titleLangId||this.props.titleLangId)t.props["data-lang-id"]=this.state&&this.state.titleLangId||this.props.titleLangId;var n=this.props.readonly===!0||this.props.readonly==="true",r=React.createElement("div",{className:"modal fade",tabindex:"-1","data-backdrop":this.props.backdrop,"data-keyboard":this.props.keyboard},React.createElement("div",{className:"modal-header"},n!==!0&&React.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-hidden":"true"}),t),React.createElement("div",{className:"modal-body"},this.props.children),React.createElement("div",{className:"modal-footer"},n!==!0&&React.createElement("button",{type:"button","data-dismiss":"modal",className:"btn btn-undo","data-lang-id":"close"},"Close"),this.renderActions()));return this.props.id&&(r.props.id=this.props.id),this.props.focusOn&&(r.props["data-focus-on"]=this.props.focusOn),this.props.className&&(r.props.className+=" "+this.props.className),r}});var NotificationHeaderController=function(t){var n=this;n.view=t};var NotificationHeader=React.createClass({displayName:"NotificationHeader",requiredModules:["spa/notification/list"],getDefaultSubscriptions:function(){return{"notifications/new":this.forceUpdate}},markAllNotificationsAsRead:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=this;Enumerable.From(n.getNotifications()).ForEach(function(e){return e.read=!0}),n.emit("notifications/new"),n.forceUpdate(function(){return n.notificationIcon.click()})},markAsReadNotification:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=this,r=$(t.target).attr("data-position"),i=client.contractsManager.getList()[r],s=parseInt($(t.target).attr("data-key"));try{Enumerable.From(i.notifications).Where(function(e){return e.blockNumber===s}).First().read=!0}catch(t){}return n.emit("notifications/new"),n.forceUpdate(function(){return n.notificationIcon.click()}),!1},select:function(t){t&&t.preventDefault()&&t.stopPropagation();if($(t.target).attr("data-return")==="true")return;var n=$(t.target).attr("data-position"),r=client.contractsManager.getList()[n];if(!r.name)return alert("Please wait until data has been downloaded");var i=parseInt($(t.target).attr("data-key"));try{Enumerable.From(r.notifications).Where(function(e){return e.blockNumber===i}).First().read=!0}catch(t){}this.emit("page/change",Detail,{element:r})},getNotifications:function(){var t=[];if(!client.userManager.user)return t;var n=!1;try{n=client.persistenceManager.get(client.persistenceManager.PERSISTENCE_PROPERTIES.notifyAll)===!0}catch(r){}var i=client.userManager.user.wallet.toLowerCase(),s=client.contractsManager.getArray();for(var o in s){var u=s[o];try{var a=!1;try{a=Enumerable.From(client.userManager.user.list).Any(function(e){return u.position===e})}catch(r){}if(!a)try{a=u.investors[i]&&u.investors[i]>0}catch(r){}Enumerable.From(u.notifications).Where(function(e){return n&&e.forAll||a}).Select(function(e){if(u.walletOnTop.toLowerCase()===i){var t=Enumerable.From(e.texts).Where(function(e){return e.indexOf("A new order of ")===0}).ToArray();return e.texts=t,t.length===0?undefined:e}return e}).Where(function(e){return e!==undefined}).ForEach(function(e){return t.push(e)})}catch(r){}}return Enumerable.From(t).Where(function(e){return e.blockNumber&&e.texts.length>0}).OrderByDescending(function(e){return e.blockNumber}).ToArray()},render:function(){var t=this,n=this.getNotifications()||[],r=Enumerable.From(n).Count(function(e){return e.read!==!0});return n=n.splice(0,5),React.createElement("div",{className:"kt-header__topbar-item dropdown"},React.createElement("div",{ref:function(n){return t.notificationIcon=$(n)},className:"kt-header__topbar-wrapper px-2","data-toggle":"dropdown","data-offset":"10px,0px","aria-expanded":"true"},React.createElement("span",null,React.createElement("i",{className:"fa fa-bell"})),React.createElement("span",{className:"kt-badge kt-badge--dot kt-badge--notify bg-secondary"},r)),React.createElement("div",{className:"dropdown-menu dropdown-menu-fit dropdown-menu-right dropdown-menu-anim dropdown-menu-top-unround dropdown-menu-lg","x-placement":"bottom-end"},n&&n.length>0&&React.createElement("div",{className:"kt-notification kt-margin-t-10 kt-scroll ps top"},React.createElement("span",{className:"notifications-title"},"Notifications"),React.createElement("a",{href:"javascript:;",className:"mark-all-as-read",onClick:this.markAllNotificationsAsRead},"Mark all as read")),n&&n.length===0&&React.createElement("span",null," "," "," ","No new notifications to show right now"),n&&n.length>0&&n.map(function(e){return React.createElement("div",{key:e.blockNumber,className:"kt-notification kt-margin-t-10 kt-scroll ps"},React.createElement("a",{href:"#","data-position":e.productPosition,"data-key":e.blockNumber,className:"kt-notification__item",onClick:t.select},React.createElement("div",{"data-position":e.productPosition,"data-key":e.blockNumber,className:"kt-notification__item-details"},React.createElement("div",{"data-position":e.productPosition,"data-key":e.blockNumber,className:"kt-notification__item-title"},React.createElement("ul",{className:"notifications","data-position":e.productPosition,"data-key":e.blockNumber},e.texts&&e.texts.length>0&&e.texts.map(function(t){return React.createElement("li",{"data-position":e.productPosition,"data-key":e.blockNumber},t)})))),React.createElement("div",{className:"kt-notification__item-icon"},e.read!==!0&&React.createElement("a",{href:"javascript:;","data-position":e.productPosition,"data-key":e.blockNumber,"data-return":"true",onClick:t.markAsReadNotification},React.createElement("i",{"data-key":e.blockNumber,"data-position":e.productPosition,"data-return":"true",className:"fa fa-check"})))))}),n&&n.length>0&&React.createElement("div",{className:"kt-notification kt-margin-t-10 kt-scroll ps bottom"},React.createElement("a",{href:"javascript:;",className:"view-all",onClick:function(){return t.emit("page/change",NotificationList)}},"View All"))))}});var NotificationListController=function(t){var n=this;n.view=t};var NotificationList=React.createClass({displayName:"NotificationList",getDefaultSubscriptions:function(){return{"notifications/new":this.forceUpdate}},markAllNotificationsAsRead:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=this;Enumerable.From(n.getNotifications()).ForEach(function(e){return e.read=!0}),n.emit("notifications/new"),n.forceUpdate()},markAsReadNotification:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=this,r=$(t.target).attr("data-position"),i=client.contractsManager.getList()[r],s=parseInt($(t.target).attr("data-key"));try{Enumerable.From(i.notifications).Where(function(e){return e.blockNumber===s}).First().read=!0}catch(t){}return n.emit("notifications/new"),n.forceUpdate(),!1},select:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=$(t.target).attr("data-position"),r=client.contractsManager.getList()[n];if(!r.name)return alert("Please wait until data has been downloaded");var i=parseInt($(t.target).attr("data-key"));try{Enumerable.From(r.notifications).Where(function(e){return e.blockNumber===i}).First().read=!0}catch(t){}this.emit("page/change",Detail,{element:r})},getNotifications:function(){var t=[];if(!client.userManager.user)return t;var n=client.persistenceManager.get(client.persistenceManager.PERSISTENCE_PROPERTIES.notifyAll)===!0,r=client.userManager.user.wallet.toLowerCase(),i=client.contractsManager.getArray();for(var s in i){var o=i[s];try{var u=!1;try{u=Enumerable.From(client.userManager.user.list).Any(function(e){return o.position===e})}catch(a){}if(!u)try{u=o.investors[r]&&o.investors[r]>0}catch(a){}Enumerable.From(o.notifications).Select(function(e){if(o.walletOnTop.toLowerCase()===r){var t=Enumerable.From(e.texts).Where(function(e){return e.indexOf("A new order of ")===0}).ToArray();return e.texts=t,t.length===0?undefined:e}return e}).Where(function(e){return e!==undefined}).Where(function(e){return n&&e.forAll||u}).ForEach(function(e){return t.push(e)})}catch(a){}}return Enumerable.From(t).Where(function(e){return e.blockNumber&&e.texts.length>0}).OrderByDescending(function(e){return e.blockNumber}).ToArray()},render:function(){var t=this,n=this.getNotifications()||[];return React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},n&&n.length>0&&React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-8"},React.createElement("h3",null,React.createElement("strong",null,Enumerable.From(n).Count(function(e){return e.read!==!0}))," New notifications to read")),React.createElement("div",{className:"col-md-4"},React.createElement("a",{href:"javascript:;",className:"mark-all-as-read",onClick:this.markAllNotificationsAsRead},React.createElement("h3",null,"Mark all as read")))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"}," ")),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"}," ")),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},n&&n.length===0&&React.createElement("h3",null,"No new notifications to show right now"),n&&n.length>0&&n.map(function(e){return React.createElement("div",{key:e.blockNumber,className:"row"},React.createElement("div",{"data-position":e.productPosition,"data-key":e.blockNumber,className:"col-md-10"},React.createElement("ul",{className:"notifications","data-position":e.productPosition,"data-key":e.blockNumber},e.texts&&e.texts.length>0&&e.texts.map(function(n){return React.createElement("li",{"data-position":e.productPosition,"data-key":e.blockNumber},React.createElement("a",{href:"javascript:;","data-position":e.productPosition,"data-key":e.blockNumber,onClick:t.select},React.createElement("h3",{"data-position":e.productPosition,"data-key":e.blockNumber},n)))}))),React.createElement("div",{className:"col-md-2"},e.read!==!0&&React.createElement("a",{href:"javascript:;","data-position":e.productPosition,"data-key":e.blockNumber,onClick:t.markAsReadNotification},React.createElement("h3",null,React.createElement("i",{"data-key":e.blockNumber,"data-position":e.productPosition,className:"fa fa-check"})))))})))))}});var PreferencesController=function(t){var n=this;n.view=t};var DocumentUploaderController=function(t){var n=this;n.view=t,n.changeDocumentUploader=function(){function t(t,n){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e,t){var i,s;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:client.persistenceManager.remove(client.persistenceManager.PERSISTENCE_PROPERTIES.documentsUploaderHost),t!==undefined&&t!==null&&t.trim()!==""&&client.persistenceManager.set(client.persistenceManager.PERSISTENCE_PROPERTIES.documentsUploaderHost,t.trim()),i=client.persistenceManager.set(client.persistenceManager.PERSISTENCE_PROPERTIES.documentsUploaderProvider,e),$('script[src*="'+i+'"]').each(function(){var e=$(this);e.attr("src").indexOf("data:text")===-1&&e.remove()}),o.prev=4,s=0;case 6:if(!(s<window.preloadedScripts.length)){o.next=13;break}if(i!==window.preloadedScripts[s]){o.next=10;break}return window.preloadedScripts.splice(s,1),o.abrupt("break",13);case 10:s++,o.next=6;break;case 13:o.next=17;break;case 15:o.prev=15,o.t0=o["catch"](4);case 17:return o.next=19,client.documentsUploaderManager.newProvider();case 19:client.persistenceManager.set(client.persistenceManager.PERSISTENCE_PROPERTIES.documentsUploaderProviderSet,!0),n.view.props.onClick&&n.view.props.onClick();case 21:case"end":return o.stop()}},r,this,[[4,15]])}));return t}()};var DocumentUploader=React.createClass({displayName:"DocumentUploader",urlRegex:new RegExp(/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})/gi),onChange:function(t){t&&t.preventDefault()&&t.stopPropagation(),this.documentUploaderLink.value="",this.documentUploaderLink.style.display=t.target.value.indexOf("ipfs")===-1?"block":"none"},changeDocumentUploader:function(t){t&&t.preventDefault()&&t.stopPropagation();var n="";try{n=this.documentUploaderType.value||ecosysyemData.documentUploaderProvider}catch(r){}var i="";if(n.indexOf("ipfs")===-1){try{i=this.documentUploaderLink.value.split(" ").join("").toLowerCase()}catch(r){}if(i===""){alert("Please, insert a valid URL");return}if(i.indexOf("http://")!==0&&i.indexOf("https://")!==0){alert("URL must start with http:// or https://");return}if(!i.match(this.urlRegex)){alert("Invalid URL format");return}}var s=this;s.controller.changeDocumentUploader(n,i).then(s.showUpdated)},showUpdated:function(){var t=this;setTimeout(function(){return t.updateNotification.show()}),setTimeout(function(){return t.updateNotification.hide()},2e3)},componentDidMount:function(){try{this.documentUploaderLink.style.display=client.persistenceManager.get(client.persistenceManager.PERSISTENCE_PROPERTIES.documentsUploaderProvider).indexOf("ipfs")===-1?"block":"none"}catch(t){}},render:function(){var t=this;return React.createElement("form",{className:"kt-form",action:""},!this.props.onClick&&React.createElement("legend",null,"Documents Location Preferences"),React.createElement("div",{className:"form-group mb-5"},React.createElement("select",{onChange:this.onChange,ref:function(n){return t.documentUploaderType=n}},React.createElement("option",{value:"assets/scripts/documents.uploader.provider.ipfs.http.js",selected:client.persistenceManager.get(client.persistenceManager.PERSISTENCE_PROPERTIES.documentsUploaderProvider).indexOf("ipfs")!==-1},"IPFS"),React.createElement("option",{value:"assets/scripts/documents.uploader.provider.http.js",selected:client.persistenceManager.get(client.persistenceManager.PERSISTENCE_PROPERTIES.documentsUploaderProvider).indexOf("ipfs")===-1},"CUSTOM"))),React.createElement("div",{className:"form-group mb-5"},React.createElement("input",{className:"form-control form-control-last",type:"text",placeholder:"Link must start with http:// or https://",ref:function(n){return(t.documentUploaderLink=n)&&(t.documentUploaderLink.value=client.persistenceManager.get(client.persistenceManager.PERSISTENCE_PROPERTIES.documentsUploaderHost))}})),React.createElement("div",{className:"form-group mb-5"},React.createElement("button",{className:"btn btn-brand btn-pill btn-elevate browse-btn",onClick:this.changeDocumentUploader},"Change Document Uploader")," "," "," ",React.createElement("span",{ref:function(n){return(t.updateNotification=$(n)).hide()}},"Changes Updated")))}});var NetworkChooserController=function(t){var n=this;n.view=t,n.changeFactoryAddress=function(){function t(t,n,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e,t,i){return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:try{delete client.userManager.user.list,delete client.userManager.user.tradeNotifications}catch(o){}return client.configurationManager.forget(client.configurationManager.encryptedUser),client.persistenceManager.set(client.persistenceManager.PERSISTENCE_PROPERTIES.web3URL,e),client.persistenceManager.set(client.persistenceManager.PERSISTENCE_PROPERTIES.etherscanURL,t),client.persistenceManager.set(client.persistenceManager.PERSISTENCE_PROPERTIES.factoryAddress,i),s.next=7,client.blockchainManager.newProvider();case 7:return s.next=9,client.contractsManager.checkBaskets();case 9:client.userManager.getBalances(),n.view.emit("network/switch");case 11:case"end":return s.stop()}},r,this)}));return t}()};var NetworkChooser=React.createClass({displayName:"NetworkChooser",changeFactoryAddress:function(t){t&&t.preventDefault&&t.preventDefault()&&t.stopPropagation&&t.stopPropagation();var n=$(this.blockchainNetwork).val()==="mainnet",r="wss://"+(n?"main":"test")+"net.seedventure.io",i="https://"+(n?"":"ropsten.")+"etherscan.io/";try{r=n?ecosystemData.mainnetWeb3URL:ecosystemData.testnetWeb3URL,i=n?ecosystemData.mainnetEtherscanURL:ecosystemData.testnetEtherscanURL}catch(t){}var s=this.factoryAddress.value;s=s.split(" ").join("");if(s===""){alert("You must provide a new Factory Address");return}if(!Utils.isEthereumAddress(s)){alert("You must provide a valid ethereum address");return}if(r.toLowerCase()===client.persistenceManager.get(client.persistenceManager.PERSISTENCE_PROPERTIES.web3URL).toLowerCase()&&s.toLowerCase()===client.persistenceManager.get(client.persistenceManager.PERSISTENCE_PROPERTIES.factoryAddress).toLowerCase()){typeof t=="function"&&t();return}var o=this;this.emit("loader/show","Switching to new Environment..."),o.controller.changeFactoryAddress(r,i,s).then(o.showUpdated).then(function(){typeof t=="function"&&t()})},showUpdated:function(){this.emit("loader/hide");if(this.props.hideButton==="true")return;var t=this;setTimeout(function(){return t.updateNotification.show()}),setTimeout(function(){return t.updateNotification.hide()&&t.emit("page/change")},1300)},onNetworkChange:function(t){t&&t.preventDefault()&&t.stopPropagation();try{this.factoryAddress.value=t.target.value==="mainnet"?ecosystemData.mainnetFactoryAddress:ecosystemData.testnetFactoryAddress}catch(t){}},render:function(){var t=this;return React.createElement("form",{className:"kt-form",action:""},React.createElement("legend",null,"Blockchain Preferences"),React.createElement("div",{className:"form-group mb-5"},React.createElement("div",{className:"input-container"},React.createElement("h3",null,"Choose your network:"),React.createElement("select",{ref:function(n){return t.blockchainNetwork=n},onChange:this.onNetworkChange},React.createElement("option",{value:"mainnet",selected:client.persistenceManager.get(client.persistenceManager.PERSISTENCE_PROPERTIES.web3URL).indexOf("mainnet")!==-1},"Main Network"),React.createElement("option",{value:"testnet",selected:this.props.hideButton==="true"||client.persistenceManager.get(client.persistenceManager.PERSISTENCE_PROPERTIES.web3URL).indexOf("testnet")!==-1},"Test Network (Ropsten)")))),React.createElement("div",{className:"form-group mb-5"},React.createElement("div",{className:"input-container"},React.createElement("h3",null,"Main Factory Address:"),React.createElement("input",{ref:function(n){return(t.factoryAddress=n)&&(t.factoryAddress.value=t.props.hideButton==="true"&&ecosystemData.testnetFactoryAddress||client.persistenceManager.get(client.persistenceManager.PERSISTENCE_PROPERTIES.factoryAddress))},type:"text",className:"form-control form-control-last",placeholder:"New Factory Address"}))),this.props.hideButton!=="true"&&React.createElement("div",{className:"form-group mb-5"},React.createElement("div",null,React.createElement("button",{className:"btn btn-brand btn-pill btn-elevate browse-btn",onClick:this.changeFactoryAddress},"Change")," "," "," ",React.createElement("span",{ref:function(n){return(t.updateNotification=$(n)).hide()}},"Changes Updated"))))}});var Preferences=React.createClass({displayName:"Preferences",requiredModules:["spa/preferences/documentUploader","spa/preferences/networkChooser"],title:"System Preferences",componentDidMount:function(){this.updateNavLinks()},updateNavLinks:function(){this.domRoot.children().find(".active").removeClass("active"),this.domRoot.children().find("a.nav-link").click(function(){$($(this).parents(".nav-tabs")).children().find("a.nav-link").removeClass("active"),$(this).addClass("active")}),this.domRoot.children().find("ul.nav-tabs").children("li.nav-item:first-of-type").children("a.nav-link").click();var t=client.persistenceManager.get(client.persistenceManager.PERSISTENCE_PROPERTIES.notifyAll)===!0;this.domRoot.children().find('input[name="all"][value="'+t+'"]').prop("checked",!0)},notificationSettingsChanged:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=this;n.domRoot.children().find('input[name="all"]').prop("checked",!1);var r=$(t.target).prop("checked",!0);client.persistenceManager.set(client.persistenceManager.PERSISTENCE_PROPERTIES.notifyAll,t.target.value==="true"),setTimeout(function(){n.domRoot.children().find('input[name="all"]').prop("checked",!1),r.prop("checked",!0)})},incubatorChooseRef:function(t){if(!t)return;try{t.checked=client.persistenceManager.get(client.persistenceManager.PERSISTENCE_PROPERTIES[t.id])===!0}catch(n){}},incubatorChoose:function(t){try{client.persistenceManager.set(client.persistenceManager.PERSISTENCE_PROPERTIES[t.target.id],t.target.checked===!0)}catch(t){}},render:function(){return React.createElement("div",{className:"kt-content kt-grid__item kt-grid__item--fluid"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xl-12 mt-5"},React.createElement("ul",{className:"nav nav-tabs nav-tabs-line nav-tabs-bold nav-tabs-line-3x mb-5",role:"tablist"},React.createElement("li",{className:"nav-item"},React.createElement("a",{className:"nav-link","data-toggle":"tab",href:"#incubators",role:"tab"},React.createElement("i",{className:"far fa-user mr-2"}),"Incubators")),client.configurationManager.hasUnlockedUser()&&React.createElement("li",{className:"nav-item"},React.createElement("a",{className:"nav-link","data-toggle":"tab",href:"#documents",role:"tab"},React.createElement("i",{className:"far fa-hdd mr-2"}),"Documents Uploader")),React.createElement("li",{className:"nav-item"},React.createElement("a",{className:"nav-link","data-toggle":"tab",href:"#blockchain",role:"tab"},React.createElement("i",{className:"far fa-ethereum mr-2"}),"Blockchain")),client.configurationManager.hasUnlockedUser()&&React.createElement("li",{className:"nav-item"},React.createElement("a",{className:"nav-link","data-toggle":"tab",href:"#notifications",role:"tab"},React.createElement("i",{className:"far fa-bell mr-2"}),"Notifications"))),React.createElement("div",{className:"tab-content"},React.createElement("div",{className:"tab-pane",id:"incubators",role:"tabpanel"},React.createElement("legend",null,"Incubators"),React.createElement("h3",null,React.createElement("label",{"for":"zeroStartups"},React.createElement("input",{id:"zeroStartups",type:"checkbox",onChange:this.incubatorChoose,ref:this.incubatorChooseRef})," "," "," Hide 0-Startups Baskets")),React.createElement("h3",null,React.createElement("label",{"for":"zeroURL"},React.createElement("input",{id:"zeroURL",type:"checkbox",onChange:this.incubatorChoose,ref:this.incubatorChooseRef})," "," "," Hide Baskets without URL")),React.createElement("h3",null,React.createElement("label",{"for":"zeroDocs"},React.createElement("input",{id:"zeroDocs",type:"checkbox",onChange:this.incubatorChoose,ref:this.incubatorChooseRef})," "," "," Hide 0-Docs Startups")),!1),client.configurationManager.hasUnlockedUser()&&React.createElement("div",{className:"tab-pane",id:"documents",role:"tabpanel"},React.createElement(DocumentUploader,null)),React.createElement("div",{className:"tab-pane",id:"blockchain",role:"tabpanel"},React.createElement(NetworkChooser,null)),React.createElement("div",{className:"tab-pane",id:"notifications",role:"tabpanel"},React.createElement("legend",null,"Receive Notifications"),React.createElement("h3",null,React.createElement("label",null,React.createElement("input",{name:"all",type:"radio",value:"true",onChange:this.notificationSettingsChanged})," "," "," For every incubator")),React.createElement("h3",null,React.createElement("label",null,React.createElement("input",{name:"all",type:"radio",value:"false",onChange:this.notificationSettingsChanged})," "," "," Just for incubators I starred or I've invested in")))))))}});var ProductController=function(t){var n=this;n.view=t,n.makeUnsuitable=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function n(e){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,client.contractsManager.FundingPanel.setNewSeedMaxSupply(e.fundingPanelAddress,0,"Make Basket Unsuitable");case 2:case"end":return n.stop()}},n,this)}));return t}()};var Product=React.createClass({displayName:"Product",requiredModules:["spa/detail","spa/fundingPool/edit"],onClick:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=this.getProduct();if(!n.name||this.props.view==="mine"&&n.unavailable){alert("Please wait until data has been downloaded");return}this.emit("page/change",this.props.view==="mine"?EditFundingPool:Detail,{element:this.getProduct(),view:this.props.view})},getDefaultSubscriptions:function(){var t=this,n=this.props.element.position,r={};return r["fundingPanel/"+n+"/updated"]=function(e){return t.setState({product:e})},r},getProduct:function(){return this.state&&this.state.product?this.state.product:this.props.element},componentDidMount:function(){this.tryUpdateProduct()},componentDidUpdate:function(){this.tryUpdateProduct()},tryUpdateProduct:function(){var t=this,n=t.getProduct();(!n.name||n.unavailable)&&client.contractsManager.getFundingPanelData(n).then(function(e){return e&&e.name&&!e.unavailable&&t.setState({product:e},function(){return t.emit("products/search")})})},makeUnsuitable:function(t){t&&t.preventDefault()&&t.stopPropagation(),this.controller.makeUnsuitable(this.getProduct())},render:function(){var t=this,n=this.getProduct();return React.createElement("div",{className:"kt-portlet",onClick:this.onClick},React.createElement("div",{className:"kt-portlet__head"},React.createElement("div",{className:"kt-portlet__head-label"},n.image&&React.createElement("img",{width:"50",height:"50",ref:function(n){return t.image=$(n)},src:n.image?"data:image/png;base64, "+n.image:""}),n.image&&"    ",React.createElement("h3",{className:"kt-portlet__head-title"},n.name," ",n.symbol&&(n.name?"(":"")+n.symbol+(n.name?")":""))),(!n.name||n.unavailable)&&React.createElement("div",{className:"retrieving"},React.createElement("div",{className:"retrievingContainer row"},React.createElement("div",{className:"label col-md-8"},"Updating info..."),React.createElement("div",{className:"spinner col-md-4"},React.createElement(Loader,null))))),React.createElement("div",{className:"kt-portlet__body"},React.createElement("dl",null,n.url&&[React.createElement("dt",null,"URL"),React.createElement("dd",null,React.createElement("h4",null,n.url)),React.createElement("br",null)],React.createElement("dt",null,"Latest Quotation:"),React.createElement("dd",{className:"text-cta"},n.value&&n.value>0?Utils.roundWei(n.value):Utils.numberToString(1/Utils.toEther(n.seedRate),!0)," SEED"),React.createElement("br",null),React.createElement("dt",null,"Total Raised:"),React.createElement("dd",{className:"text-cta"},Utils.roundWei(n.totalRaised)," SEED"),this.props.view==="mine"&&[React.createElement("span",null," "," "," "," "),React.createElement("dd",null,React.createElement("button",{className:"btn btn-pill micro btn-brand",onClick:this.makeUnsuitable},"Make Unsuitable"))]),n.sticker&&React.createElement("div",{className:"sticker"},"Associated with ","    ",React.createElement("img",{width:"30",height:"30",src:"data:image/png;base64, "+n.sticker}))))}});var ProductsController=function(t){var n=this;n.view=t,n.loadProducts=function(){n.view.setState({products:client.contractsManager.getList()})}};var Products=React.createClass({displayName:"Products",requiredModules:["spa/product"],getDefaultSubscriptions:function(){return{"list/updated":this.controller.loadProducts,"products/search":this.search}},componentDidMount:function(){this.controller.loadProducts()},getProductsArray:function(t){var n=this,r=[];if(this.state&&this.state.products){var i=this.state.products;Object.keys(i).filter(function(e){return(e<43||e>51)&&(e<39||e>40)&&(e<34||e>34)}).map(function(e){var t=i[e];try{if(n.props.view==="mine"&&t.owner.toLowerCase()!==client.userManager.user.wallet.toLowerCase())return}catch(s){}r.push(t)})}this.props.view!=="mine"&&(r=Enumerable.From(r).Where(function(e){return e.totalSupply===undefined||parseInt(e.totalSupply)>0}).OrderByDescending(function(e){return parseInt(e.position)}).ToArray());try{this.props.view!=="mine"&&client.persistenceManager.get(client.persistenceManager.PERSISTENCE_PROPERTIES.zeroStartups)===!0&&(r=Enumerable.From(r).Where(function(e){return e.members&&Object.keys(e.members).length>0}).OrderByDescending(function(e){return parseInt(e.position)}).ToArray()),this.props.view!=="mine"&&client.persistenceManager.get(client.persistenceManager.PERSISTENCE_PROPERTIES.zeroURL)===!0&&(r=Enumerable.From(r).Where(function(e){return e.url&&e.url!==""}).OrderByDescending(function(e){return parseInt(e.position)}).ToArray())}catch(s){}this.props.view==="mine"&&(r=Enumerable.From(r).OrderByDescending(function(e){return parseInt(e.position)}).ToArray());var o=this.state&&this.state.search;return o&&(o=o.toLowerCase()),o&&t!==!0&&(r=Enumerable.From(r).Where(function(e){return e.fundingPanelAddress&&e.fundingPanelAddress.toLowerCase().indexOf(o)!==-1?!0:e.name&&e.name.toLowerCase().indexOf(o)!==-1?!0:e.symbol&&e.symbol.toLowerCase().indexOf(o)!==-1?!0:e.tags&&e.tags.length>0&&Enumerable.From(e.tags).Any(function(e){return e.toLowerCase().indexOf(o)!==-1})?!0:!1}).ToArray()),r},search:function(t){t&&t.preventDefault()&&t.stopPropagation(),this.searchTimeout&&clearTimeout(this.searchTimeout);var n=t&&t.target,r=this;this.searchTimeout=setTimeout(function(){r.setState({search:n&&n.value})},300)},render:function(){var t=this,n=this.getProductsArray();if(n.length===0){n=this.getProductsArray(!0);if(n.length===0)return this.props.view==="mine"?[React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},React.createElement("h2",{style:{"text-align":"center"}},"No baskets right now. You can ",React.createElement("a",{href:"javascript:;",onClick:function(){return t.emit("page/change",CreateFundingPool,{view:"mine"})}},"create a new one"),".")))]:[React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},React.createElement(Loader,{size:"x2"}))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},React.createElement("h2",{style:{"text-align":"center"}},"Reaching new Baskets from the Blockchain...")))];n=this.getProductsArray()}return React.createElement("div",{className:"kt-grid__item kt-grid__item--fluid kt-grid kt-grid--ver kt-grid--stretch"},React.createElement("div",{className:"kt-container kt-body kt-grid kt-grid--ver",id:"kt_body"},React.createElement("div",{className:"kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor"},React.createElement("div",{className:"kt-content kt-grid__item kt-grid__item--fluid"},n.map(function(e,r){if(r!==0&&r%3!==0)return;return React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xl-4"},React.createElement(Product,{key:e.position+e.documentUrl,element:e,view:t.props.view})),React.createElement("div",{className:"col-xl-4"},r+1<n.length&&React.createElement(Product,{key:n[r+1].position+n[r+1].documentUrl,element:n[r+1],view:t.props.view})),React.createElement("div",{className:"col-xl-4"},r+2<n.length&&React.createElement(Product,{key:n[r+2].position+n[r+2].documentUrl,element:n[r+2],view:t.props.view})))})))))}});var UnlockController=function(t){var n=this;n.view=t,n.tryUnlock=function(t){try{return client.configurationManager.unlockUser(t)}catch(n){return!1}return!0}};var Unlock=React.createClass({displayName:"Unlock",requiredModules:["spa/choose"],unlock:function(t){t&&t.preventDefault()&&t.stopPropagation();var n=this.password.value;if(n===""){alert("Please, insert password");return}!this.controller.tryUnlock(n)&&alert("Password is wrong")},askForget:function(t){t&&t.preventDefault()&&t.stopPropagation(),this.emit("user/askForget")},render:function(){var t=this;return React.createElement("div",{className:"kt-grid kt-grid--hor kt-grid--root kt-login kt-login--v6 kt-login--signin",id:"kt_login"},React.createElement("div",{className:"kt-grid__item kt-grid__item--fluid kt-grid kt-grid--desktop kt-grid--ver-desktop kt-grid--hor-tablet-and-mobile"},React.createElement("div",{className:"kt-grid__item  kt-grid__item--order-tablet-and-mobile-2  kt-grid kt-grid--hor kt-login__aside"},React.createElement("div",{className:"kt-login__wrapper"},React.createElement("div",{className:"kt-login__container"},React.createElement("div",{className:"kt-login__body"},React.createElement("div",{className:"kt-login__signin"},React.createElement("div",{className:"kt-login__head"},React.createElement("br",null),React.createElement("img",{src:"./assets/favicon.png",width:"100",height:"100"}),React.createElement("br",null),React.createElement("br",null),React.createElement("h3",{className:"kt-login__title"},"Please, type your password to unlock your account")),React.createElement("div",{className:"kt-login__form"},React.createElement("form",{className:"kt-form",action:""},React.createElement("div",{className:"form-group"},React.createElement("input",{className:"form-control form-control-last",type:"password",placeholder:"Password",name:"password",ref:function(n){return t.password=n}})),React.createElement("div",{className:"kt-login__actions"},React.createElement("button",{id:"kt_login_signin_submit",className:"btn btn-brand btn-pill btn-elevate",onClick:this.unlock},"Unlock"),React.createElement("button",{className:"btn btn-secondary btn-pill",onClick:this.askForget},"Forget"))))))))),React.createElement("div",{className:"welcome-page kt-grid__item kt-grid__item--fluid kt-grid__item--center kt-grid kt-grid--ver kt-login__content"},React.createElement("div",{className:"kt-login__section"},React.createElement("div",{className:"kt-login__block"},React.createElement("h3",{className:"kt-login__pretitle"},"Welcome to"),React.createElement("h3",{className:"kt-login__title"},"SEED Venture"),React.createElement("br",null),React.createElement("img",{src:"./assets/icon_contrast.svg",width:"100",height:"100"}),React.createElement("br",null),React.createElement("div",{className:"kt-login__desc"},"The first decentralized",React.createElement("br",null),"venture capital investment platform"))))))}});window.distDate=1599497825696;!window.preloadedScripts && (window.preloadedScripts=[]);Array.prototype.push.apply(window.preloadedScripts,['spa/choose/controller.jsx','spa/choose/style.min.css','spa/choose/view.jsx','spa/configuration/backup/controller.jsx','spa/configuration/backup/style.min.css','spa/configuration/backup/view.jsx','spa/configuration/create/controller.jsx','spa/configuration/create/style.min.css','spa/configuration/create/view.jsx','spa/configuration/import/controller.jsx','spa/configuration/import/style.min.css','spa/configuration/import/view.jsx','spa/configuration/move/controller.jsx','spa/configuration/move/style.min.css','spa/configuration/move/view.jsx','spa/detail/controller.jsx','spa/detail/style.min.css','spa/detail/view.jsx','spa/dex/controller.jsx','spa/dex/style.min.css','spa/dex/view.jsx','spa/fundingPool/create/controller.jsx','spa/fundingPool/create/style.min.css','spa/fundingPool/create/view.jsx','spa/fundingPool/edit/controller.jsx','spa/fundingPool/edit/style.min.css','spa/fundingPool/edit/view.jsx','spa/header/controller.jsx','spa/header/style.min.css','spa/header/view.jsx','spa/index/controller.jsx','spa/index/style.min.css','spa/index/view.jsx','spa/member/controller.jsx','spa/member/style.min.css','spa/member/view.jsx','spa/members/controller.jsx','spa/members/style.min.css','spa/members/view.jsx','spa/modal.jsx','spa/notification/header/controller.jsx','spa/notification/header/style.min.css','spa/notification/header/view.jsx','spa/notification/list/controller.jsx','spa/notification/list/style.min.css','spa/notification/list/view.jsx','spa/preferences/controller.jsx','spa/preferences/documentUploader/controller.jsx','spa/preferences/documentUploader/style.min.css','spa/preferences/documentUploader/view.jsx','spa/preferences/networkChooser/controller.jsx','spa/preferences/networkChooser/style.min.css','spa/preferences/networkChooser/view.jsx','spa/preferences/style.min.css','spa/preferences/view.jsx','spa/product/controller.jsx','spa/product/style.min.css','spa/product/view.jsx','spa/products/controller.jsx','spa/products/style.min.css','spa/products/view.jsx','spa/unlock/controller.jsx','spa/unlock/style.min.css','spa/unlock/view.jsx']);